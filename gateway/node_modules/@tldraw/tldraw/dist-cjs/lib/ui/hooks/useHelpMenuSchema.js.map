{
  "version": 3,
  "sources": ["../../../../src/lib/ui/hooks/useHelpMenuSchema.tsx"],
  "sourcesContent": ["import { Editor, TLLanguage, compact, track, useEditor } from '@tldraw/editor'\nimport React, { useMemo } from 'react'\nimport { KeyboardShortcutsDialog } from '../components/KeyboardShortcutsDialog'\nimport { TLUiMenuSchema, menuCustom, menuGroup, menuItem } from './menuHelpers'\nimport { useActions } from './useActions'\nimport { useDialogs } from './useDialogsProvider'\nimport { useLanguages } from './useTranslation/useLanguages'\n\n/** @public */\nexport type TLUiHelpMenuSchemaContextType = TLUiMenuSchema\n\n/** @internal */\nexport const HelpMenuSchemaContext = React.createContext({} as TLUiHelpMenuSchemaContextType)\n\n/** @public */\nexport type TLUiHelpMenuSchemaProviderProps = {\n\toverrides?: (\n\t\teditor: Editor,\n\t\tschema: TLUiHelpMenuSchemaContextType,\n\t\thelpers: {\n\t\t\tactions: ReturnType<typeof useActions>\n\t\t\tlanguages: readonly TLLanguage[]\n\t\t\tcurrentLanguage: string\n\t\t\toneSelected: boolean\n\t\t\ttwoSelected: boolean\n\t\t\tthreeSelected: boolean\n\t\t}\n\t) => TLUiHelpMenuSchemaContextType\n\tchildren: any\n}\n\n/** @internal */\nexport const HelpMenuSchemaProvider = track(function HelpMenuSchemaProvider({\n\toverrides,\n\tchildren,\n}: TLUiHelpMenuSchemaProviderProps) {\n\tconst editor = useEditor()\n\tconst actions = useActions()\n\n\tconst selectedCount = editor.getSelectedShapeIds().length\n\n\tconst oneSelected = selectedCount > 0\n\tconst twoSelected = selectedCount > 1\n\tconst threeSelected = selectedCount > 2\n\n\tconst { languages, currentLanguage } = useLanguages()\n\tconst { addDialog } = useDialogs()\n\n\tconst helpTLUiMenuSchema = useMemo<TLUiMenuSchema>(() => {\n\t\tconst helpTLUiMenuSchema = compact([\n\t\t\tmenuGroup(\n\t\t\t\t'top',\n\t\t\t\tmenuCustom('LANGUAGE_MENU', { readonlyOk: true }),\n\t\t\t\tmenuItem({\n\t\t\t\t\tid: 'keyboard-shortcuts',\n\t\t\t\t\tlabel: 'help-menu.keyboard-shortcuts',\n\t\t\t\t\treadonlyOk: true,\n\t\t\t\t\tonSelect() {\n\t\t\t\t\t\taddDialog({ component: KeyboardShortcutsDialog })\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t),\n\t\t])\n\n\t\tif (overrides) {\n\t\t\treturn overrides(editor, helpTLUiMenuSchema, {\n\t\t\t\tactions,\n\t\t\t\tcurrentLanguage,\n\t\t\t\tlanguages,\n\t\t\t\toneSelected,\n\t\t\t\ttwoSelected,\n\t\t\t\tthreeSelected,\n\t\t\t})\n\t\t}\n\n\t\treturn helpTLUiMenuSchema\n\t}, [\n\t\teditor,\n\t\toverrides,\n\t\tlanguages,\n\t\tactions,\n\t\toneSelected,\n\t\ttwoSelected,\n\t\tthreeSelected,\n\t\tcurrentLanguage,\n\t\taddDialog,\n\t])\n\n\treturn (\n\t\t<HelpMenuSchemaContext.Provider value={helpTLUiMenuSchema}>\n\t\t\t{children}\n\t\t</HelpMenuSchemaContext.Provider>\n\t)\n})\n\n/** @public */\nexport function useHelpMenuSchema(): TLUiMenuSchema {\n\tconst ctx = React.useContext(HelpMenuSchemaContext)\n\n\tif (!ctx) {\n\t\tthrow new Error('useHelpMenuSchema must be used inside of a helpTLUiMenuSchemaProvider.')\n\t}\n\n\treturn ctx\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyFE;AAzFF,oBAA8D;AAC9D,mBAA+B;AAC/B,qCAAwC;AACxC,yBAAgE;AAChE,wBAA2B;AAC3B,gCAA2B;AAC3B,0BAA6B;AAMtB,MAAM,wBAAwB,aAAAA,QAAM,cAAc,CAAC,CAAkC;AAoBrF,MAAM,6BAAyB,qBAAM,SAASC,wBAAuB;AAAA,EAC3E;AAAA,EACA;AACD,GAAoC;AACnC,QAAM,aAAS,yBAAU;AACzB,QAAM,cAAU,8BAAW;AAE3B,QAAM,gBAAgB,OAAO,oBAAoB,EAAE;AAEnD,QAAM,cAAc,gBAAgB;AACpC,QAAM,cAAc,gBAAgB;AACpC,QAAM,gBAAgB,gBAAgB;AAEtC,QAAM,EAAE,WAAW,gBAAgB,QAAI,kCAAa;AACpD,QAAM,EAAE,UAAU,QAAI,sCAAW;AAEjC,QAAM,yBAAqB,sBAAwB,MAAM;AACxD,UAAMC,0BAAqB,uBAAQ;AAAA,UAClC;AAAA,QACC;AAAA,YACA,+BAAW,iBAAiB,EAAE,YAAY,KAAK,CAAC;AAAA,YAChD,6BAAS;AAAA,UACR,IAAI;AAAA,UACJ,OAAO;AAAA,UACP,YAAY;AAAA,UACZ,WAAW;AACV,sBAAU,EAAE,WAAW,uDAAwB,CAAC;AAAA,UACjD;AAAA,QACD,CAAC;AAAA,MACF;AAAA,IACD,CAAC;AAED,QAAI,WAAW;AACd,aAAO,UAAU,QAAQA,qBAAoB;AAAA,QAC5C;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACD,CAAC;AAAA,IACF;AAEA,WAAOA;AAAA,EACR,GAAG;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD,CAAC;AAED,SACC,4CAAC,sBAAsB,UAAtB,EAA+B,OAAO,oBACrC,UACF;AAEF,CAAC;AAGM,SAAS,oBAAoC;AACnD,QAAM,MAAM,aAAAF,QAAM,WAAW,qBAAqB;AAElD,MAAI,CAAC,KAAK;AACT,UAAM,IAAI,MAAM,wEAAwE;AAAA,EACzF;AAEA,SAAO;AACR;",
  "names": ["React", "HelpMenuSchemaProvider", "helpTLUiMenuSchema"]
}
