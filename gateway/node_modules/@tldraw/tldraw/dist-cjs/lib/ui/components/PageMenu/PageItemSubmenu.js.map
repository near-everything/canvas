{
  "version": 3,
  "sources": ["../../../../../src/lib/ui/components/PageMenu/PageItemSubmenu.tsx"],
  "sourcesContent": ["import * as DropdownMenu from '@radix-ui/react-dropdown-menu'\nimport { MAX_PAGES, PageRecordType, TLPageId, track, useEditor } from '@tldraw/editor'\nimport { useCallback } from 'react'\nimport { useTranslation } from '../../hooks/useTranslation/useTranslation'\nimport { Button } from '../primitives/Button'\nimport * as M from '../primitives/DropdownMenu'\nimport { onMovePage } from './edit-pages-shared'\n\nexport interface PageItemSubmenuProps {\n\tindex: number\n\titem: { id: string; name: string }\n\tlistSize: number\n\tonRename?: () => void\n}\n\nexport const PageItemSubmenu = track(function PageItemSubmenu({\n\tindex,\n\tlistSize,\n\titem,\n\tonRename,\n}: PageItemSubmenuProps) {\n\tconst editor = useEditor()\n\tconst msg = useTranslation()\n\tconst pages = editor.getPages()\n\n\tconst onDuplicate = useCallback(() => {\n\t\teditor.mark('creating page')\n\t\tconst newId = PageRecordType.createId()\n\t\teditor.duplicatePage(item.id as TLPageId, newId)\n\t}, [editor, item])\n\n\tconst onMoveUp = useCallback(() => {\n\t\tonMovePage(editor, item.id as TLPageId, index, index - 1)\n\t}, [editor, item, index])\n\n\tconst onMoveDown = useCallback(() => {\n\t\tonMovePage(editor, item.id as TLPageId, index, index + 1)\n\t}, [editor, item, index])\n\n\tconst onDelete = useCallback(() => {\n\t\teditor.mark('deleting page')\n\t\teditor.deletePage(item.id as TLPageId)\n\t}, [editor, item])\n\n\treturn (\n\t\t<M.Root id={`page item submenu ${index}`}>\n\t\t\t<M.Trigger>\n\t\t\t\t<Button type=\"icon\" title={msg('page-menu.submenu.title')} icon=\"dots-vertical\" />\n\t\t\t</M.Trigger>\n\t\t\t<M.Content alignOffset={0}>\n\t\t\t\t<M.Group>\n\t\t\t\t\t{onRename && (\n\t\t\t\t\t\t<DropdownMenu.Item dir=\"ltr\" onSelect={onRename} asChild>\n\t\t\t\t\t\t\t<Button type=\"menu\" label=\"page-menu.submenu.rename\" />\n\t\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t)}\n\t\t\t\t\t<DropdownMenu.Item\n\t\t\t\t\t\tdir=\"ltr\"\n\t\t\t\t\t\tonSelect={onDuplicate}\n\t\t\t\t\t\tdisabled={pages.length >= MAX_PAGES}\n\t\t\t\t\t\tasChild\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button type=\"menu\" label=\"page-menu.submenu.duplicate-page\" />\n\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t{index > 0 && (\n\t\t\t\t\t\t<DropdownMenu.Item dir=\"ltr\" onSelect={onMoveUp} asChild>\n\t\t\t\t\t\t\t<Button type=\"menu\" label=\"page-menu.submenu.move-up\" />\n\t\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t)}\n\t\t\t\t\t{index < listSize - 1 && (\n\t\t\t\t\t\t<DropdownMenu.Item dir=\"ltr\" onSelect={onMoveDown} asChild>\n\t\t\t\t\t\t\t<Button type=\"menu\" label=\"page-menu.submenu.move-down\" />\n\t\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t)}\n\t\t\t\t</M.Group>\n\t\t\t\t{listSize > 1 && (\n\t\t\t\t\t<M.Group>\n\t\t\t\t\t\t<DropdownMenu.Item dir=\"ltr\" onSelect={onDelete} asChild>\n\t\t\t\t\t\t\t<Button type=\"menu\" label=\"page-menu.submenu.delete\" />\n\t\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t</M.Group>\n\t\t\t\t)}\n\t\t\t</M.Content>\n\t\t</M.Root>\n\t)\n})\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AA+CI;AA/CJ,mBAA8B;AAC9B,oBAAsE;AACtE,mBAA4B;AAC5B,4BAA+B;AAC/B,oBAAuB;AACvB,QAAmB;AACnB,+BAA2B;AASpB,MAAM,sBAAkB,qBAAM,SAASA,iBAAgB;AAAA,EAC7D;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACD,GAAyB;AACxB,QAAM,aAAS,yBAAU;AACzB,QAAM,UAAM,sCAAe;AAC3B,QAAM,QAAQ,OAAO,SAAS;AAE9B,QAAM,kBAAc,0BAAY,MAAM;AACrC,WAAO,KAAK,eAAe;AAC3B,UAAM,QAAQ,6BAAe,SAAS;AACtC,WAAO,cAAc,KAAK,IAAgB,KAAK;AAAA,EAChD,GAAG,CAAC,QAAQ,IAAI,CAAC;AAEjB,QAAM,eAAW,0BAAY,MAAM;AAClC,6CAAW,QAAQ,KAAK,IAAgB,OAAO,QAAQ,CAAC;AAAA,EACzD,GAAG,CAAC,QAAQ,MAAM,KAAK,CAAC;AAExB,QAAM,iBAAa,0BAAY,MAAM;AACpC,6CAAW,QAAQ,KAAK,IAAgB,OAAO,QAAQ,CAAC;AAAA,EACzD,GAAG,CAAC,QAAQ,MAAM,KAAK,CAAC;AAExB,QAAM,eAAW,0BAAY,MAAM;AAClC,WAAO,KAAK,eAAe;AAC3B,WAAO,WAAW,KAAK,EAAc;AAAA,EACtC,GAAG,CAAC,QAAQ,IAAI,CAAC;AAEjB,SACC,6CAAC,EAAE,MAAF,EAAO,IAAI,qBAAqB,KAAK,IACrC;AAAA,gDAAC,EAAE,SAAF,EACA,sDAAC,wBAAO,MAAK,QAAO,OAAO,IAAI,yBAAyB,GAAG,MAAK,iBAAgB,GACjF;AAAA,IACA,6CAAC,EAAE,SAAF,EAAU,aAAa,GACvB;AAAA,mDAAC,EAAE,OAAF,EACC;AAAA,oBACA,4CAAC,aAAa,MAAb,EAAkB,KAAI,OAAM,UAAU,UAAU,SAAO,MACvD,sDAAC,wBAAO,MAAK,QAAO,OAAM,4BAA2B,GACtD;AAAA,QAED;AAAA,UAAC,aAAa;AAAA,UAAb;AAAA,YACA,KAAI;AAAA,YACJ,UAAU;AAAA,YACV,UAAU,MAAM,UAAU;AAAA,YAC1B,SAAO;AAAA,YAEP,sDAAC,wBAAO,MAAK,QAAO,OAAM,oCAAmC;AAAA;AAAA,QAC9D;AAAA,QACC,QAAQ,KACR,4CAAC,aAAa,MAAb,EAAkB,KAAI,OAAM,UAAU,UAAU,SAAO,MACvD,sDAAC,wBAAO,MAAK,QAAO,OAAM,6BAA4B,GACvD;AAAA,QAEA,QAAQ,WAAW,KACnB,4CAAC,aAAa,MAAb,EAAkB,KAAI,OAAM,UAAU,YAAY,SAAO,MACzD,sDAAC,wBAAO,MAAK,QAAO,OAAM,+BAA8B,GACzD;AAAA,SAEF;AAAA,MACC,WAAW,KACX,4CAAC,EAAE,OAAF,EACA,sDAAC,aAAa,MAAb,EAAkB,KAAI,OAAM,UAAU,UAAU,SAAO,MACvD,sDAAC,wBAAO,MAAK,QAAO,OAAM,4BAA2B,GACtD,GACD;AAAA,OAEF;AAAA,KACD;AAEF,CAAC;",
  "names": ["PageItemSubmenu"]
}
