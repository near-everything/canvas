{
  "version": 3,
  "sources": ["../../../src/lib/ui/TldrawUi.tsx"],
  "sourcesContent": ["import { ToastProvider } from '@radix-ui/react-toast'\nimport { useEditor, useValue } from '@tldraw/editor'\nimport classNames from 'classnames'\nimport React, { ReactNode } from 'react'\nimport { TldrawUiContextProvider, TldrawUiContextProviderProps } from './TldrawUiContextProvider'\nimport { TLUiAssetUrlOverrides } from './assetUrls'\nimport { BackToContent } from './components/BackToContent'\nimport { DebugPanel } from './components/DebugPanel'\nimport { Dialogs } from './components/Dialogs'\nimport { FollowingIndicator } from './components/FollowingIndicator'\nimport { HelpMenu } from './components/HelpMenu'\nimport { MenuZone } from './components/MenuZone'\nimport { NavigationZone } from './components/NavigationZone/NavigationZone'\nimport { ExitPenMode } from './components/PenModeToggle'\nimport { StopFollowing } from './components/StopFollowing'\nimport { StylePanel } from './components/StylePanel/StylePanel'\nimport { ToastViewport, Toasts } from './components/Toasts'\nimport { Toolbar } from './components/Toolbar/Toolbar'\nimport { Button } from './components/primitives/Button'\nimport { useActions } from './hooks/useActions'\nimport { useBreakpoint } from './hooks/useBreakpoint'\nimport { useNativeClipboardEvents } from './hooks/useClipboardEvents'\nimport { useEditorEvents } from './hooks/useEditorEvents'\nimport { useKeyboardShortcuts } from './hooks/useKeyboardShortcuts'\nimport { useTranslation } from './hooks/useTranslation/useTranslation'\n\n/**\n * Props for the {@link @tldraw/tldraw#Tldraw} and {@link TldrawUi} components.\n *\n * @public\n */\nexport type TldrawUiProps = TldrawUiBaseProps & TldrawUiContextProviderProps\n\n/**\n * Base props for the {@link @tldraw/tldraw#Tldraw} and {@link TldrawUi} components.\n *\n * @public\n */\nexport interface TldrawUiBaseProps {\n\t/**\n\t * The component's children.\n\t */\n\tchildren?: ReactNode\n\n\t/**\n\t * Whether to hide the user interface and only display the canvas.\n\t */\n\thideUi?: boolean\n\n\t/**\n\t * A component to use for the share zone (will be deprecated)\n\t */\n\tshareZone?: ReactNode\n\n\t/**\n\t * A component to use for the top zone (will be deprecated)\n\t * @internal\n\t */\n\ttopZone?: ReactNode\n\n\t/**\n\t * Additional items to add to the debug menu (will be deprecated)\n\t */\n\trenderDebugMenuItems?: () => React.ReactNode\n\n\t/** Asset URL override. */\n\tassetUrls?: TLUiAssetUrlOverrides\n}\n\n/**\n * @public\n */\nexport const TldrawUi = React.memo(function TldrawUi({\n\tshareZone,\n\ttopZone,\n\trenderDebugMenuItems,\n\tchildren,\n\thideUi,\n\t...rest\n}: TldrawUiProps) {\n\treturn (\n\t\t<TldrawUiContextProvider {...rest}>\n\t\t\t<TldrawUiInner\n\t\t\t\thideUi={hideUi}\n\t\t\t\tshareZone={shareZone}\n\t\t\t\ttopZone={topZone}\n\t\t\t\trenderDebugMenuItems={renderDebugMenuItems}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</TldrawUiInner>\n\t\t</TldrawUiContextProvider>\n\t)\n})\n\ntype TldrawUiContentProps = {\n\thideUi?: boolean\n\tshareZone?: ReactNode\n\ttopZone?: ReactNode\n\trenderDebugMenuItems?: () => React.ReactNode\n}\n\nconst TldrawUiInner = React.memo(function TldrawUiInner({\n\tchildren,\n\thideUi,\n\t...rest\n}: TldrawUiContentProps & { children: ReactNode }) {\n\t// The hideUi prop should prevent the UI from mounting.\n\t// If we ever need want the UI to mount and preserve state, then\n\t// we should change this behavior and hide the UI via CSS instead.\n\n\treturn (\n\t\t<>\n\t\t\t{children}\n\t\t\t{hideUi ? null : <TldrawUiContent {...rest} />}\n\t\t</>\n\t)\n})\n\nconst TldrawUiContent = React.memo(function TldrawUI({\n\tshareZone,\n\ttopZone,\n\trenderDebugMenuItems,\n}: TldrawUiContentProps) {\n\tconst editor = useEditor()\n\tconst msg = useTranslation()\n\tconst breakpoint = useBreakpoint()\n\tconst isReadonlyMode = useValue('isReadonlyMode', () => editor.getInstanceState().isReadonly, [\n\t\teditor,\n\t])\n\tconst isFocusMode = useValue('focus', () => editor.getInstanceState().isFocusMode, [editor])\n\tconst isDebugMode = useValue('debug', () => editor.getInstanceState().isDebugMode, [editor])\n\n\tuseKeyboardShortcuts()\n\tuseNativeClipboardEvents()\n\tuseEditorEvents()\n\n\tconst { 'toggle-focus-mode': toggleFocus } = useActions()\n\n\treturn (\n\t\t<ToastProvider>\n\t\t\t<div\n\t\t\t\tclassName={classNames('tlui-layout', {\n\t\t\t\t\t'tlui-layout__mobile': breakpoint < 5,\n\t\t\t\t})}\n\t\t\t\tdata-breakpoint={breakpoint}\n\t\t\t>\n\t\t\t\t{isFocusMode ? (\n\t\t\t\t\t<div className=\"tlui-layout__top\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"icon\"\n\t\t\t\t\t\t\tclassName=\"tlui-focus-button\"\n\t\t\t\t\t\t\ttitle={`${msg('focus-mode.toggle-focus-mode')}`}\n\t\t\t\t\t\t\ticon=\"dot\"\n\t\t\t\t\t\t\tonClick={() => toggleFocus.onSelect('menu')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"tlui-layout__top\">\n\t\t\t\t\t\t\t<div className=\"tlui-layout__top__left\">\n\t\t\t\t\t\t\t\t<MenuZone />\n\t\t\t\t\t\t\t\t<div className=\"tlui-helper-buttons\">\n\t\t\t\t\t\t\t\t\t<ExitPenMode />\n\t\t\t\t\t\t\t\t\t<BackToContent />\n\t\t\t\t\t\t\t\t\t<StopFollowing />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"tlui-layout__top__center\">{topZone}</div>\n\t\t\t\t\t\t\t<div className=\"tlui-layout__top__right\">\n\t\t\t\t\t\t\t\t{shareZone}\n\t\t\t\t\t\t\t\t{breakpoint >= 5 && !isReadonlyMode && (\n\t\t\t\t\t\t\t\t\t<div className=\"tlui-style-panel__wrapper\">\n\t\t\t\t\t\t\t\t\t\t<StylePanel />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"tlui-layout__bottom\">\n\t\t\t\t\t\t\t<div className=\"tlui-layout__bottom__main\">\n\t\t\t\t\t\t\t\t<NavigationZone />\n\t\t\t\t\t\t\t\t<Toolbar />\n\t\t\t\t\t\t\t\t{breakpoint >= 4 && <HelpMenu />}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{isDebugMode && <DebugPanel renderDebugMenuItems={renderDebugMenuItems ?? null} />}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t<Toasts />\n\t\t\t\t<Dialogs />\n\t\t\t\t<ToastViewport />\n\t\t\t\t<FollowingIndicator />\n\t\t\t</div>\n\t\t</ToastProvider>\n\t)\n})\n"],
  "mappings": "AAkFG,SA6BD,UA7BC,KA6BD,YA7BC;AAlFH,SAAS,qBAAqB;AAC9B,SAAS,WAAW,gBAAgB;AACpC,OAAO,gBAAgB;AACvB,OAAO,WAA0B;AACjC,SAAS,+BAA6D;AAEtE,SAAS,qBAAqB;AAC9B,SAAS,kBAAkB;AAC3B,SAAS,eAAe;AACxB,SAAS,0BAA0B;AACnC,SAAS,gBAAgB;AACzB,SAAS,gBAAgB;AACzB,SAAS,sBAAsB;AAC/B,SAAS,mBAAmB;AAC5B,SAAS,qBAAqB;AAC9B,SAAS,kBAAkB;AAC3B,SAAS,eAAe,cAAc;AACtC,SAAS,eAAe;AACxB,SAAS,cAAc;AACvB,SAAS,kBAAkB;AAC3B,SAAS,qBAAqB;AAC9B,SAAS,gCAAgC;AACzC,SAAS,uBAAuB;AAChC,SAAS,4BAA4B;AACrC,SAAS,sBAAsB;AAgDxB,MAAM,WAAW,MAAM,KAAK,SAASA,UAAS;AAAA,EACpD;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACJ,GAAkB;AACjB,SACC,oBAAC,2BAAyB,GAAG,MAC5B;AAAA,IAAC;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAEC;AAAA;AAAA,EACF,GACD;AAEF,CAAC;AASD,MAAM,gBAAgB,MAAM,KAAK,SAASC,eAAc;AAAA,EACvD;AAAA,EACA;AAAA,EACA,GAAG;AACJ,GAAmD;AAKlD,SACC,iCACE;AAAA;AAAA,IACA,SAAS,OAAO,oBAAC,mBAAiB,GAAG,MAAM;AAAA,KAC7C;AAEF,CAAC;AAED,MAAM,kBAAkB,MAAM,KAAK,SAAS,SAAS;AAAA,EACpD;AAAA,EACA;AAAA,EACA;AACD,GAAyB;AACxB,QAAM,SAAS,UAAU;AACzB,QAAM,MAAM,eAAe;AAC3B,QAAM,aAAa,cAAc;AACjC,QAAM,iBAAiB,SAAS,kBAAkB,MAAM,OAAO,iBAAiB,EAAE,YAAY;AAAA,IAC7F;AAAA,EACD,CAAC;AACD,QAAM,cAAc,SAAS,SAAS,MAAM,OAAO,iBAAiB,EAAE,aAAa,CAAC,MAAM,CAAC;AAC3F,QAAM,cAAc,SAAS,SAAS,MAAM,OAAO,iBAAiB,EAAE,aAAa,CAAC,MAAM,CAAC;AAE3F,uBAAqB;AACrB,2BAAyB;AACzB,kBAAgB;AAEhB,QAAM,EAAE,qBAAqB,YAAY,IAAI,WAAW;AAExD,SACC,oBAAC,iBACA;AAAA,IAAC;AAAA;AAAA,MACA,WAAW,WAAW,eAAe;AAAA,QACpC,uBAAuB,aAAa;AAAA,MACrC,CAAC;AAAA,MACD,mBAAiB;AAAA,MAEhB;AAAA,sBACA,oBAAC,SAAI,WAAU,oBACd;AAAA,UAAC;AAAA;AAAA,YACA,MAAK;AAAA,YACL,WAAU;AAAA,YACV,OAAO,GAAG,IAAI,8BAA8B,CAAC;AAAA,YAC7C,MAAK;AAAA,YACL,SAAS,MAAM,YAAY,SAAS,MAAM;AAAA;AAAA,QAC3C,GACD,IAEA,iCACC;AAAA,+BAAC,SAAI,WAAU,oBACd;AAAA,iCAAC,SAAI,WAAU,0BACd;AAAA,kCAAC,YAAS;AAAA,cACV,qBAAC,SAAI,WAAU,uBACd;AAAA,oCAAC,eAAY;AAAA,gBACb,oBAAC,iBAAc;AAAA,gBACf,oBAAC,iBAAc;AAAA,iBAChB;AAAA,eACD;AAAA,YACA,oBAAC,SAAI,WAAU,4BAA4B,mBAAQ;AAAA,YACnD,qBAAC,SAAI,WAAU,2BACb;AAAA;AAAA,cACA,cAAc,KAAK,CAAC,kBACpB,oBAAC,SAAI,WAAU,6BACd,8BAAC,cAAW,GACb;AAAA,eAEF;AAAA,aACD;AAAA,UACA,qBAAC,SAAI,WAAU,uBACd;AAAA,iCAAC,SAAI,WAAU,6BACd;AAAA,kCAAC,kBAAe;AAAA,cAChB,oBAAC,WAAQ;AAAA,cACR,cAAc,KAAK,oBAAC,YAAS;AAAA,eAC/B;AAAA,YACC,eAAe,oBAAC,cAAW,sBAAsB,wBAAwB,MAAM;AAAA,aACjF;AAAA,WACD;AAAA,QAED,oBAAC,UAAO;AAAA,QACR,oBAAC,WAAQ;AAAA,QACT,oBAAC,iBAAc;AAAA,QACf,oBAAC,sBAAmB;AAAA;AAAA;AAAA,EACrB,GACD;AAEF,CAAC;",
  "names": ["TldrawUi", "TldrawUiInner"]
}
