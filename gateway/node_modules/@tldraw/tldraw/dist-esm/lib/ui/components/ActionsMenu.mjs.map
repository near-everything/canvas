{
  "version": 3,
  "sources": ["../../../../src/lib/ui/components/ActionsMenu.tsx"],
  "sourcesContent": ["import * as PopoverPrimitive from '@radix-ui/react-popover'\nimport { useContainer } from '@tldraw/editor'\nimport { memo } from 'react'\nimport { TLUiMenuChild } from '../hooks/menuHelpers'\nimport { useActionsMenuSchema } from '../hooks/useActionsMenuSchema'\nimport { useReadonly } from '../hooks/useReadonly'\nimport { useTranslation } from '../hooks/useTranslation/useTranslation'\nimport { Button } from './primitives/Button'\nimport { Popover, PopoverTrigger } from './primitives/Popover'\nimport { kbdStr } from './primitives/shared'\n\nexport const ActionsMenu = memo(function ActionsMenu() {\n\tconst msg = useTranslation()\n\tconst container = useContainer()\n\tconst menuSchema = useActionsMenuSchema()\n\tconst isReadonly = useReadonly()\n\n\tfunction getActionMenuItem(item: TLUiMenuChild) {\n\t\tif (!item) return null\n\t\tif (isReadonly && !item.readonlyOk) return null\n\n\t\tswitch (item.type) {\n\t\t\tcase 'item': {\n\t\t\t\tconst { id, icon, label, kbd, onSelect } = item.actionItem\n\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tdata-testid={`menu-item.${item.id}`}\n\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\ttype=\"icon\"\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t\t? kbd\n\t\t\t\t\t\t\t\t\t? `${msg(label)} ${kbdStr(kbd)}`\n\t\t\t\t\t\t\t\t\t: `${msg(label)}`\n\t\t\t\t\t\t\t\t: kbd\n\t\t\t\t\t\t\t\t? `${kbdStr(kbd)}`\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={() => onSelect('actions-menu')}\n\t\t\t\t\t\tdisabled={item.disabled}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<Popover id=\"actions-menu\">\n\t\t\t<PopoverTrigger>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"tlui-menu__trigger\"\n\t\t\t\t\tdata-testid=\"main.action-menu\"\n\t\t\t\t\ticon=\"dots-vertical\"\n\t\t\t\t\ttitle={msg('actions-menu.title')}\n\t\t\t\t\ttype=\"icon\" // needs to be here because the trigger also passes down type=\"button\"\n\t\t\t\t\tsmallIcon\n\t\t\t\t/>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverPrimitive.Portal container={container}>\n\t\t\t\t<PopoverPrimitive.Content\n\t\t\t\t\tclassName=\"tlui-popover__content\"\n\t\t\t\t\tside=\"bottom\"\n\t\t\t\t\tdir=\"ltr\"\n\t\t\t\t\tsideOffset={6}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"tlui-actions-menu tlui-buttons__grid\">\n\t\t\t\t\t\t{menuSchema.map(getActionMenuItem)}\n\t\t\t\t\t</div>\n\t\t\t\t</PopoverPrimitive.Content>\n\t\t\t</PopoverPrimitive.Portal>\n\t\t</Popover>\n\t)\n})\n"],
  "mappings": "AA0BK,cAuBH,YAvBG;AA1BL,YAAY,sBAAsB;AAClC,SAAS,oBAAoB;AAC7B,SAAS,YAAY;AAErB,SAAS,4BAA4B;AACrC,SAAS,mBAAmB;AAC5B,SAAS,sBAAsB;AAC/B,SAAS,cAAc;AACvB,SAAS,SAAS,sBAAsB;AACxC,SAAS,cAAc;AAEhB,MAAM,cAAc,KAAK,SAASA,eAAc;AACtD,QAAM,MAAM,eAAe;AAC3B,QAAM,YAAY,aAAa;AAC/B,QAAM,aAAa,qBAAqB;AACxC,QAAM,aAAa,YAAY;AAE/B,WAAS,kBAAkB,MAAqB;AAC/C,QAAI,CAAC;AAAM,aAAO;AAClB,QAAI,cAAc,CAAC,KAAK;AAAY,aAAO;AAE3C,YAAQ,KAAK,MAAM;AAAA,MAClB,KAAK,QAAQ;AACZ,cAAM,EAAE,IAAI,MAAM,OAAO,KAAK,SAAS,IAAI,KAAK;AAEhD,eACC;AAAA,UAAC;AAAA;AAAA,YAEA,eAAa,aAAa,KAAK,EAAE;AAAA,YACjC;AAAA,YACA,MAAK;AAAA,YACL,OACC,QACG,MACC,GAAG,IAAI,KAAK,CAAC,IAAI,OAAO,GAAG,CAAC,KAC5B,GAAG,IAAI,KAAK,CAAC,KACd,MACA,GAAG,OAAO,GAAG,CAAC,KACd;AAAA,YAEJ,SAAS,MAAM,SAAS,cAAc;AAAA,YACtC,UAAU,KAAK;AAAA;AAAA,UAdV;AAAA,QAeN;AAAA,MAEF;AAAA,IACD;AAAA,EACD;AAEA,SACC,qBAAC,WAAQ,IAAG,gBACX;AAAA,wBAAC,kBACA;AAAA,MAAC;AAAA;AAAA,QACA,WAAU;AAAA,QACV,eAAY;AAAA,QACZ,MAAK;AAAA,QACL,OAAO,IAAI,oBAAoB;AAAA,QAC/B,MAAK;AAAA,QACL,WAAS;AAAA;AAAA,IACV,GACD;AAAA,IACA,oBAAC,iBAAiB,QAAjB,EAAwB,WACxB;AAAA,MAAC,iBAAiB;AAAA,MAAjB;AAAA,QACA,WAAU;AAAA,QACV,MAAK;AAAA,QACL,KAAI;AAAA,QACJ,YAAY;AAAA,QAEZ,8BAAC,SAAI,WAAU,wCACb,qBAAW,IAAI,iBAAiB,GAClC;AAAA;AAAA,IACD,GACD;AAAA,KACD;AAEF,CAAC;",
  "names": ["ActionsMenu"]
}
