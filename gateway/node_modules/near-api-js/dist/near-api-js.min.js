(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";function fmtDef(a,d){return{validate:a,compare:d}}function isLeapYear(a){return a%4==0&&(a%100!=0||a%400==0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatNames=exports.fastFormats=exports.fullFormats=void 0,exports.fullFormats={date:fmtDef(date,compareDate),time:fmtDef(time,compareTime),"date-time":fmtDef(date_time,compareDateTime),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:uri,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:regex,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:byte,int32:{type:"number",validate:validateInt32},int64:{type:"number",validate:validateInt64},float:{type:"number",validate:validateNumber},double:{type:"number",validate:validateNumber},password:!0,binary:!0},exports.fastFormats={...exports.fullFormats,date:fmtDef(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,compareDate),time:fmtDef(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,compareTime),"date-time":fmtDef(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,compareDateTime),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},exports.formatNames=Object.keys(exports.fullFormats);const DATE=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,DAYS=[0,31,28,31,30,31,30,31,31,30,31,30,31];function date(a){const d=DATE.exec(a);if(!d)return!1;const e=+d[1],t=+d[2],f=+d[3];return t>=1&&t<=12&&f>=1&&f<=(2===t&&isLeapYear(e)?29:DAYS[t])}function compareDate(a,d){if(a&&d)return a>d?1:a<d?-1:0}const TIME=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function time(a,d){const e=TIME.exec(a);if(!e)return!1;const t=+e[1],f=+e[2],r=+e[3],i=e[5];return(t<=23&&f<=59&&r<=59||23===t&&59===f&&60===r)&&(!d||""!==i)}function compareTime(a,d){if(!a||!d)return;const e=TIME.exec(a),t=TIME.exec(d);return e&&t?(a=e[1]+e[2]+e[3]+(e[4]||""))>(d=t[1]+t[2]+t[3]+(t[4]||""))?1:a<d?-1:0:void 0}const DATE_TIME_SEPARATOR=/t|\s/i;function date_time(a){const d=a.split(DATE_TIME_SEPARATOR);return 2===d.length&&date(d[0])&&time(d[1],!0)}function compareDateTime(a,d){if(!a||!d)return;const[e,t]=a.split(DATE_TIME_SEPARATOR),[f,r]=d.split(DATE_TIME_SEPARATOR),i=compareDate(e,f);return void 0!==i?i||compareTime(t,r):void 0}const NOT_URI_FRAGMENT=/\/|:/,URI=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function uri(a){return NOT_URI_FRAGMENT.test(a)&&URI.test(a)}const BYTE=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function byte(a){return BYTE.lastIndex=0,BYTE.test(a)}const MIN_INT32=-(2**31),MAX_INT32=2**31-1;function validateInt32(a){return Number.isInteger(a)&&a<=MAX_INT32&&a>=MIN_INT32}function validateInt64(a){return Number.isInteger(a)}function validateNumber(){return!0}const Z_ANCHOR=/[^\\]\\Z/;function regex(a){if(Z_ANCHOR.test(a))return!1;try{return new RegExp(a),!0}catch(a){return!1}}

},{}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const formats_1=require("./formats"),limit_1=require("./limit"),codegen_1=require("ajv/dist/compile/codegen"),fullName=new codegen_1.Name("fullFormats"),fastName=new codegen_1.Name("fastFormats"),formatsPlugin=(r,t={keywords:!0})=>{if(Array.isArray(t))return addFormats(r,t,formats_1.fullFormats,fullName),r;const[o,e]="fast"===t.mode?[formats_1.fastFormats,fastName]:[formats_1.fullFormats,fullName];return addFormats(r,t.formats||formats_1.formatNames,o,e),t.keywords&&limit_1.default(r),r};function addFormats(r,t,o,e){var a,s;null!==(a=(s=r.opts.code).formats)&&void 0!==a||(s.formats=codegen_1._`require("ajv-formats/dist/formats").${e}`);for(const e of t)r.addFormat(e,o[e])}formatsPlugin.get=((r,t="full")=>{const o=("fast"===t?formats_1.fastFormats:formats_1.fullFormats)[r];if(!o)throw new Error(`Unknown format "${r}"`);return o}),module.exports=exports=formatsPlugin,Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=formatsPlugin;

},{"./formats":1,"./limit":3,"ajv/dist/compile/codegen":6}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatLimitDefinition=void 0;const ajv_1=require("ajv"),codegen_1=require("ajv/dist/compile/codegen"),ops=codegen_1.operators,KWDs={formatMaximum:{okStr:"<=",ok:ops.LTE,fail:ops.GT},formatMinimum:{okStr:">=",ok:ops.GTE,fail:ops.LT},formatExclusiveMaximum:{okStr:"<",ok:ops.LT,fail:ops.GTE},formatExclusiveMinimum:{okStr:">",ok:ops.GT,fail:ops.LTE}},error={message:({keyword:o,schemaCode:e})=>codegen_1.str`should be ${KWDs[o].okStr} ${e}`,params:({keyword:o,schemaCode:e})=>codegen_1._`{comparison: ${KWDs[o].okStr}, limit: ${e}}`};exports.formatLimitDefinition={keyword:Object.keys(KWDs),type:"string",schemaType:"string",$data:!0,error:error,code(o){const{gen:e,data:t,schemaCode:r,keyword:a,it:i}=o,{opts:s,self:n}=i;if(!s.validateFormats)return;const c=new ajv_1.KeywordCxt(i,n.RULES.all.format.definition,"format");function f(o){return codegen_1._`${o}.compare(${t}, ${r}) ${KWDs[a].fail} 0`}c.$data?function(){const t=e.scopeValue("formats",{ref:n.formats,code:s.code.formats}),r=e.const("fmt",codegen_1._`${t}[${c.schemaCode}]`);o.fail$data(codegen_1.or(codegen_1._`typeof ${r} != "object"`,codegen_1._`${r} instanceof RegExp`,codegen_1._`typeof ${r}.compare != "function"`,f(r)))}():function(){const t=c.schema,r=n.formats[t];if(!r||!0===r)return;if("object"!=typeof r||r instanceof RegExp||"function"!=typeof r.compare)throw new Error(`"${a}": format "${t}" does not define "compare" function`);const i=e.scopeValue("formats",{key:t,ref:r,code:s.code.formats?codegen_1._`${s.code.formats}${codegen_1.getProperty(t)}`:void 0});o.fail$data(f(i))}()},dependencies:["format"]};const formatLimitPlugin=o=>(o.addKeyword(exports.formatLimitDefinition),o);exports.default=formatLimitPlugin;

},{"ajv":4,"ajv/dist/compile/codegen":6}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingRefError=exports.ValidationError=exports.CodeGen=exports.Name=exports.nil=exports.stringify=exports.str=exports._=exports.KeywordCxt=void 0;const core_1=require("./core"),draft7_1=require("./vocabularies/draft7"),discriminator_1=require("./vocabularies/discriminator"),draft7MetaSchema=require("./refs/json-schema-draft-07.json"),META_SUPPORT_DATA=["/properties"],META_SCHEMA_ID="http://json-schema.org/draft-07/schema";class Ajv extends core_1.default{_addVocabularies(){super._addVocabularies(),draft7_1.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(discriminator_1.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(draft7MetaSchema,META_SUPPORT_DATA):draft7MetaSchema;this.addMetaSchema(e,META_SCHEMA_ID,!1),this.refs["http://json-schema.org/schema"]=META_SCHEMA_ID}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(META_SCHEMA_ID)?META_SCHEMA_ID:void 0)}}module.exports=exports=Ajv,Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Ajv;var validate_1=require("./compile/validate");Object.defineProperty(exports,"KeywordCxt",{enumerable:!0,get:function(){return validate_1.KeywordCxt}});var codegen_1=require("./compile/codegen");Object.defineProperty(exports,"_",{enumerable:!0,get:function(){return codegen_1._}}),Object.defineProperty(exports,"str",{enumerable:!0,get:function(){return codegen_1.str}}),Object.defineProperty(exports,"stringify",{enumerable:!0,get:function(){return codegen_1.stringify}}),Object.defineProperty(exports,"nil",{enumerable:!0,get:function(){return codegen_1.nil}}),Object.defineProperty(exports,"Name",{enumerable:!0,get:function(){return codegen_1.Name}}),Object.defineProperty(exports,"CodeGen",{enumerable:!0,get:function(){return codegen_1.CodeGen}});var validation_error_1=require("./runtime/validation_error");Object.defineProperty(exports,"ValidationError",{enumerable:!0,get:function(){return validation_error_1.default}});var ref_error_1=require("./compile/ref_error");Object.defineProperty(exports,"MissingRefError",{enumerable:!0,get:function(){return ref_error_1.default}});

},{"./compile/codegen":6,"./compile/ref_error":11,"./compile/validate":19,"./core":22,"./refs/json-schema-draft-07.json":24,"./runtime/validation_error":28,"./vocabularies/discriminator":50,"./vocabularies/draft7":52}],5:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.regexpCode=exports.getEsmExportName=exports.getProperty=exports.safeStringify=exports.stringify=exports.strConcat=exports.addCodeArg=exports.str=exports._=exports.nil=exports._Code=exports.Name=exports.IDENTIFIER=exports._CodeOrName=void 0;class _CodeOrName{}exports._CodeOrName=_CodeOrName,exports.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class Name extends _CodeOrName{constructor(e){if(super(),!exports.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}exports.Name=Name;class _Code extends _CodeOrName{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce((e,t)=>`${e}${t}`,"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce((e,t)=>(t instanceof Name&&(e[t.str]=(e[t.str]||0)+1),e),{})}}function _(e,...t){const r=[e[0]];let s=0;for(;s<t.length;)addCodeArg(r,t[s]),r.push(e[++s]);return new _Code(r)}exports._Code=_Code,exports.nil=new _Code(""),exports._=_;const plus=new _Code("+");function str(e,...t){const r=[safeStringify(e[0])];let s=0;for(;s<t.length;)r.push(plus),addCodeArg(r,t[s]),r.push(plus,safeStringify(e[++s]));return optimize(r),new _Code(r)}function addCodeArg(e,t){t instanceof _Code?e.push(...t._items):t instanceof Name?e.push(t):e.push(interpolate(t))}function optimize(e){let t=1;for(;t<e.length-1;){if(e[t]===plus){const r=mergeExprItems(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function mergeExprItems(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof Name||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof Name?void 0:`"${e}${t.slice(1)}`}function strConcat(e,t){return t.emptyStr()?e:e.emptyStr()?t:str`${e}${t}`}function interpolate(e){return"number"==typeof e||"boolean"==typeof e||null===e?e:safeStringify(Array.isArray(e)?e.join(","):e)}function stringify(e){return new _Code(safeStringify(e))}function safeStringify(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function getProperty(e){return"string"==typeof e&&exports.IDENTIFIER.test(e)?new _Code(`.${e}`):_`[${e}]`}function getEsmExportName(e){if("string"==typeof e&&exports.IDENTIFIER.test(e))return new _Code(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}function regexpCode(e){return new _Code(e.toString())}exports.str=str,exports.addCodeArg=addCodeArg,exports.strConcat=strConcat,exports.stringify=stringify,exports.safeStringify=safeStringify,exports.getProperty=getProperty,exports.getEsmExportName=getEsmExportName,exports.regexpCode=regexpCode;

},{}],6:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.or=exports.and=exports.not=exports.CodeGen=exports.operators=exports.varKinds=exports.ValueScopeName=exports.ValueScope=exports.Scope=exports.Name=exports.regexpCode=exports.stringify=exports.getProperty=exports.nil=exports.strConcat=exports.str=exports._=void 0;const code_1=require("./code"),scope_1=require("./scope");var code_2=require("./code");Object.defineProperty(exports,"_",{enumerable:!0,get:function(){return code_2._}}),Object.defineProperty(exports,"str",{enumerable:!0,get:function(){return code_2.str}}),Object.defineProperty(exports,"strConcat",{enumerable:!0,get:function(){return code_2.strConcat}}),Object.defineProperty(exports,"nil",{enumerable:!0,get:function(){return code_2.nil}}),Object.defineProperty(exports,"getProperty",{enumerable:!0,get:function(){return code_2.getProperty}}),Object.defineProperty(exports,"stringify",{enumerable:!0,get:function(){return code_2.stringify}}),Object.defineProperty(exports,"regexpCode",{enumerable:!0,get:function(){return code_2.regexpCode}}),Object.defineProperty(exports,"Name",{enumerable:!0,get:function(){return code_2.Name}});var scope_2=require("./scope");Object.defineProperty(exports,"Scope",{enumerable:!0,get:function(){return scope_2.Scope}}),Object.defineProperty(exports,"ValueScope",{enumerable:!0,get:function(){return scope_2.ValueScope}}),Object.defineProperty(exports,"ValueScopeName",{enumerable:!0,get:function(){return scope_2.ValueScopeName}}),Object.defineProperty(exports,"varKinds",{enumerable:!0,get:function(){return scope_2.varKinds}}),exports.operators={GT:new code_1._Code(">"),GTE:new code_1._Code(">="),LT:new code_1._Code("<"),LTE:new code_1._Code("<="),EQ:new code_1._Code("==="),NEQ:new code_1._Code("!=="),NOT:new code_1._Code("!"),OR:new code_1._Code("||"),AND:new code_1._Code("&&"),ADD:new code_1._Code("+")};class Node{optimizeNodes(){return this}optimizeNames(e,t){return this}}class Def extends Node{constructor(e,t,s){super(),this.varKind=e,this.name=t,this.rhs=s}render({es5:e,_n:t}){const s=e?scope_1.varKinds.var:this.varKind,r=void 0===this.rhs?"":` = ${this.rhs}`;return`${s} ${this.name}${r};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=optimizeExpr(this.rhs,e,t)),this}get names(){return this.rhs instanceof code_1._CodeOrName?this.rhs.names:{}}}class Assign extends Node{constructor(e,t,s){super(),this.lhs=e,this.rhs=t,this.sideEffects=s}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof code_1.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=optimizeExpr(this.rhs,e,t),this}get names(){return addExprNames(this.lhs instanceof code_1.Name?{}:{...this.lhs.names},this.rhs)}}class AssignOp extends Assign{constructor(e,t,s,r){super(e,s,r),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class Label extends Node{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class Break extends Node{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class Throw extends Node{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class AnyCode extends Node{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=optimizeExpr(this.code,e,t),this}get names(){return this.code instanceof code_1._CodeOrName?this.code.names:{}}}class ParentNode extends Node{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,s)=>t+s.render(e),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const s=e[t].optimizeNodes();Array.isArray(s)?e.splice(t,1,...s):s?e[t]=s:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:s}=this;let r=s.length;for(;r--;){const o=s[r];o.optimizeNames(e,t)||(subtractNames(e,o.names),s.splice(r,1))}return s.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>addNames(e,t.names),{})}}class BlockNode extends ParentNode{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class Root extends ParentNode{}class Else extends BlockNode{}Else.kind="else";class If extends BlockNode{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new Else(e):e}return t?!1===e?t instanceof If?t:t.nodes:this.nodes.length?this:new If(not(e),t instanceof If?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var s;if(this.else=null===(s=this.else)||void 0===s?void 0:s.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=optimizeExpr(this.condition,e,t),this}get names(){const e=super.names;return addExprNames(e,this.condition),this.else&&addNames(e,this.else.names),e}}If.kind="if";class For extends BlockNode{}For.kind="for";class ForLoop extends For{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=optimizeExpr(this.iteration,e,t),this}get names(){return addNames(super.names,this.iteration.names)}}class ForRange extends For{constructor(e,t,s,r){super(),this.varKind=e,this.name=t,this.from=s,this.to=r}render(e){const t=e.es5?scope_1.varKinds.var:this.varKind,{name:s,from:r,to:o}=this;return`for(${t} ${s}=${r}; ${s}<${o}; ${s}++)`+super.render(e)}get names(){const e=addExprNames(super.names,this.from);return addExprNames(e,this.to)}}class ForIter extends For{constructor(e,t,s,r){super(),this.loop=e,this.varKind=t,this.name=s,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=optimizeExpr(this.iterable,e,t),this}get names(){return addNames(super.names,this.iterable.names)}}class Func extends BlockNode{constructor(e,t,s){super(),this.name=e,this.args=t,this.async=s}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}Func.kind="func";class Return extends ParentNode{render(e){return"return "+super.render(e)}}Return.kind="return";class Try extends BlockNode{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var s,r;return super.optimizeNames(e,t),null===(s=this.catch)||void 0===s||s.optimizeNames(e,t),null===(r=this.finally)||void 0===r||r.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&addNames(e,this.catch.names),this.finally&&addNames(e,this.finally.names),e}}class Catch extends BlockNode{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}Catch.kind="catch";class Finally extends BlockNode{render(e){return"finally"+super.render(e)}}Finally.kind="finally";class CodeGen{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new scope_1.Scope({parent:e}),this._nodes=[new Root]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const s=this._extScope.value(e,t);return(this._values[s.prefix]||(this._values[s.prefix]=new Set)).add(s),s}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,s,r){const o=this._scope.toName(t);return void 0!==s&&r&&(this._constants[o.str]=s),this._leafNode(new Def(e,o,s)),o}const(e,t,s){return this._def(scope_1.varKinds.const,e,t,s)}let(e,t,s){return this._def(scope_1.varKinds.let,e,t,s)}var(e,t,s){return this._def(scope_1.varKinds.var,e,t,s)}assign(e,t,s){return this._leafNode(new Assign(e,t,s))}add(e,t){return this._leafNode(new AssignOp(e,exports.operators.ADD,t))}code(e){return"function"==typeof e?e():e!==code_1.nil&&this._leafNode(new AnyCode(e)),this}object(...e){const t=["{"];for(const[s,r]of e)t.length>1&&t.push(","),t.push(s),(s!==r||this.opts.es5)&&(t.push(":"),(0,code_1.addCodeArg)(t,r));return t.push("}"),new code_1._Code(t)}if(e,t,s){if(this._blockNode(new If(e)),t&&s)this.code(t).else().code(s).endIf();else if(t)this.code(t).endIf();else if(s)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new If(e))}else(){return this._elseNode(new Else)}endIf(){return this._endBlockNode(If,Else)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new ForLoop(e),t)}forRange(e,t,s,r,o=(this.opts.es5?scope_1.varKinds.var:scope_1.varKinds.let)){const n=this._scope.toName(e);return this._for(new ForRange(o,n,t,s),()=>r(n))}forOf(e,t,s,r=scope_1.varKinds.const){const o=this._scope.toName(e);if(this.opts.es5){const e=t instanceof code_1.Name?t:this.var("_arr",t);return this.forRange("_i",0,code_1._`${e}.length`,t=>{this.var(o,code_1._`${e}[${t}]`),s(o)})}return this._for(new ForIter("of",r,o,t),()=>s(o))}forIn(e,t,s,r=(this.opts.es5?scope_1.varKinds.var:scope_1.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,code_1._`Object.keys(${t})`,s);const o=this._scope.toName(e);return this._for(new ForIter("in",r,o,t),()=>s(o))}endFor(){return this._endBlockNode(For)}label(e){return this._leafNode(new Label(e))}break(e){return this._leafNode(new Break(e))}return(e){const t=new Return;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Return)}try(e,t,s){if(!t&&!s)throw new Error('CodeGen: "try" without "catch" and "finally"');const r=new Try;if(this._blockNode(r),this.code(e),t){const e=this.name("e");this._currNode=r.catch=new Catch(e),t(e)}return s&&(this._currNode=r.finally=new Finally,this.code(s)),this._endBlockNode(Catch,Finally)}throw(e){return this._leafNode(new Throw(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const s=this._nodes.length-t;if(s<0||void 0!==e&&s!==e)throw new Error(`CodeGen: wrong number of nodes: ${s} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=code_1.nil,s,r){return this._blockNode(new Func(e,t,s)),r&&this.code(r).endFunc(),this}endFunc(){return this._endBlockNode(Func)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const s=this._currNode;if(s instanceof e||t&&s instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof If))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}}function addNames(e,t){for(const s in t)e[s]=(e[s]||0)+(t[s]||0);return e}function addExprNames(e,t){return t instanceof code_1._CodeOrName?addNames(e,t.names):e}function optimizeExpr(e,t,s){return e instanceof code_1.Name?o(e):(r=e)instanceof code_1._Code&&r._items.some(e=>e instanceof code_1.Name&&1===t[e.str]&&void 0!==s[e.str])?new code_1._Code(e._items.reduce((e,t)=>(t instanceof code_1.Name&&(t=o(t)),t instanceof code_1._Code?e.push(...t._items):e.push(t),e),[])):e;var r;function o(e){const r=s[e.str];return void 0===r||1!==t[e.str]?e:(delete t[e.str],r)}}function subtractNames(e,t){for(const s in t)e[s]=(e[s]||0)-(t[s]||0)}function not(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:code_1._`!${par(e)}`}exports.CodeGen=CodeGen,exports.not=not;const andCode=mappend(exports.operators.AND);function and(...e){return e.reduce(andCode)}exports.and=and;const orCode=mappend(exports.operators.OR);function or(...e){return e.reduce(orCode)}function mappend(e){return(t,s)=>t===code_1.nil?s:s===code_1.nil?t:code_1._`${par(t)} ${e} ${par(s)}`}function par(e){return e instanceof code_1.Name?e:code_1._`(${e})`}exports.or=or;

},{"./code":5,"./scope":7}],7:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ValueScope=exports.ValueScopeName=exports.Scope=exports.varKinds=exports.UsedValueState=void 0;const code_1=require("./code");class ValueError extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var UsedValueState;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(UsedValueState=exports.UsedValueState||(exports.UsedValueState={})),exports.varKinds={const:new code_1.Name("const"),let:new code_1.Name("let"),var:new code_1.Name("var")};class Scope{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof code_1.Name?e:this.name(e)}name(e){return new code_1.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,s;if((null===(s=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===s?void 0:s.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}exports.Scope=Scope;class ValueScopeName extends code_1.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:s}){this.value=e,this.scopePath=code_1._`.${new code_1.Name(t)}[${s}]`}}exports.ValueScopeName=ValueScopeName;const line=code_1._`\n`;class ValueScope extends Scope{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?line:code_1.nil}}get(){return this._scope}name(e){return new ValueScopeName(e,this._newName(e))}value(e,t){var s;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const o=this.toName(e),{prefix:r}=o,a=null!==(s=t.key)&&void 0!==s?s:t.ref;let n=this._values[r];if(n){const e=n.get(a);if(e)return e}else n=this._values[r]=new Map;n.set(a,o);const i=this._scope[r]||(this._scope[r]=[]),c=i.length;return i[c]=t.ref,o.setValue(t,{property:r,itemIndex:c}),o}getValue(e,t){const s=this._values[e];if(s)return s.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return code_1._`${e}${t.scopePath}`})}scopeCode(e=this._values,t,s){return this._reduceValues(e,e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code},t,s)}_reduceValues(e,t,s={},o){let r=code_1.nil;for(const a in e){const n=e[a];if(!n)continue;const i=s[a]=s[a]||new Map;n.forEach(e=>{if(i.has(e))return;i.set(e,UsedValueState.Started);let s=t(e);if(s){const t=this.opts.es5?exports.varKinds.var:exports.varKinds.const;r=code_1._`${r}${t} ${e} = ${s};${this.opts._n}`}else{if(!(s=null==o?void 0:o(e)))throw new ValueError(e);r=code_1._`${r}${s}${this.opts._n}`}i.set(e,UsedValueState.Completed)})}return r}}exports.ValueScope=ValueScope;

},{"./code":5}],8:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.extendErrors=exports.resetErrorsCount=exports.reportExtraError=exports.reportError=exports.keyword$DataError=exports.keywordError=void 0;const codegen_1=require("./codegen"),util_1=require("./util"),names_1=require("./names");function reportError(e,r=exports.keywordError,o,t){const{it:a}=e,{gen:n,compositeRule:s,allErrors:c}=a,d=errorObjectCode(e,r,o);(null!=t?t:s||c)?addError(n,d):returnErrors(a,codegen_1._`[${d}]`)}function reportExtraError(e,r=exports.keywordError,o){const{it:t}=e,{gen:a,compositeRule:n,allErrors:s}=t;addError(a,errorObjectCode(e,r,o)),n||s||returnErrors(t,names_1.default.vErrors)}function resetErrorsCount(e,r){e.assign(names_1.default.errors,r),e.if(codegen_1._`${names_1.default.vErrors} !== null`,()=>e.if(r,()=>e.assign(codegen_1._`${names_1.default.vErrors}.length`,r),()=>e.assign(names_1.default.vErrors,null)))}function extendErrors({gen:e,keyword:r,schemaValue:o,data:t,errsCount:a,it:n}){if(void 0===a)throw new Error("ajv implementation error");const s=e.name("err");e.forRange("i",a,names_1.default.errors,a=>{e.const(s,codegen_1._`${names_1.default.vErrors}[${a}]`),e.if(codegen_1._`${s}.instancePath === undefined`,()=>e.assign(codegen_1._`${s}.instancePath`,(0,codegen_1.strConcat)(names_1.default.instancePath,n.errorPath))),e.assign(codegen_1._`${s}.schemaPath`,codegen_1.str`${n.errSchemaPath}/${r}`),n.opts.verbose&&(e.assign(codegen_1._`${s}.schema`,o),e.assign(codegen_1._`${s}.data`,t))})}function addError(e,r){const o=e.const("err",r);e.if(codegen_1._`${names_1.default.vErrors} === null`,()=>e.assign(names_1.default.vErrors,codegen_1._`[${o}]`),codegen_1._`${names_1.default.vErrors}.push(${o})`),e.code(codegen_1._`${names_1.default.errors}++`)}function returnErrors(e,r){const{gen:o,validateName:t,schemaEnv:a}=e;a.$async?o.throw(codegen_1._`new ${e.ValidationError}(${r})`):(o.assign(codegen_1._`${t}.errors`,r),o.return(!1))}exports.keywordError={message:({keyword:e})=>codegen_1.str`must pass "${e}" keyword validation`},exports.keyword$DataError={message:({keyword:e,schemaType:r})=>r?codegen_1.str`"${e}" keyword must be ${r} ($data)`:codegen_1.str`"${e}" keyword is invalid ($data)`},exports.reportError=reportError,exports.reportExtraError=reportExtraError,exports.resetErrorsCount=resetErrorsCount,exports.extendErrors=extendErrors;const E={keyword:new codegen_1.Name("keyword"),schemaPath:new codegen_1.Name("schemaPath"),params:new codegen_1.Name("params"),propertyName:new codegen_1.Name("propertyName"),message:new codegen_1.Name("message"),schema:new codegen_1.Name("schema"),parentSchema:new codegen_1.Name("parentSchema")};function errorObjectCode(e,r,o){const{createErrors:t}=e.it;return!1===t?codegen_1._`{}`:errorObject(e,r,o)}function errorObject(e,r,o={}){const{gen:t,it:a}=e,n=[errorInstancePath(a,o),errorSchemaPath(e,o)];return extraErrorProps(e,r,n),t.object(...n)}function errorInstancePath({errorPath:e},{instancePath:r}){const o=r?codegen_1.str`${e}${(0,util_1.getErrorPath)(r,util_1.Type.Str)}`:e;return[names_1.default.instancePath,(0,codegen_1.strConcat)(names_1.default.instancePath,o)]}function errorSchemaPath({keyword:e,it:{errSchemaPath:r}},{schemaPath:o,parentSchema:t}){let a=t?r:codegen_1.str`${r}/${e}`;return o&&(a=codegen_1.str`${a}${(0,util_1.getErrorPath)(o,util_1.Type.Str)}`),[E.schemaPath,a]}function extraErrorProps(e,{params:r,message:o},t){const{keyword:a,data:n,schemaValue:s,it:c}=e,{opts:d,propertyName:_,topSchemaRef:m,schemaPath:u}=c;t.push([E.keyword,a],[E.params,"function"==typeof r?r(e):r||codegen_1._`{}`]),d.messages&&t.push([E.message,"function"==typeof o?o(e):o]),d.verbose&&t.push([E.schema,s],[E.parentSchema,codegen_1._`${m}${u}`],[names_1.default.data,n]),_&&t.push([E.propertyName,_])}

},{"./codegen":6,"./names":10,"./util":14}],9:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resolveSchema=exports.getCompilingSchema=exports.resolveRef=exports.compileSchema=exports.SchemaEnv=void 0;const codegen_1=require("./codegen"),validation_error_1=require("../runtime/validation_error"),names_1=require("./names"),resolve_1=require("./resolve"),util_1=require("./util"),validate_1=require("./validate");class SchemaEnv{constructor(e){var s;let t;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(t=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(s=e.baseId)&&void 0!==s?s:(0,resolve_1.normalizeId)(null==t?void 0:t[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==t?void 0:t.$async,this.refs={}}}function compileSchema(e){const s=getCompilingSchema.call(this,e);if(s)return s;const t=(0,resolve_1.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:o,lines:a}=this.opts.code,{ownProperties:r}=this.opts,i=new codegen_1.CodeGen(this.scope,{es5:o,lines:a,ownProperties:r});let c;e.$async&&(c=i.scopeValue("Error",{ref:validation_error_1.default,code:codegen_1._`require("ajv/dist/runtime/validation_error").default`}));const n=i.scopeName("validate");e.validateName=n;const l={gen:i,allErrors:this.opts.allErrors,data:names_1.default.data,parentData:names_1.default.parentData,parentDataProperty:names_1.default.parentDataProperty,dataNames:[names_1.default.data],dataPathArr:[codegen_1.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,codegen_1.stringify)(e.schema)}:{ref:e.schema}),validateName:n,ValidationError:c,schema:e.schema,schemaEnv:e,rootId:t,baseId:e.baseId||t,schemaPath:codegen_1.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:codegen_1._`""`,opts:this.opts,self:this};let h;try{this._compilations.add(e),(0,validate_1.validateFunctionCode)(l),i.optimize(this.opts.code.optimize);const s=i.toString();h=`${i.scopeRefs(names_1.default.scope)}return ${s}`,this.opts.code.process&&(h=this.opts.code.process(h,e));const t=new Function(`${names_1.default.self}`,`${names_1.default.scope}`,h)(this,this.scope.get());if(this.scope.value(n,{ref:t}),t.errors=null,t.schema=e.schema,t.schemaEnv=e,e.$async&&(t.$async=!0),!0===this.opts.code.source&&(t.source={validateName:n,validateCode:s,scopeValues:i._values}),this.opts.unevaluated){const{props:e,items:s}=l;t.evaluated={props:e instanceof codegen_1.Name?void 0:e,items:s instanceof codegen_1.Name?void 0:s,dynamicProps:e instanceof codegen_1.Name,dynamicItems:s instanceof codegen_1.Name},t.source&&(t.source.evaluated=(0,codegen_1.stringify)(t.evaluated))}return e.validate=t,e}catch(s){throw delete e.validate,delete e.validateName,h&&this.logger.error("Error compiling schema, function code:",h),s}finally{this._compilations.delete(e)}}function resolveRef(e,s,t){var o;t=(0,resolve_1.resolveUrl)(this.opts.uriResolver,s,t);const a=e.refs[t];if(a)return a;let r=resolve.call(this,e,t);if(void 0===r){const a=null===(o=e.localRefs)||void 0===o?void 0:o[t],{schemaId:i}=this.opts;a&&(r=new SchemaEnv({schema:a,schemaId:i,root:e,baseId:s}))}return void 0!==r?e.refs[t]=inlineOrCompile.call(this,r):void 0}function inlineOrCompile(e){return(0,resolve_1.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:compileSchema.call(this,e)}function getCompilingSchema(e){for(const s of this._compilations)if(sameSchemaEnv(s,e))return s}function sameSchemaEnv(e,s){return e.schema===s.schema&&e.root===s.root&&e.baseId===s.baseId}function resolve(e,s){let t;for(;"string"==typeof(t=this.refs[s]);)s=t;return t||this.schemas[s]||resolveSchema.call(this,e,s)}function resolveSchema(e,s){const t=this.opts.uriResolver.parse(s),o=(0,resolve_1._getFullPath)(this.opts.uriResolver,t);let a=(0,resolve_1.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&o===a)return getJsonPointer.call(this,t,e);const r=(0,resolve_1.normalizeId)(o),i=this.refs[r]||this.schemas[r];if("string"==typeof i){const s=resolveSchema.call(this,e,i);if("object"!=typeof(null==s?void 0:s.schema))return;return getJsonPointer.call(this,t,s)}if("object"==typeof(null==i?void 0:i.schema)){if(i.validate||compileSchema.call(this,i),r===(0,resolve_1.normalizeId)(s)){const{schema:s}=i,{schemaId:t}=this.opts,o=s[t];return o&&(a=(0,resolve_1.resolveUrl)(this.opts.uriResolver,a,o)),new SchemaEnv({schema:s,schemaId:t,root:e,baseId:a})}return getJsonPointer.call(this,t,i)}}exports.SchemaEnv=SchemaEnv,exports.compileSchema=compileSchema,exports.resolveRef=resolveRef,exports.getCompilingSchema=getCompilingSchema,exports.resolveSchema=resolveSchema;const PREVENT_SCOPE_CHANGE=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer(e,{baseId:s,schema:t,root:o}){var a;if("/"!==(null===(a=e.fragment)||void 0===a?void 0:a[0]))return;for(const o of e.fragment.slice(1).split("/")){if("boolean"==typeof t)return;const e=t[(0,util_1.unescapeFragment)(o)];if(void 0===e)return;const a="object"==typeof(t=e)&&t[this.opts.schemaId];!PREVENT_SCOPE_CHANGE.has(o)&&a&&(s=(0,resolve_1.resolveUrl)(this.opts.uriResolver,s,a))}let r;if("boolean"!=typeof t&&t.$ref&&!(0,util_1.schemaHasRulesButRef)(t,this.RULES)){const e=(0,resolve_1.resolveUrl)(this.opts.uriResolver,s,t.$ref);r=resolveSchema.call(this,o,e)}const{schemaId:i}=this.opts;return(r=r||new SchemaEnv({schema:t,schemaId:i,root:o,baseId:s})).schema!==r.root.schema?r:void 0}

},{"../runtime/validation_error":28,"./codegen":6,"./names":10,"./resolve":12,"./util":14,"./validate":19}],10:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const codegen_1=require("./codegen"),names={data:new codegen_1.Name("data"),valCxt:new codegen_1.Name("valCxt"),instancePath:new codegen_1.Name("instancePath"),parentData:new codegen_1.Name("parentData"),parentDataProperty:new codegen_1.Name("parentDataProperty"),rootData:new codegen_1.Name("rootData"),dynamicAnchors:new codegen_1.Name("dynamicAnchors"),vErrors:new codegen_1.Name("vErrors"),errors:new codegen_1.Name("errors"),this:new codegen_1.Name("this"),self:new codegen_1.Name("self"),scope:new codegen_1.Name("scope"),json:new codegen_1.Name("json"),jsonPos:new codegen_1.Name("jsonPos"),jsonLen:new codegen_1.Name("jsonLen"),jsonPart:new codegen_1.Name("jsonPart")};exports.default=names;

},{"./codegen":6}],11:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const resolve_1=require("./resolve");class MissingRefError extends Error{constructor(e,r,s,o){super(o||`can't resolve reference ${s} from id ${r}`),this.missingRef=(0,resolve_1.resolveUrl)(e,r,s),this.missingSchema=(0,resolve_1.normalizeId)((0,resolve_1.getFullPath)(e,this.missingRef))}}exports.default=MissingRefError;

},{"./resolve":12}],12:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSchemaRefs=exports.resolveUrl=exports.normalizeId=exports._getFullPath=exports.getFullPath=exports.inlineRef=void 0;const util_1=require("./util"),equal=require("fast-deep-equal"),traverse=require("json-schema-traverse"),SIMPLE_INLINED=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function inlineRef(e,t=!0){return"boolean"==typeof e||(!0===t?!hasRef(e):!!t&&countKeys(e)<=t)}exports.inlineRef=inlineRef;const REF_KEYWORDS=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function hasRef(e){for(const t in e){if(REF_KEYWORDS.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(hasRef))return!0;if("object"==typeof r&&hasRef(r))return!0}return!1}function countKeys(e){let t=0;for(const r in e){if("$ref"===r)return 1/0;if(t++,!SIMPLE_INLINED.has(r)&&("object"==typeof e[r]&&(0,util_1.eachItem)(e[r],e=>t+=countKeys(e)),t===1/0))return 1/0}return t}function getFullPath(e,t="",r){!1!==r&&(t=normalizeId(t));const n=e.parse(t);return _getFullPath(e,n)}function _getFullPath(e,t){return e.serialize(t).split("#")[0]+"#"}exports.getFullPath=getFullPath,exports._getFullPath=_getFullPath;const TRAILING_SLASH_HASH=/#\/?$/;function normalizeId(e){return e?e.replace(TRAILING_SLASH_HASH,""):""}function resolveUrl(e,t,r){return r=normalizeId(r),e.resolve(t,r)}exports.normalizeId=normalizeId,exports.resolveUrl=resolveUrl;const ANCHOR=/^[a-z_][-a-z0-9._]*$/i;function getSchemaRefs(e,t){if("boolean"==typeof e)return{};const{schemaId:r,uriResolver:n}=this.opts,o=normalizeId(e[r]||t),s={"":o},i=getFullPath(n,o,!1),l={},a=new Set;return traverse(e,{allKeys:!0},(e,t,n,o)=>{if(void 0===o)return;const f=i+t;let h=s[o];function m(t){const r=this.opts.uriResolver.resolve;if(t=normalizeId(h?r(h,t):t),a.has(t))throw c(t);a.add(t);let n=this.refs[t];return"string"==typeof n&&(n=this.refs[n]),"object"==typeof n?u(e,n.schema,t):t!==normalizeId(f)&&("#"===t[0]?(u(e,l[t],t),l[t]=e):this.refs[t]=f),t}function p(e){if("string"==typeof e){if(!ANCHOR.test(e))throw new Error(`invalid anchor "${e}"`);m.call(this,`#${e}`)}}"string"==typeof e[r]&&(h=m.call(this,e[r])),p.call(this,e.$anchor),p.call(this,e.$dynamicAnchor),s[t]=h}),l;function u(e,t,r){if(void 0!==t&&!equal(e,t))throw c(r)}function c(e){return new Error(`reference "${e}" resolves to more than one schema`)}}exports.getSchemaRefs=getSchemaRefs;

},{"./util":14,"fast-deep-equal":93,"json-schema-traverse":99}],13:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRules=exports.isJSONType=void 0;const _jsonTypes=["string","number","integer","boolean","null","object","array"],jsonTypes=new Set(_jsonTypes);function isJSONType(e){return"string"==typeof e&&jsonTypes.has(e)}function getRules(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}exports.isJSONType=isJSONType,exports.getRules=getRules;

},{}],14:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkStrictMode=exports.getErrorPath=exports.Type=exports.useFunc=exports.setEvaluated=exports.evaluatedPropsToName=exports.mergeEvaluated=exports.eachItem=exports.unescapeJsonPointer=exports.escapeJsonPointer=exports.escapeFragment=exports.unescapeFragment=exports.schemaRefOrVal=exports.schemaHasRulesButRef=exports.schemaHasRules=exports.checkUnknownRules=exports.alwaysValidSchema=exports.toHash=void 0;const codegen_1=require("./codegen"),code_1=require("./codegen/code");function toHash(e){const t={};for(const o of e)t[o]=!0;return t}function alwaysValidSchema(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(checkUnknownRules(e,t),!schemaHasRules(t,e.self.RULES.all))}function checkUnknownRules(e,t=e.schema){const{opts:o,self:n}=e;if(!o.strictSchema)return;if("boolean"==typeof t)return;const r=n.RULES.keywords;for(const o in t)r[o]||checkStrictMode(e,`unknown keyword: "${o}"`)}function schemaHasRules(e,t){if("boolean"==typeof e)return!e;for(const o in e)if(t[o])return!0;return!1}function schemaHasRulesButRef(e,t){if("boolean"==typeof e)return!e;for(const o in e)if("$ref"!==o&&t.all[o])return!0;return!1}function schemaRefOrVal({topSchemaRef:e,schemaPath:t},o,n,r){if(!r){if("number"==typeof o||"boolean"==typeof o)return o;if("string"==typeof o)return codegen_1._`${o}`}return codegen_1._`${e}${t}${(0,codegen_1.getProperty)(n)}`}function unescapeFragment(e){return unescapeJsonPointer(decodeURIComponent(e))}function escapeFragment(e){return encodeURIComponent(escapeJsonPointer(e))}function escapeJsonPointer(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function unescapeJsonPointer(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function eachItem(e,t){if(Array.isArray(e))for(const o of e)t(o);else t(e)}function makeMergeEvaluated({mergeNames:e,mergeToName:t,mergeValues:o,resultToName:n}){return(r,s,a,c)=>{const u=void 0===a?s:a instanceof codegen_1.Name?(s instanceof codegen_1.Name?e(r,s,a):t(r,s,a),a):s instanceof codegen_1.Name?(t(r,a,s),s):o(s,a);return c!==codegen_1.Name||u instanceof codegen_1.Name?u:n(r,u)}}function evaluatedPropsToName(e,t){if(!0===t)return e.var("props",!0);const o=e.var("props",codegen_1._`{}`);return void 0!==t&&setEvaluated(e,o,t),o}function setEvaluated(e,t,o){Object.keys(o).forEach(o=>e.assign(codegen_1._`${t}${(0,codegen_1.getProperty)(o)}`,!0))}exports.toHash=toHash,exports.alwaysValidSchema=alwaysValidSchema,exports.checkUnknownRules=checkUnknownRules,exports.schemaHasRules=schemaHasRules,exports.schemaHasRulesButRef=schemaHasRulesButRef,exports.schemaRefOrVal=schemaRefOrVal,exports.unescapeFragment=unescapeFragment,exports.escapeFragment=escapeFragment,exports.escapeJsonPointer=escapeJsonPointer,exports.unescapeJsonPointer=unescapeJsonPointer,exports.eachItem=eachItem,exports.mergeEvaluated={props:makeMergeEvaluated({mergeNames:(e,t,o)=>e.if(codegen_1._`${o} !== true && ${t} !== undefined`,()=>{e.if(codegen_1._`${t} === true`,()=>e.assign(o,!0),()=>e.assign(o,codegen_1._`${o} || {}`).code(codegen_1._`Object.assign(${o}, ${t})`))}),mergeToName:(e,t,o)=>e.if(codegen_1._`${o} !== true`,()=>{!0===t?e.assign(o,!0):(e.assign(o,codegen_1._`${o} || {}`),setEvaluated(e,o,t))}),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:evaluatedPropsToName}),items:makeMergeEvaluated({mergeNames:(e,t,o)=>e.if(codegen_1._`${o} !== true && ${t} !== undefined`,()=>e.assign(o,codegen_1._`${t} === true ? true : ${o} > ${t} ? ${o} : ${t}`)),mergeToName:(e,t,o)=>e.if(codegen_1._`${o} !== true`,()=>e.assign(o,!0===t||codegen_1._`${o} > ${t} ? ${o} : ${t}`)),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},exports.evaluatedPropsToName=evaluatedPropsToName,exports.setEvaluated=setEvaluated;const snippets={};function useFunc(e,t){return e.scopeValue("func",{ref:t,code:snippets[t.code]||(snippets[t.code]=new code_1._Code(t.code))})}var Type;function getErrorPath(e,t,o){if(e instanceof codegen_1.Name){const n=t===Type.Num;return o?n?codegen_1._`"[" + ${e} + "]"`:codegen_1._`"['" + ${e} + "']"`:n?codegen_1._`"/" + ${e}`:codegen_1._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return o?(0,codegen_1.getProperty)(e).toString():"/"+escapeJsonPointer(e)}function checkStrictMode(e,t,o=e.opts.strictSchema){if(o){if(t=`strict mode: ${t}`,!0===o)throw new Error(t);e.self.logger.warn(t)}}exports.useFunc=useFunc,function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(Type=exports.Type||(exports.Type={})),exports.getErrorPath=getErrorPath,exports.checkStrictMode=checkStrictMode;

},{"./codegen":6,"./codegen/code":5}],15:[function(require,module,exports){
"use strict";function schemaHasRulesForType({schema:e,self:s},o){const u=s.RULES.types[o];return u&&!0!==u&&shouldUseGroup(e,u)}function shouldUseGroup(e,s){return s.rules.some(s=>shouldUseRule(e,s))}function shouldUseRule(e,s){var o;return void 0!==e[s.keyword]||(null===(o=s.definition.implements)||void 0===o?void 0:o.some(s=>void 0!==e[s]))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shouldUseRule=exports.shouldUseGroup=exports.schemaHasRulesForType=void 0,exports.schemaHasRulesForType=schemaHasRulesForType,exports.shouldUseGroup=shouldUseGroup,exports.shouldUseRule=shouldUseRule;

},{}],16:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.boolOrEmptySchema=exports.topBoolOrEmptySchema=void 0;const errors_1=require("../errors"),codegen_1=require("../codegen"),names_1=require("../names"),boolError={message:"boolean schema is false"};function topBoolOrEmptySchema(e){const{gen:r,schema:o,validateName:a}=e;!1===o?falseSchemaError(e,!1):"object"==typeof o&&!0===o.$async?r.return(names_1.default.data):(r.assign(codegen_1._`${a}.errors`,null),r.return(!0))}function boolOrEmptySchema(e,r){const{gen:o,schema:a}=e;!1===a?(o.var(r,!1),falseSchemaError(e)):o.var(r,!0)}function falseSchemaError(e,r){const{gen:o,data:a}=e,t={gen:o,keyword:"false schema",data:a,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,errors_1.reportError)(t,boolError,void 0,r)}exports.topBoolOrEmptySchema=topBoolOrEmptySchema,exports.boolOrEmptySchema=boolOrEmptySchema;

},{"../codegen":6,"../errors":8,"../names":10}],17:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reportTypeError=exports.checkDataTypes=exports.checkDataType=exports.coerceAndCheckDataType=exports.getJSONTypes=exports.getSchemaTypes=exports.DataType=void 0;const rules_1=require("../rules"),applicability_1=require("./applicability"),errors_1=require("../errors"),codegen_1=require("../codegen"),util_1=require("../util");var DataType;function getSchemaTypes(e){const r=getJSONTypes(e.type);if(r.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!r.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&r.push("null")}return r}function getJSONTypes(e){const r=Array.isArray(e)?e:e?[e]:[];if(r.every(rules_1.isJSONType))return r;throw new Error("type must be JSONType or JSONType[]: "+r.join(","))}function coerceAndCheckDataType(e,r){const{gen:t,data:n,opts:o}=e,a=coerceToTypes(r,o.coerceTypes),c=r.length>0&&!(0===a.length&&1===r.length&&(0,applicability_1.schemaHasRulesForType)(e,r[0]));if(c){const c=checkDataTypes(r,n,o.strictNumbers,DataType.Wrong);t.if(c,()=>{a.length?coerceData(e,r,a):reportTypeError(e)})}return c}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(DataType=exports.DataType||(exports.DataType={})),exports.getSchemaTypes=getSchemaTypes,exports.getJSONTypes=getJSONTypes,exports.coerceAndCheckDataType=coerceAndCheckDataType;const COERCIBLE=new Set(["string","number","integer","boolean","null"]);function coerceToTypes(e,r){return r?e.filter(e=>COERCIBLE.has(e)||"array"===r&&"array"===e):[]}function coerceData(e,r,t){const{gen:n,data:o,opts:a}=e,c=n.let("dataType",codegen_1._`typeof ${o}`),s=n.let("coerced",codegen_1._`undefined`);"array"===a.coerceTypes&&n.if(codegen_1._`${c} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,()=>n.assign(o,codegen_1._`${o}[0]`).assign(c,codegen_1._`typeof ${o}`).if(checkDataTypes(r,o,a.strictNumbers),()=>n.assign(s,o))),n.if(codegen_1._`${s} !== undefined`);for(const e of t)(COERCIBLE.has(e)||"array"===e&&"array"===a.coerceTypes)&&p(e);function p(e){switch(e){case"string":return void n.elseIf(codegen_1._`${c} == "number" || ${c} == "boolean"`).assign(s,codegen_1._`"" + ${o}`).elseIf(codegen_1._`${o} === null`).assign(s,codegen_1._`""`);case"number":return void n.elseIf(codegen_1._`${c} == "boolean" || ${o} === null
              || (${c} == "string" && ${o} && ${o} == +${o})`).assign(s,codegen_1._`+${o}`);case"integer":return void n.elseIf(codegen_1._`${c} === "boolean" || ${o} === null
              || (${c} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(s,codegen_1._`+${o}`);case"boolean":return void n.elseIf(codegen_1._`${o} === "false" || ${o} === 0 || ${o} === null`).assign(s,!1).elseIf(codegen_1._`${o} === "true" || ${o} === 1`).assign(s,!0);case"null":return n.elseIf(codegen_1._`${o} === "" || ${o} === 0 || ${o} === false`),void n.assign(s,null);case"array":n.elseIf(codegen_1._`${c} === "string" || ${c} === "number"
              || ${c} === "boolean" || ${o} === null`).assign(s,codegen_1._`[${o}]`)}}n.else(),reportTypeError(e),n.endIf(),n.if(codegen_1._`${s} !== undefined`,()=>{n.assign(o,s),assignParentData(e,s)})}function assignParentData({gen:e,parentData:r,parentDataProperty:t},n){e.if(codegen_1._`${r} !== undefined`,()=>e.assign(codegen_1._`${r}[${t}]`,n))}function checkDataType(e,r,t,n=DataType.Correct){const o=n===DataType.Correct?codegen_1.operators.EQ:codegen_1.operators.NEQ;let a;switch(e){case"null":return codegen_1._`${r} ${o} null`;case"array":a=codegen_1._`Array.isArray(${r})`;break;case"object":a=codegen_1._`${r} && typeof ${r} == "object" && !Array.isArray(${r})`;break;case"integer":a=c(codegen_1._`!(${r} % 1) && !isNaN(${r})`);break;case"number":a=c();break;default:return codegen_1._`typeof ${r} ${o} ${e}`}return n===DataType.Correct?a:(0,codegen_1.not)(a);function c(e=codegen_1.nil){return(0,codegen_1.and)(codegen_1._`typeof ${r} == "number"`,e,t?codegen_1._`isFinite(${r})`:codegen_1.nil)}}function checkDataTypes(e,r,t,n){if(1===e.length)return checkDataType(e[0],r,t,n);let o;const a=(0,util_1.toHash)(e);if(a.array&&a.object){const e=codegen_1._`typeof ${r} != "object"`;o=a.null?e:codegen_1._`!${r} || ${e}`,delete a.null,delete a.array,delete a.object}else o=codegen_1.nil;a.number&&delete a.integer;for(const e in a)o=(0,codegen_1.and)(o,checkDataType(e,r,t,n));return o}exports.checkDataType=checkDataType,exports.checkDataTypes=checkDataTypes;const typeError={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:r})=>"string"==typeof e?codegen_1._`{type: ${e}}`:codegen_1._`{type: ${r}}`};function reportTypeError(e){const r=getTypeErrorContext(e);(0,errors_1.reportError)(r,typeError)}function getTypeErrorContext(e){const{gen:r,data:t,schema:n}=e,o=(0,util_1.schemaRefOrVal)(e,n,"type");return{gen:r,keyword:"type",data:t,schema:n.type,schemaCode:o,schemaValue:o,parentSchema:n,params:{},it:e}}exports.reportTypeError=reportTypeError;

},{"../codegen":6,"../errors":8,"../rules":13,"../util":14,"./applicability":15}],18:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assignDefaults=void 0;const codegen_1=require("../codegen"),util_1=require("../util");function assignDefaults(e,t){const{properties:s,items:i}=e.schema;if("object"===t&&s)for(const t in s)assignDefault(e,t,s[t].default);else"array"===t&&Array.isArray(i)&&i.forEach((t,s)=>assignDefault(e,s,t.default))}function assignDefault(e,t,s){const{gen:i,compositeRule:n,data:o,opts:r}=e;if(void 0===s)return;const a=codegen_1._`${o}${(0,codegen_1.getProperty)(t)}`;if(n)return void(0,util_1.checkStrictMode)(e,`default is ignored for: ${a}`);let u=codegen_1._`${a} === undefined`;"empty"===r.useDefaults&&(u=codegen_1._`${u} || ${a} === null || ${a} === ""`),i.if(u,codegen_1._`${a} = ${(0,codegen_1.stringify)(s)}`)}exports.assignDefaults=assignDefaults;

},{"../codegen":6,"../util":14}],19:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getData=exports.KeywordCxt=exports.validateFunctionCode=void 0;const boolSchema_1=require("./boolSchema"),dataType_1=require("./dataType"),applicability_1=require("./applicability"),dataType_2=require("./dataType"),defaults_1=require("./defaults"),keyword_1=require("./keyword"),subschema_1=require("./subschema"),codegen_1=require("../codegen"),names_1=require("../names"),resolve_1=require("../resolve"),util_1=require("../util"),errors_1=require("../errors");function validateFunctionCode(e){isSchemaObj(e)&&(checkKeywords(e),schemaCxtHasRules(e))?topSchemaObjCode(e):validateFunction(e,()=>(0,boolSchema_1.topBoolOrEmptySchema)(e))}function validateFunction({gen:e,validateName:t,schema:a,schemaEnv:s,opts:r},n){r.code.es5?e.func(t,codegen_1._`${names_1.default.data}, ${names_1.default.valCxt}`,s.$async,()=>{e.code(codegen_1._`"use strict"; ${funcSourceUrl(a,r)}`),destructureValCxtES5(e,r),e.code(n)}):e.func(t,codegen_1._`${names_1.default.data}, ${destructureValCxt(r)}`,s.$async,()=>e.code(funcSourceUrl(a,r)).code(n))}function destructureValCxt(e){return codegen_1._`{${names_1.default.instancePath}="", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${e.dynamicRef?codegen_1._`, ${names_1.default.dynamicAnchors}={}`:codegen_1.nil}}={}`}function destructureValCxtES5(e,t){e.if(names_1.default.valCxt,()=>{e.var(names_1.default.instancePath,codegen_1._`${names_1.default.valCxt}.${names_1.default.instancePath}`),e.var(names_1.default.parentData,codegen_1._`${names_1.default.valCxt}.${names_1.default.parentData}`),e.var(names_1.default.parentDataProperty,codegen_1._`${names_1.default.valCxt}.${names_1.default.parentDataProperty}`),e.var(names_1.default.rootData,codegen_1._`${names_1.default.valCxt}.${names_1.default.rootData}`),t.dynamicRef&&e.var(names_1.default.dynamicAnchors,codegen_1._`${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`)},()=>{e.var(names_1.default.instancePath,codegen_1._`""`),e.var(names_1.default.parentData,codegen_1._`undefined`),e.var(names_1.default.parentDataProperty,codegen_1._`undefined`),e.var(names_1.default.rootData,names_1.default.data),t.dynamicRef&&e.var(names_1.default.dynamicAnchors,codegen_1._`{}`)})}function topSchemaObjCode(e){const{schema:t,opts:a,gen:s}=e;validateFunction(e,()=>{a.$comment&&t.$comment&&commentKeyword(e),checkNoDefault(e),s.let(names_1.default.vErrors,null),s.let(names_1.default.errors,0),a.unevaluated&&resetEvaluated(e),typeAndKeywords(e),returnResults(e)})}function resetEvaluated(e){const{gen:t,validateName:a}=e;e.evaluated=t.const("evaluated",codegen_1._`${a}.evaluated`),t.if(codegen_1._`${e.evaluated}.dynamicProps`,()=>t.assign(codegen_1._`${e.evaluated}.props`,codegen_1._`undefined`)),t.if(codegen_1._`${e.evaluated}.dynamicItems`,()=>t.assign(codegen_1._`${e.evaluated}.items`,codegen_1._`undefined`))}function funcSourceUrl(e,t){const a="object"==typeof e&&e[t.schemaId];return a&&(t.code.source||t.code.process)?codegen_1._`/*# sourceURL=${a} */`:codegen_1.nil}function subschemaCode(e,t){isSchemaObj(e)&&(checkKeywords(e),schemaCxtHasRules(e))?subSchemaObjCode(e,t):(0,boolSchema_1.boolOrEmptySchema)(e,t)}function schemaCxtHasRules({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const a in e)if(t.RULES.all[a])return!0;return!1}function isSchemaObj(e){return"boolean"!=typeof e.schema}function subSchemaObjCode(e,t){const{schema:a,gen:s,opts:r}=e;r.$comment&&a.$comment&&commentKeyword(e),updateContext(e),checkAsyncSchema(e);const n=s.const("_errs",names_1.default.errors);typeAndKeywords(e,n),s.var(t,codegen_1._`${n} === ${names_1.default.errors}`)}function checkKeywords(e){(0,util_1.checkUnknownRules)(e),checkRefsAndKeywords(e)}function typeAndKeywords(e,t){if(e.opts.jtd)return schemaKeywords(e,[],!1,t);const a=(0,dataType_1.getSchemaTypes)(e.schema);schemaKeywords(e,a,!(0,dataType_1.coerceAndCheckDataType)(e,a),t)}function checkRefsAndKeywords(e){const{schema:t,errSchemaPath:a,opts:s,self:r}=e;t.$ref&&s.ignoreKeywordsWithRef&&(0,util_1.schemaHasRulesButRef)(t,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${a}"`)}function checkNoDefault(e){const{schema:t,opts:a}=e;void 0!==t.default&&a.useDefaults&&a.strictSchema&&(0,util_1.checkStrictMode)(e,"default is ignored in the schema root")}function updateContext(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,resolve_1.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function checkAsyncSchema(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function commentKeyword({gen:e,schemaEnv:t,schema:a,errSchemaPath:s,opts:r}){const n=a.$comment;if(!0===r.$comment)e.code(codegen_1._`${names_1.default.self}.logger.log(${n})`);else if("function"==typeof r.$comment){const a=codegen_1.str`${s}/$comment`,r=e.scopeValue("root",{ref:t.root});e.code(codegen_1._`${names_1.default.self}.opts.$comment(${n}, ${a}, ${r}.schema)`)}}function returnResults(e){const{gen:t,schemaEnv:a,validateName:s,ValidationError:r,opts:n}=e;a.$async?t.if(codegen_1._`${names_1.default.errors} === 0`,()=>t.return(names_1.default.data),()=>t.throw(codegen_1._`new ${r}(${names_1.default.vErrors})`)):(t.assign(codegen_1._`${s}.errors`,names_1.default.vErrors),n.unevaluated&&assignEvaluated(e),t.return(codegen_1._`${names_1.default.errors} === 0`))}function assignEvaluated({gen:e,evaluated:t,props:a,items:s}){a instanceof codegen_1.Name&&e.assign(codegen_1._`${t}.props`,a),s instanceof codegen_1.Name&&e.assign(codegen_1._`${t}.items`,s)}function schemaKeywords(e,t,a,s){const{gen:r,schema:n,data:o,allErrors:c,opts:i,self:d}=e,{RULES:l}=d;function u(d){(0,applicability_1.shouldUseGroup)(n,d)&&(d.type?(r.if((0,dataType_2.checkDataType)(d.type,o,i.strictNumbers)),iterateKeywords(e,d),1===t.length&&t[0]===d.type&&a&&(r.else(),(0,dataType_2.reportTypeError)(e)),r.endIf()):iterateKeywords(e,d),c||r.if(codegen_1._`${names_1.default.errors} === ${s||0}`))}!n.$ref||!i.ignoreKeywordsWithRef&&(0,util_1.schemaHasRulesButRef)(n,l)?(i.jtd||checkStrictTypes(e,t),r.block(()=>{for(const e of l.rules)u(e);u(l.post)})):r.block(()=>keywordCode(e,"$ref",l.all.$ref.definition))}function iterateKeywords(e,t){const{gen:a,schema:s,opts:{useDefaults:r}}=e;r&&(0,defaults_1.assignDefaults)(e,t.type),a.block(()=>{for(const a of t.rules)(0,applicability_1.shouldUseRule)(s,a)&&keywordCode(e,a.keyword,a.definition,t.type)})}function checkStrictTypes(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(checkContextTypes(e,t),e.opts.allowUnionTypes||checkMultipleTypes(e,t),checkKeywordTypes(e,e.dataTypes))}function checkContextTypes(e,t){t.length&&(e.dataTypes.length?(t.forEach(t=>{includesType(e.dataTypes,t)||strictTypesError(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)}),e.dataTypes=e.dataTypes.filter(e=>includesType(t,e))):e.dataTypes=t)}function checkMultipleTypes(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&strictTypesError(e,"use allowUnionTypes to allow union type keyword")}function checkKeywordTypes(e,t){const a=e.self.RULES.all;for(const s in a){const r=a[s];if("object"==typeof r&&(0,applicability_1.shouldUseRule)(e.schema,r)){const{type:a}=r.definition;a.length&&!a.some(e=>hasApplicableType(t,e))&&strictTypesError(e,`missing type "${a.join(",")}" for keyword "${s}"`)}}}function hasApplicableType(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function includesType(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function strictTypesError(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,util_1.checkStrictMode)(e,t,e.opts.strictTypes)}exports.validateFunctionCode=validateFunctionCode;class KeywordCxt{constructor(e,t,a){if((0,keyword_1.validateKeywordUsage)(e,t,a),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=a,this.data=e.data,this.schema=e.schema[a],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,util_1.schemaRefOrVal)(e,this.schema,a,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",getData(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,keyword_1.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${a} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",names_1.default.errors))}result(e,t,a){this.failResult((0,codegen_1.not)(e),t,a)}failResult(e,t,a){this.gen.if(e),a?a():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,codegen_1.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(codegen_1._`${t} !== undefined && (${(0,codegen_1.or)(this.invalid$data(),e)})`)}error(e,t,a){if(t)return this.setParams(t),this._error(e,a),void this.setParams({});this._error(e,a)}_error(e,t){(e?errors_1.reportExtraError:errors_1.reportError)(this,this.def.error,t)}$dataError(){(0,errors_1.reportError)(this,this.def.$dataError||errors_1.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,errors_1.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,a=codegen_1.nil){this.gen.block(()=>{this.check$data(e,a),t()})}check$data(e=codegen_1.nil,t=codegen_1.nil){if(!this.$data)return;const{gen:a,schemaCode:s,schemaType:r,def:n}=this;a.if((0,codegen_1.or)(codegen_1._`${s} === undefined`,t)),e!==codegen_1.nil&&a.assign(e,!0),(r.length||n.validateSchema)&&(a.elseIf(this.invalid$data()),this.$dataError(),e!==codegen_1.nil&&a.assign(e,!1)),a.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:a,def:s,it:r}=this;return(0,codegen_1.or)(function(){if(a.length){if(!(t instanceof codegen_1.Name))throw new Error("ajv implementation error");const e=Array.isArray(a)?a:[a];return codegen_1._`${(0,dataType_2.checkDataTypes)(e,t,r.opts.strictNumbers,dataType_2.DataType.Wrong)}`}return codegen_1.nil}(),function(){if(s.validateSchema){const a=e.scopeValue("validate$data",{ref:s.validateSchema});return codegen_1._`!${a}(${t})`}return codegen_1.nil}())}subschema(e,t){const a=(0,subschema_1.getSubschema)(this.it,e);(0,subschema_1.extendSubschemaData)(a,this.it,e),(0,subschema_1.extendSubschemaMode)(a,e);const s={...this.it,...a,items:void 0,props:void 0};return subschemaCode(s,t),s}mergeEvaluated(e,t){const{it:a,gen:s}=this;a.opts.unevaluated&&(!0!==a.props&&void 0!==e.props&&(a.props=util_1.mergeEvaluated.props(s,e.props,a.props,t)),!0!==a.items&&void 0!==e.items&&(a.items=util_1.mergeEvaluated.items(s,e.items,a.items,t)))}mergeValidEvaluated(e,t){const{it:a,gen:s}=this;if(a.opts.unevaluated&&(!0!==a.props||!0!==a.items))return s.if(t,()=>this.mergeEvaluated(e,codegen_1.Name)),!0}}function keywordCode(e,t,a,s){const r=new KeywordCxt(e,a,t);"code"in a?a.code(r,s):r.$data&&a.validate?(0,keyword_1.funcKeywordCode)(r,a):"macro"in a?(0,keyword_1.macroKeywordCode)(r,a):(a.compile||a.validate)&&(0,keyword_1.funcKeywordCode)(r,a)}exports.KeywordCxt=KeywordCxt;const JSON_POINTER=/^\/(?:[^~]|~0|~1)*$/,RELATIVE_JSON_POINTER=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function getData(e,{dataLevel:t,dataNames:a,dataPathArr:s}){let r,n;if(""===e)return names_1.default.rootData;if("/"===e[0]){if(!JSON_POINTER.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);r=e,n=names_1.default.rootData}else{const o=RELATIVE_JSON_POINTER.exec(e);if(!o)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+o[1];if("#"===(r=o[2])){if(c>=t)throw new Error(i("property/index",c));return s[t-c]}if(c>t)throw new Error(i("data",c));if(n=a[t-c],!r)return n}let o=n;const c=r.split("/");for(const e of c)e&&(n=codegen_1._`${n}${(0,codegen_1.getProperty)((0,util_1.unescapeJsonPointer)(e))}`,o=codegen_1._`${o} && ${n}`);return o;function i(e,a){return`Cannot access ${e} ${a} levels up, current level is ${t}`}}exports.getData=getData;

},{"../codegen":6,"../errors":8,"../names":10,"../resolve":12,"../util":14,"./applicability":15,"./boolSchema":16,"./dataType":17,"./defaults":18,"./keyword":20,"./subschema":21}],20:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateKeywordUsage=exports.validSchemaType=exports.funcKeywordCode=exports.macroKeywordCode=void 0;const codegen_1=require("../codegen"),names_1=require("../names"),code_1=require("../../vocabularies/code"),errors_1=require("../errors");function macroKeywordCode(e,r){const{gen:o,keyword:a,schema:n,parentSchema:t,it:s}=e,c=r.macro.call(s.self,n,t,s),d=useKeyword(o,a,c);!1!==s.opts.validateSchema&&s.self.validateSchema(c,!0);const i=o.name("valid");e.subschema({schema:c,schemaPath:codegen_1.nil,errSchemaPath:`${s.errSchemaPath}/${a}`,topSchemaRef:d,compositeRule:!0},i),e.pass(i,()=>e.error(!0))}function funcKeywordCode(e,r){var o;const{gen:a,keyword:n,schema:t,parentSchema:s,$data:c,it:d}=e;checkAsyncKeyword(d,r);const i=!c&&r.compile?r.compile.call(d.self,t,s,d):r.validate,l=useKeyword(a,n,i),y=a.let("valid");function f(o=(r.async?codegen_1._`await `:codegen_1.nil)){const n=d.opts.passContext?names_1.default.this:names_1.default.self,t=!("compile"in r&&!c||!1===r.schema);a.assign(y,codegen_1._`${o}${(0,code_1.callValidateCode)(e,l,n,t)}`,r.modifying)}function m(e){var o;a.if((0,codegen_1.not)(null!==(o=r.valid)&&void 0!==o?o:y),e)}e.block$data(y,function(){if(!1===r.errors)f(),r.modifying&&modifyData(e),m(()=>e.error());else{const o=r.async?function(){const e=a.let("ruleErrs",null);return a.try(()=>f(codegen_1._`await `),r=>a.assign(y,!1).if(codegen_1._`${r} instanceof ${d.ValidationError}`,()=>a.assign(e,codegen_1._`${r}.errors`),()=>a.throw(r))),e}():function(){const e=codegen_1._`${l}.errors`;return a.assign(e,null),f(codegen_1.nil),e}();r.modifying&&modifyData(e),m(()=>addErrs(e,o))}}),e.ok(null!==(o=r.valid)&&void 0!==o?o:y)}function modifyData(e){const{gen:r,data:o,it:a}=e;r.if(a.parentData,()=>r.assign(o,codegen_1._`${a.parentData}[${a.parentDataProperty}]`))}function addErrs(e,r){const{gen:o}=e;o.if(codegen_1._`Array.isArray(${r})`,()=>{o.assign(names_1.default.vErrors,codegen_1._`${names_1.default.vErrors} === null ? ${r} : ${names_1.default.vErrors}.concat(${r})`).assign(names_1.default.errors,codegen_1._`${names_1.default.vErrors}.length`),(0,errors_1.extendErrors)(e)},()=>e.error())}function checkAsyncKeyword({schemaEnv:e},r){if(r.async&&!e.$async)throw new Error("async keyword in sync schema")}function useKeyword(e,r,o){if(void 0===o)throw new Error(`keyword "${r}" failed to compile`);return e.scopeValue("keyword","function"==typeof o?{ref:o}:{ref:o,code:(0,codegen_1.stringify)(o)})}function validSchemaType(e,r,o=!1){return!r.length||r.some(r=>"array"===r?Array.isArray(e):"object"===r?e&&"object"==typeof e&&!Array.isArray(e):typeof e==r||o&&void 0===e)}function validateKeywordUsage({schema:e,opts:r,self:o,errSchemaPath:a},n,t){if(Array.isArray(n.keyword)?!n.keyword.includes(t):n.keyword!==t)throw new Error("ajv implementation error");const s=n.dependencies;if(null==s?void 0:s.some(r=>!Object.prototype.hasOwnProperty.call(e,r)))throw new Error(`parent schema must have dependencies of ${t}: ${s.join(",")}`);if(n.validateSchema){if(!n.validateSchema(e[t])){const e=`keyword "${t}" value is invalid at path "${a}": `+o.errorsText(n.validateSchema.errors);if("log"!==r.validateSchema)throw new Error(e);o.logger.error(e)}}}exports.macroKeywordCode=macroKeywordCode,exports.funcKeywordCode=funcKeywordCode,exports.validSchemaType=validSchemaType,exports.validateKeywordUsage=validateKeywordUsage;

},{"../../vocabularies/code":46,"../codegen":6,"../errors":8,"../names":10}],21:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.extendSubschemaMode=exports.extendSubschemaData=exports.getSubschema=void 0;const codegen_1=require("../codegen"),util_1=require("../util");function getSubschema(e,{keyword:a,schemaProp:t,schema:r,schemaPath:o,errSchemaPath:d,topSchemaRef:c}){if(void 0!==a&&void 0!==r)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==a){const r=e.schema[a];return void 0===t?{schema:r,schemaPath:codegen_1._`${e.schemaPath}${(0,codegen_1.getProperty)(a)}`,errSchemaPath:`${e.errSchemaPath}/${a}`}:{schema:r[t],schemaPath:codegen_1._`${e.schemaPath}${(0,codegen_1.getProperty)(a)}${(0,codegen_1.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${a}/${(0,util_1.escapeFragment)(t)}`}}if(void 0!==r){if(void 0===o||void 0===d||void 0===c)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:o,topSchemaRef:c,errSchemaPath:d}}throw new Error('either "keyword" or "schema" must be passed')}function extendSubschemaData(e,a,{dataProp:t,dataPropType:r,data:o,dataTypes:d,propertyName:c}){if(void 0!==o&&void 0!==t)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:s}=a;if(void 0!==t){const{errorPath:o,dataPathArr:d,opts:c}=a;h(s.let("data",codegen_1._`${a.data}${(0,codegen_1.getProperty)(t)}`,!0)),e.errorPath=codegen_1.str`${o}${(0,util_1.getErrorPath)(t,r,c.jsPropertySyntax)}`,e.parentDataProperty=codegen_1._`${t}`,e.dataPathArr=[...d,e.parentDataProperty]}if(void 0!==o){h(o instanceof codegen_1.Name?o:s.let("data",o,!0)),void 0!==c&&(e.propertyName=c)}function h(t){e.data=t,e.dataLevel=a.dataLevel+1,e.dataTypes=[],a.definedProperties=new Set,e.parentData=a.data,e.dataNames=[...a.dataNames,t]}d&&(e.dataTypes=d)}function extendSubschemaMode(e,{jtdDiscriminator:a,jtdMetadata:t,compositeRule:r,createErrors:o,allErrors:d}){void 0!==r&&(e.compositeRule=r),void 0!==o&&(e.createErrors=o),void 0!==d&&(e.allErrors=d),e.jtdDiscriminator=a,e.jtdMetadata=t}exports.getSubschema=getSubschema,exports.extendSubschemaData=extendSubschemaData,exports.extendSubschemaMode=extendSubschemaMode;

},{"../codegen":6,"../util":14}],22:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CodeGen=exports.Name=exports.nil=exports.stringify=exports.str=exports._=exports.KeywordCxt=void 0;var validate_1=require("./compile/validate");Object.defineProperty(exports,"KeywordCxt",{enumerable:!0,get:function(){return validate_1.KeywordCxt}});var codegen_1=require("./compile/codegen");Object.defineProperty(exports,"_",{enumerable:!0,get:function(){return codegen_1._}}),Object.defineProperty(exports,"str",{enumerable:!0,get:function(){return codegen_1.str}}),Object.defineProperty(exports,"stringify",{enumerable:!0,get:function(){return codegen_1.stringify}}),Object.defineProperty(exports,"nil",{enumerable:!0,get:function(){return codegen_1.nil}}),Object.defineProperty(exports,"Name",{enumerable:!0,get:function(){return codegen_1.Name}}),Object.defineProperty(exports,"CodeGen",{enumerable:!0,get:function(){return codegen_1.CodeGen}});const validation_error_1=require("./runtime/validation_error"),ref_error_1=require("./compile/ref_error"),rules_1=require("./compile/rules"),compile_1=require("./compile"),codegen_2=require("./compile/codegen"),resolve_1=require("./compile/resolve"),dataType_1=require("./compile/validate/dataType"),util_1=require("./compile/util"),$dataRefSchema=require("./refs/data.json"),uri_1=require("./runtime/uri"),defaultRegExp=(e,t)=>new RegExp(e,t);defaultRegExp.code="new RegExp";const META_IGNORE_OPTIONS=["removeAdditional","useDefaults","coerceTypes"],EXT_SCOPE_NAMES=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),removedOptions={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},deprecatedOptions={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},MAX_EXPRESSION=200;function requiredOptions(e){var t,s,r,a,o,i,n,c,d,l,h,m,u,p,f,y,v,g,w,_,S,E,b,R,O;const $=e.strict,j=null===(t=e.code)||void 0===t?void 0:t.optimize,x=!0===j||void 0===j?1:j||0,I=null!==(r=null===(s=e.code)||void 0===s?void 0:s.regExp)&&void 0!==r?r:defaultRegExp,k=null!==(a=e.uriResolver)&&void 0!==a?a:uri_1.default;return{strictSchema:null===(i=null!==(o=e.strictSchema)&&void 0!==o?o:$)||void 0===i||i,strictNumbers:null===(c=null!==(n=e.strictNumbers)&&void 0!==n?n:$)||void 0===c||c,strictTypes:null!==(l=null!==(d=e.strictTypes)&&void 0!==d?d:$)&&void 0!==l?l:"log",strictTuples:null!==(m=null!==(h=e.strictTuples)&&void 0!==h?h:$)&&void 0!==m?m:"log",strictRequired:null!==(p=null!==(u=e.strictRequired)&&void 0!==u?u:$)&&void 0!==p&&p,code:e.code?{...e.code,optimize:x,regExp:I}:{optimize:x,regExp:I},loopRequired:null!==(f=e.loopRequired)&&void 0!==f?f:MAX_EXPRESSION,loopEnum:null!==(y=e.loopEnum)&&void 0!==y?y:MAX_EXPRESSION,meta:null===(v=e.meta)||void 0===v||v,messages:null===(g=e.messages)||void 0===g||g,inlineRefs:null===(w=e.inlineRefs)||void 0===w||w,schemaId:null!==(_=e.schemaId)&&void 0!==_?_:"$id",addUsedSchema:null===(S=e.addUsedSchema)||void 0===S||S,validateSchema:null===(E=e.validateSchema)||void 0===E||E,validateFormats:null===(b=e.validateFormats)||void 0===b||b,unicodeRegExp:null===(R=e.unicodeRegExp)||void 0===R||R,int32range:null===(O=e.int32range)||void 0===O||O,uriResolver:k}}class Ajv{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...requiredOptions(e)};const{es5:t,lines:s}=this.opts.code;this.scope=new codegen_2.ValueScope({scope:{},prefixes:EXT_SCOPE_NAMES,es5:t,lines:s}),this.logger=getLogger(e.logger);const r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,rules_1.getRules)(),checkOptions.call(this,removedOptions,e,"NOT SUPPORTED"),checkOptions.call(this,deprecatedOptions,e,"DEPRECATED","warn"),this._metaOpts=getMetaSchemaOptions.call(this),e.formats&&addInitialFormats.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&addInitialKeywords.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),addInitialSchemas.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:s}=this.opts;let r=$dataRefSchema;"id"===s&&((r={...$dataRefSchema}).id=r.$id,delete r.$id),t&&e&&this.addMetaSchema(r,r[s],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let s;if("string"==typeof e){if(!(s=this.getSchema(e)))throw new Error(`no schema with key or ref "${e}"`)}else s=this.compile(e);const r=s(t);return"$async"in s||(this.errors=s.errors),r}compile(e,t){const s=this._addSchema(e,t);return s.validate||this._compileSchemaEnv(s)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:s}=this.opts;return r.call(this,e,t);async function r(e,r){await a.call(this,e.$schema);const o=this._addSchema(e,r);return o.validate||async function e(r){try{return this._compileSchemaEnv(r)}catch(o){if(!(o instanceof ref_error_1.default))throw o;return function({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}.call(this,o),await async function(e){const r=await async function(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=s(e))}finally{delete this._loading[e]}}.call(this,e);this.refs[e]||await a.call(this,r.$schema);this.refs[e]||this.addSchema(r,e,t)}.call(this,o.missingSchema),e.call(this,r)}}.call(this,o)}async function a(e){e&&!this.getSchema(e)&&await r.call(this,{$ref:e},!0)}}addSchema(e,t,s,r=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,s,r);return this}let a;if("object"==typeof e){const{schemaId:t}=this.opts;if(void 0!==(a=e[t])&&"string"!=typeof a)throw new Error(`schema ${t} must be string`)}return t=(0,resolve_1.normalizeId)(t||a),this._checkUnique(t),this.schemas[t]=this._addSchema(e,s,t,r,!0),this}addMetaSchema(e,t,s=this.opts.validateSchema){return this.addSchema(e,t,!0,s),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let s;if(void 0!==(s=e.$schema)&&"string"!=typeof s)throw new Error("$schema must be a string");if(!(s=s||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;const r=this.validate(s,e);if(!r&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return r}getSchema(e){let t;for(;"string"==typeof(t=getSchEnv.call(this,e));)e=t;if(void 0===t){const{schemaId:s}=this.opts,r=new compile_1.SchemaEnv({schema:{},schemaId:s});if(!(t=compile_1.resolveSchema.call(this,r,e)))return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=getSchEnv.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let s=e[this.opts.schemaId];return s&&(s=(0,resolve_1.normalizeId)(s),delete this.schemas[s],delete this.refs[s]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let s;if("string"==typeof e)s=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=s);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(s=(t=e).keyword,Array.isArray(s)&&!s.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(checkKeyword.call(this,s,t),!t)return(0,util_1.eachItem)(s,e=>addRule.call(this,e)),this;keywordMetaschema.call(this,t);const r={...t,type:(0,dataType_1.getJSONTypes)(t.type),schemaType:(0,dataType_1.getJSONTypes)(t.schemaType)};return(0,util_1.eachItem)(s,0===r.type.length?e=>addRule.call(this,e,r):e=>r.type.forEach(t=>addRule.call(this,e,r,t))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const s of t.rules){const t=s.rules.findIndex(t=>t.keyword===e);t>=0&&s.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:s="data"}={}){return e&&0!==e.length?e.map(e=>`${s}${e.instancePath} ${e.message}`).reduce((e,s)=>e+t+s):"No errors"}$dataMetaSchema(e,t){const s=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const r of t){const t=r.split("/").slice(1);let a=e;for(const e of t)a=a[e];for(const e in s){const t=s[e];if("object"!=typeof t)continue;const{$data:r}=t.definition,o=a[e];r&&o&&(a[e]=schemaOrData(o))}}return e}_removeAllSchemas(e,t){for(const s in e){const r=e[s];t&&!t.test(s)||("string"==typeof r?delete e[s]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[s]))}}_addSchema(e,t,s,r=this.opts.validateSchema,a=this.opts.addUsedSchema){let o;const{schemaId:i}=this.opts;if("object"==typeof e)o=e[i];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let n=this._cache.get(e);if(void 0!==n)return n;s=(0,resolve_1.normalizeId)(o||s);const c=resolve_1.getSchemaRefs.call(this,e,s);return n=new compile_1.SchemaEnv({schema:e,schemaId:i,meta:t,baseId:s,localRefs:c}),this._cache.set(n.schema,n),a&&!s.startsWith("#")&&(s&&this._checkUnique(s),this.refs[s]=n),r&&this.validateSchema(e,!0),n}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):compile_1.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{compile_1.compileSchema.call(this,e)}finally{this.opts=t}}}function checkOptions(e,t,s,r="error"){for(const a in e){const o=a;o in t&&this.logger[r](`${s}: option ${a}. ${e[o]}`)}}function getSchEnv(e){return e=(0,resolve_1.normalizeId)(e),this.schemas[e]||this.refs[e]}function addInitialSchemas(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function addInitialFormats(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function addInitialKeywords(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const s=e[t];s.keyword||(s.keyword=t),this.addKeyword(s)}}}function getMetaSchemaOptions(){const e={...this.opts};for(const t of META_IGNORE_OPTIONS)delete e[t];return e}exports.default=Ajv,Ajv.ValidationError=validation_error_1.default,Ajv.MissingRefError=ref_error_1.default;const noLogs={log(){},warn(){},error(){}};function getLogger(e){if(!1===e)return noLogs;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}const KEYWORD_NAME=/^[a-z_$][a-z0-9_$:-]*$/i;function checkKeyword(e,t){const{RULES:s}=this;if((0,util_1.eachItem)(e,e=>{if(s.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!KEYWORD_NAME.test(e))throw new Error(`Keyword ${e} has invalid name`)}),t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function addRule(e,t,s){var r;const a=null==t?void 0:t.post;if(s&&a)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:o}=this;let i=a?o.post:o.rules.find(({type:e})=>e===s);if(i||(i={type:s,rules:[]},o.rules.push(i)),o.keywords[e]=!0,!t)return;const n={keyword:e,definition:{...t,type:(0,dataType_1.getJSONTypes)(t.type),schemaType:(0,dataType_1.getJSONTypes)(t.schemaType)}};t.before?addBeforeRule.call(this,i,n,t.before):i.rules.push(n),o.all[e]=n,null===(r=t.implements)||void 0===r||r.forEach(e=>this.addKeyword(e))}function addBeforeRule(e,t,s){const r=e.rules.findIndex(e=>e.keyword===s);r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn(`rule ${s} is not defined`))}function keywordMetaschema(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=schemaOrData(t)),e.validateSchema=this.compile(t,!0))}const $dataRef={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function schemaOrData(e){return{anyOf:[e,$dataRef]}}

},{"./compile":9,"./compile/codegen":6,"./compile/ref_error":11,"./compile/resolve":12,"./compile/rules":13,"./compile/util":14,"./compile/validate":19,"./compile/validate/dataType":17,"./refs/data.json":23,"./runtime/uri":27,"./runtime/validation_error":28}],23:[function(require,module,exports){
module.exports={
  "$id": "https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",
  "description": "Meta-schema for $data reference (JSON AnySchema extension proposal)",
  "type": "object",
  "required": ["$data"],
  "properties": {
    "$data": {
      "type": "string",
      "anyOf": [{"format": "relative-json-pointer"}, {"format": "json-pointer"}]
    }
  },
  "additionalProperties": false
}

},{}],24:[function(require,module,exports){
module.exports={
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://json-schema.org/draft-07/schema#",
  "title": "Core schema meta-schema",
  "definitions": {
    "schemaArray": {
      "type": "array",
      "minItems": 1,
      "items": {"$ref": "#"}
    },
    "nonNegativeInteger": {
      "type": "integer",
      "minimum": 0
    },
    "nonNegativeIntegerDefault0": {
      "allOf": [{"$ref": "#/definitions/nonNegativeInteger"}, {"default": 0}]
    },
    "simpleTypes": {
      "enum": ["array", "boolean", "integer", "null", "number", "object", "string"]
    },
    "stringArray": {
      "type": "array",
      "items": {"type": "string"},
      "uniqueItems": true,
      "default": []
    }
  },
  "type": ["object", "boolean"],
  "properties": {
    "$id": {
      "type": "string",
      "format": "uri-reference"
    },
    "$schema": {
      "type": "string",
      "format": "uri"
    },
    "$ref": {
      "type": "string",
      "format": "uri-reference"
    },
    "$comment": {
      "type": "string"
    },
    "title": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "default": true,
    "readOnly": {
      "type": "boolean",
      "default": false
    },
    "examples": {
      "type": "array",
      "items": true
    },
    "multipleOf": {
      "type": "number",
      "exclusiveMinimum": 0
    },
    "maximum": {
      "type": "number"
    },
    "exclusiveMaximum": {
      "type": "number"
    },
    "minimum": {
      "type": "number"
    },
    "exclusiveMinimum": {
      "type": "number"
    },
    "maxLength": {"$ref": "#/definitions/nonNegativeInteger"},
    "minLength": {"$ref": "#/definitions/nonNegativeIntegerDefault0"},
    "pattern": {
      "type": "string",
      "format": "regex"
    },
    "additionalItems": {"$ref": "#"},
    "items": {
      "anyOf": [{"$ref": "#"}, {"$ref": "#/definitions/schemaArray"}],
      "default": true
    },
    "maxItems": {"$ref": "#/definitions/nonNegativeInteger"},
    "minItems": {"$ref": "#/definitions/nonNegativeIntegerDefault0"},
    "uniqueItems": {
      "type": "boolean",
      "default": false
    },
    "contains": {"$ref": "#"},
    "maxProperties": {"$ref": "#/definitions/nonNegativeInteger"},
    "minProperties": {"$ref": "#/definitions/nonNegativeIntegerDefault0"},
    "required": {"$ref": "#/definitions/stringArray"},
    "additionalProperties": {"$ref": "#"},
    "definitions": {
      "type": "object",
      "additionalProperties": {"$ref": "#"},
      "default": {}
    },
    "properties": {
      "type": "object",
      "additionalProperties": {"$ref": "#"},
      "default": {}
    },
    "patternProperties": {
      "type": "object",
      "additionalProperties": {"$ref": "#"},
      "propertyNames": {"format": "regex"},
      "default": {}
    },
    "dependencies": {
      "type": "object",
      "additionalProperties": {
        "anyOf": [{"$ref": "#"}, {"$ref": "#/definitions/stringArray"}]
      }
    },
    "propertyNames": {"$ref": "#"},
    "const": true,
    "enum": {
      "type": "array",
      "items": true,
      "minItems": 1,
      "uniqueItems": true
    },
    "type": {
      "anyOf": [
        {"$ref": "#/definitions/simpleTypes"},
        {
          "type": "array",
          "items": {"$ref": "#/definitions/simpleTypes"},
          "minItems": 1,
          "uniqueItems": true
        }
      ]
    },
    "format": {"type": "string"},
    "contentMediaType": {"type": "string"},
    "contentEncoding": {"type": "string"},
    "if": {"$ref": "#"},
    "then": {"$ref": "#"},
    "else": {"$ref": "#"},
    "allOf": {"$ref": "#/definitions/schemaArray"},
    "anyOf": {"$ref": "#/definitions/schemaArray"},
    "oneOf": {"$ref": "#/definitions/schemaArray"},
    "not": {"$ref": "#"}
  },
  "default": true
}

},{}],25:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const equal=require("fast-deep-equal");equal.code='require("ajv/dist/runtime/equal").default',exports.default=equal;

},{"fast-deep-equal":93}],26:[function(require,module,exports){
"use strict";function ucs2length(e){const t=e.length;let r,u=0,c=0;for(;c<t;)u++,(r=e.charCodeAt(c++))>=55296&&r<=56319&&c<t&&56320==(64512&(r=e.charCodeAt(c)))&&c++;return u}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=ucs2length,ucs2length.code='require("ajv/dist/runtime/ucs2length").default';

},{}],27:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const uri=require("uri-js");uri.code='require("ajv/dist/runtime/uri").default',exports.default=uri;

},{"uri-js":142}],28:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class ValidationError extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}exports.default=ValidationError;

},{}],29:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateAdditionalItems=void 0;const codegen_1=require("../../compile/codegen"),util_1=require("../../compile/util"),error={message:({params:{len:e}})=>codegen_1.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>codegen_1._`{limit: ${e}}`},def={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:error,code(e){const{parentSchema:t,it:a}=e,{items:o}=t;Array.isArray(o)?validateAdditionalItems(e,o):(0,util_1.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas')}};function validateAdditionalItems(e,t){const{gen:a,schema:o,data:i,keyword:r,it:n}=e;n.items=!0;const s=a.const("len",codegen_1._`${i}.length`);if(!1===o)e.setParams({len:t.length}),e.pass(codegen_1._`${s} <= ${t.length}`);else if("object"==typeof o&&!(0,util_1.alwaysValidSchema)(n,o)){const o=a.var("valid",codegen_1._`${s} <= ${t.length}`);a.if((0,codegen_1.not)(o),()=>(function(o){a.forRange("i",t.length,s,t=>{e.subschema({keyword:r,dataProp:t,dataPropType:util_1.Type.Num},o),n.allErrors||a.if((0,codegen_1.not)(o),()=>a.break())})})(o)),e.ok(o)}}exports.validateAdditionalItems=validateAdditionalItems,exports.default=def;

},{"../../compile/codegen":6,"../../compile/util":14}],30:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const code_1=require("../code"),codegen_1=require("../../compile/codegen"),names_1=require("../../compile/names"),util_1=require("../../compile/util"),error={message:"must NOT have additional properties",params:({params:e})=>codegen_1._`{additionalProperty: ${e.additionalProperty}}`},def={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:error,code(e){const{gen:r,schema:o,parentSchema:t,data:a,errsCount:i,it:n}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:d,opts:l}=n;if(n.props=!0,"all"!==l.removeAdditional&&(0,util_1.alwaysValidSchema)(n,o))return;const s=(0,code_1.allSchemaProperties)(t.properties),c=(0,code_1.allSchemaProperties)(t.patternProperties);function p(e){r.code(codegen_1._`delete ${a}[${e}]`)}function _(t){if("all"===l.removeAdditional||l.removeAdditional&&!1===o)p(t);else{if(!1===o)return e.setParams({additionalProperty:t}),e.error(),void(d||r.break());if("object"==typeof o&&!(0,util_1.alwaysValidSchema)(n,o)){const o=r.name("valid");"failing"===l.removeAdditional?(m(t,o,!1),r.if((0,codegen_1.not)(o),()=>{e.reset(),p(t)})):(m(t,o),d||r.if((0,codegen_1.not)(o),()=>r.break()))}}}function m(r,o,t){const a={keyword:"additionalProperties",dataProp:r,dataPropType:util_1.Type.Str};!1===t&&Object.assign(a,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(a,o)}r.forIn("key",a,o=>{s.length||c.length?r.if(function(o){let a;if(s.length>8){const e=(0,util_1.schemaRefOrVal)(n,t.properties,"properties");a=(0,code_1.isOwnProperty)(r,e,o)}else a=s.length?(0,codegen_1.or)(...s.map(e=>codegen_1._`${o} === ${e}`)):codegen_1.nil;return c.length&&(a=(0,codegen_1.or)(a,...c.map(r=>codegen_1._`${(0,code_1.usePattern)(e,r)}.test(${o})`))),(0,codegen_1.not)(a)}(o),()=>_(o)):_(o)}),e.ok(codegen_1._`${i} === ${names_1.default.errors}`)}};exports.default=def;

},{"../../compile/codegen":6,"../../compile/names":10,"../../compile/util":14,"../code":46}],31:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const util_1=require("../../compile/util"),def={keyword:"allOf",schemaType:"array",code(e){const{gen:r,schema:a,it:t}=e;if(!Array.isArray(a))throw new Error("ajv implementation error");const o=r.name("valid");a.forEach((r,a)=>{if((0,util_1.alwaysValidSchema)(t,r))return;const l=e.subschema({keyword:"allOf",schemaProp:a},o);e.ok(o),e.mergeEvaluated(l)})}};exports.default=def;

},{"../../compile/util":14}],32:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const code_1=require("../code"),def={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:code_1.validateUnion,error:{message:"must match a schema in anyOf"}};exports.default=def;

},{"../code":46}],33:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const codegen_1=require("../../compile/codegen"),util_1=require("../../compile/util"),error={message:({params:{min:e,max:n}})=>void 0===n?codegen_1.str`must contain at least ${e} valid item(s)`:codegen_1.str`must contain at least ${e} and no more than ${n} valid item(s)`,params:({params:{min:e,max:n}})=>void 0===n?codegen_1._`{minContains: ${e}}`:codegen_1._`{minContains: ${e}, maxContains: ${n}}`},def={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:error,code(e){const{gen:n,schema:i,parentSchema:o,data:t,it:a}=e;let s,r;const{minContains:c,maxContains:d}=o;a.opts.next?(s=void 0===c?1:c,r=d):s=1;const m=n.const("len",codegen_1._`${t}.length`);if(e.setParams({min:s,max:r}),void 0===r&&0===s)return void(0,util_1.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==r&&s>r)return(0,util_1.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,util_1.alwaysValidSchema)(a,i)){let n=codegen_1._`${m} >= ${s}`;return void 0!==r&&(n=codegen_1._`${n} && ${m} <= ${r}`),void e.pass(n)}a.items=!0;const l=n.name("valid");function _(){const e=n.name("_valid"),i=n.let("count",0);u(e,()=>n.if(e,()=>(function(e){n.code(codegen_1._`${e}++`),void 0===r?n.if(codegen_1._`${e} >= ${s}`,()=>n.assign(l,!0).break()):(n.if(codegen_1._`${e} > ${r}`,()=>n.assign(l,!1).break()),1===s?n.assign(l,!0):n.if(codegen_1._`${e} >= ${s}`,()=>n.assign(l,!0)))})(i)))}function u(i,o){n.forRange("i",0,m,n=>{e.subschema({keyword:"contains",dataProp:n,dataPropType:util_1.Type.Num,compositeRule:!0},i),o()})}void 0===r&&1===s?u(l,()=>n.if(l,()=>n.break())):0===s?(n.let(l,!0),void 0!==r&&n.if(codegen_1._`${t}.length > 0`,_)):(n.let(l,!1),_()),e.result(l,()=>e.reset())}};exports.default=def;

},{"../../compile/codegen":6,"../../compile/util":14}],34:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateSchemaDeps=exports.validatePropertyDeps=exports.error=void 0;const codegen_1=require("../../compile/codegen"),util_1=require("../../compile/util"),code_1=require("../code");exports.error={message:({params:{property:e,depsCount:r,deps:o}})=>{const t=1===r?"property":"properties";return codegen_1.str`must have ${t} ${o} when property ${e} is present`},params:({params:{property:e,depsCount:r,deps:o,missingProperty:t}})=>codegen_1._`{property: ${e},
    missingProperty: ${t},
    depsCount: ${r},
    deps: ${o}}`};const def={keyword:"dependencies",type:"object",schemaType:"object",error:exports.error,code(e){const[r,o]=splitDependencies(e);validatePropertyDeps(e,r),validateSchemaDeps(e,o)}};function splitDependencies({schema:e}){const r={},o={};for(const t in e){if("__proto__"===t)continue;(Array.isArray(e[t])?r:o)[t]=e[t]}return[r,o]}function validatePropertyDeps(e,r=e.schema){const{gen:o,data:t,it:s}=e;if(0===Object.keys(r).length)return;const p=o.let("missing");for(const n in r){const a=r[n];if(0===a.length)continue;const i=(0,code_1.propertyInData)(o,t,n,s.opts.ownProperties);e.setParams({property:n,depsCount:a.length,deps:a.join(", ")}),s.allErrors?o.if(i,()=>{for(const r of a)(0,code_1.checkReportMissingProp)(e,r)}):(o.if(codegen_1._`${i} && (${(0,code_1.checkMissingProp)(e,a,p)})`),(0,code_1.reportMissingProp)(e,p),o.else())}}function validateSchemaDeps(e,r=e.schema){const{gen:o,data:t,keyword:s,it:p}=e,n=o.name("valid");for(const a in r)(0,util_1.alwaysValidSchema)(p,r[a])||(o.if((0,code_1.propertyInData)(o,t,a,p.opts.ownProperties),()=>{const r=e.subschema({keyword:s,schemaProp:a},n);e.mergeValidEvaluated(r,n)},()=>o.var(n,!0)),e.ok(n))}exports.validatePropertyDeps=validatePropertyDeps,exports.validateSchemaDeps=validateSchemaDeps,exports.default=def;

},{"../../compile/codegen":6,"../../compile/util":14,"../code":46}],35:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const codegen_1=require("../../compile/codegen"),util_1=require("../../compile/util"),error={message:({params:e})=>codegen_1.str`must match "${e.ifClause}" schema`,params:({params:e})=>codegen_1._`{failingKeyword: ${e.ifClause}}`},def={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:error,code(e){const{gen:s,parentSchema:r,it:a}=e;void 0===r.then&&void 0===r.else&&(0,util_1.checkStrictMode)(a,'"if" without "then" and "else" is ignored');const t=hasSchema(a,"then"),o=hasSchema(a,"else");if(!t&&!o)return;const i=s.let("valid",!0),c=s.name("_valid");if(function(){const s=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);e.mergeEvaluated(s)}(),e.reset(),t&&o){const r=s.let("ifClause");e.setParams({ifClause:r}),s.if(c,n("then",r),n("else",r))}else t?s.if(c,n("then")):s.if((0,codegen_1.not)(c),n("else"));function n(r,a){return()=>{const t=e.subschema({keyword:r},c);s.assign(i,c),e.mergeValidEvaluated(t,i),a?s.assign(a,codegen_1._`${r}`):e.setParams({ifClause:r})}}e.pass(i,()=>e.error(!0))}};function hasSchema(e,s){const r=e.schema[s];return void 0!==r&&!(0,util_1.alwaysValidSchema)(e,r)}exports.default=def;

},{"../../compile/codegen":6,"../../compile/util":14}],36:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const additionalItems_1=require("./additionalItems"),prefixItems_1=require("./prefixItems"),items_1=require("./items"),items2020_1=require("./items2020"),contains_1=require("./contains"),dependencies_1=require("./dependencies"),propertyNames_1=require("./propertyNames"),additionalProperties_1=require("./additionalProperties"),properties_1=require("./properties"),patternProperties_1=require("./patternProperties"),not_1=require("./not"),anyOf_1=require("./anyOf"),oneOf_1=require("./oneOf"),allOf_1=require("./allOf"),if_1=require("./if"),thenElse_1=require("./thenElse");function getApplicator(e=!1){const t=[not_1.default,anyOf_1.default,oneOf_1.default,allOf_1.default,if_1.default,thenElse_1.default,propertyNames_1.default,additionalProperties_1.default,dependencies_1.default,properties_1.default,patternProperties_1.default];return e?t.push(prefixItems_1.default,items2020_1.default):t.push(additionalItems_1.default,items_1.default),t.push(contains_1.default),t}exports.default=getApplicator;

},{"./additionalItems":29,"./additionalProperties":30,"./allOf":31,"./anyOf":32,"./contains":33,"./dependencies":34,"./if":35,"./items":37,"./items2020":38,"./not":39,"./oneOf":40,"./patternProperties":41,"./prefixItems":42,"./properties":43,"./propertyNames":44,"./thenElse":45}],37:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateTuple=void 0;const codegen_1=require("../../compile/codegen"),util_1=require("../../compile/util"),code_1=require("../code"),def={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:a}=e;if(Array.isArray(t))return validateTuple(e,"additionalItems",t);a.items=!0,(0,util_1.alwaysValidSchema)(a,t)||e.ok((0,code_1.validateArray)(e))}};function validateTuple(e,t,a=e.schema){const{gen:i,parentSchema:o,data:r,keyword:s,it:l}=e;!function(e){const{opts:i,errSchemaPath:o}=l,r=a.length,c=r===e.minItems&&(r===e.maxItems||!1===e[t]);if(i.strictTuples&&!c){const e=`"${s}" is ${r}-tuple, but minItems or maxItems/${t} are not specified or different at path "${o}"`;(0,util_1.checkStrictMode)(l,e,i.strictTuples)}}(o),l.opts.unevaluated&&a.length&&!0!==l.items&&(l.items=util_1.mergeEvaluated.items(i,a.length,l.items));const c=i.name("valid"),d=i.const("len",codegen_1._`${r}.length`);a.forEach((t,a)=>{(0,util_1.alwaysValidSchema)(l,t)||(i.if(codegen_1._`${d} > ${a}`,()=>e.subschema({keyword:s,schemaProp:a,dataProp:a},c)),e.ok(c))})}exports.validateTuple=validateTuple,exports.default=def;

},{"../../compile/codegen":6,"../../compile/util":14,"../code":46}],38:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const codegen_1=require("../../compile/codegen"),util_1=require("../../compile/util"),code_1=require("../code"),additionalItems_1=require("./additionalItems"),error={message:({params:{len:e}})=>codegen_1.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>codegen_1._`{limit: ${e}}`},def={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:error,code(e){const{schema:r,parentSchema:t,it:a}=e,{prefixItems:i}=t;a.items=!0,(0,util_1.alwaysValidSchema)(a,r)||(i?(0,additionalItems_1.validateAdditionalItems)(e,i):e.ok((0,code_1.validateArray)(e)))}};exports.default=def;

},{"../../compile/codegen":6,"../../compile/util":14,"../code":46,"./additionalItems":29}],39:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const util_1=require("../../compile/util"),def={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:r,schema:o,it:t}=e;if((0,util_1.alwaysValidSchema)(t,o))return void e.fail();const s=r.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};exports.default=def;

},{"../../compile/util":14}],40:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const codegen_1=require("../../compile/codegen"),util_1=require("../../compile/util"),error={message:"must match exactly one schema in oneOf",params:({params:e})=>codegen_1._`{passingSchemas: ${e.passing}}`},def={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:error,code(e){const{gen:r,schema:a,parentSchema:s,it:o}=e;if(!Array.isArray(a))throw new Error("ajv implementation error");if(o.opts.discriminator&&s.discriminator)return;const i=a,n=r.let("valid",!1),t=r.let("passing",null),c=r.name("_valid");e.setParams({passing:t}),r.block(function(){i.forEach((a,s)=>{let i;(0,util_1.alwaysValidSchema)(o,a)?r.var(c,!0):i=e.subschema({keyword:"oneOf",schemaProp:s,compositeRule:!0},c),s>0&&r.if(codegen_1._`${c} && ${n}`).assign(n,!1).assign(t,codegen_1._`[${t}, ${s}]`).else(),r.if(c,()=>{r.assign(n,!0),r.assign(t,s),i&&e.mergeEvaluated(i,codegen_1.Name)})})}),e.result(n,()=>e.reset(),()=>e.error(!0))}};exports.default=def;

},{"../../compile/codegen":6,"../../compile/util":14}],41:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const code_1=require("../code"),codegen_1=require("../../compile/codegen"),util_1=require("../../compile/util"),util_2=require("../../compile/util"),def={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:o,data:r,parentSchema:a,it:s}=e,{opts:c}=s,n=(0,code_1.allSchemaProperties)(o),p=n.filter(e=>(0,util_1.alwaysValidSchema)(s,o[e]));if(0===n.length||p.length===n.length&&(!s.opts.unevaluated||!0===s.props))return;const i=c.strictSchema&&!c.allowMatchingProperties&&a.properties,l=t.name("valid");!0===s.props||s.props instanceof codegen_1.Name||(s.props=(0,util_2.evaluatedPropsToName)(t,s.props));const{props:u}=s;function d(e){for(const t in i)new RegExp(e).test(t)&&(0,util_1.checkStrictMode)(s,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function _(o){t.forIn("key",r,r=>{t.if(codegen_1._`${(0,code_1.usePattern)(e,o)}.test(${r})`,()=>{const a=p.includes(o);a||e.subschema({keyword:"patternProperties",schemaProp:o,dataProp:r,dataPropType:util_2.Type.Str},l),s.opts.unevaluated&&!0!==u?t.assign(codegen_1._`${u}[${r}]`,!0):a||s.allErrors||t.if((0,codegen_1.not)(l),()=>t.break())})})}!function(){for(const e of n)i&&d(e),s.allErrors?_(e):(t.var(l,!0),_(e),t.if(l))}()}};exports.default=def;

},{"../../compile/codegen":6,"../../compile/util":14,"../code":46}],42:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const items_1=require("./items"),def={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,items_1.validateTuple)(e,"items")};exports.default=def;

},{"./items":37}],43:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const validate_1=require("../../compile/validate"),code_1=require("../code"),util_1=require("../../compile/util"),additionalProperties_1=require("./additionalProperties"),def={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:o,parentSchema:r,data:i,it:a}=e;"all"===a.opts.removeAdditional&&void 0===r.additionalProperties&&additionalProperties_1.default.code(new validate_1.KeywordCxt(a,additionalProperties_1.default,"additionalProperties"));const d=(0,code_1.allSchemaProperties)(o);for(const e of d)a.definedProperties.add(e);a.opts.unevaluated&&d.length&&!0!==a.props&&(a.props=util_1.mergeEvaluated.props(t,(0,util_1.toHash)(d),a.props));const s=d.filter(e=>!(0,util_1.alwaysValidSchema)(a,o[e]));if(0===s.length)return;const l=t.name("valid");for(const o of s)p(o)?n(o):(t.if((0,code_1.propertyInData)(t,i,o,a.opts.ownProperties)),n(o),a.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(o),e.ok(l);function p(e){return a.opts.useDefaults&&!a.compositeRule&&void 0!==o[e].default}function n(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},l)}}};exports.default=def;

},{"../../compile/util":14,"../../compile/validate":19,"../code":46,"./additionalProperties":30}],44:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const codegen_1=require("../../compile/codegen"),util_1=require("../../compile/util"),error={message:"property name must be valid",params:({params:e})=>codegen_1._`{propertyName: ${e.propertyName}}`},def={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:error,code(e){const{gen:r,schema:o,data:a,it:t}=e;if((0,util_1.alwaysValidSchema)(t,o))return;const s=r.name("valid");r.forIn("key",a,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),r.if((0,codegen_1.not)(s),()=>{e.error(!0),t.allErrors||r.break()})}),e.ok(s)}};exports.default=def;

},{"../../compile/codegen":6,"../../compile/util":14}],45:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const util_1=require("../../compile/util"),def={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:o}){void 0===t.if&&(0,util_1.checkStrictMode)(o,`"${e}" without "if" is ignored`)}};exports.default=def;

},{"../../compile/util":14}],46:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateUnion=exports.validateArray=exports.usePattern=exports.callValidateCode=exports.schemaProperties=exports.allSchemaProperties=exports.noPropertyInData=exports.propertyInData=exports.isOwnProperty=exports.hasPropFunc=exports.reportMissingProp=exports.checkMissingProp=exports.checkReportMissingProp=void 0;const codegen_1=require("../compile/codegen"),util_1=require("../compile/util"),names_1=require("../compile/names"),util_2=require("../compile/util");function checkReportMissingProp(e,r){const{gen:t,data:o,it:n}=e;t.if(noPropertyInData(t,o,r,n.opts.ownProperties),()=>{e.setParams({missingProperty:codegen_1._`${r}`},!0),e.error()})}function checkMissingProp({gen:e,data:r,it:{opts:t}},o,n){return(0,codegen_1.or)(...o.map(o=>(0,codegen_1.and)(noPropertyInData(e,r,o,t.ownProperties),codegen_1._`${n} = ${o}`)))}function reportMissingProp(e,r){e.setParams({missingProperty:r},!0),e.error()}function hasPropFunc(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:codegen_1._`Object.prototype.hasOwnProperty`})}function isOwnProperty(e,r,t){return codegen_1._`${hasPropFunc(e)}.call(${r}, ${t})`}function propertyInData(e,r,t,o){const n=codegen_1._`${r}${(0,codegen_1.getProperty)(t)} !== undefined`;return o?codegen_1._`${n} && ${isOwnProperty(e,r,t)}`:n}function noPropertyInData(e,r,t,o){const n=codegen_1._`${r}${(0,codegen_1.getProperty)(t)} === undefined`;return o?(0,codegen_1.or)(n,(0,codegen_1.not)(isOwnProperty(e,r,t))):n}function allSchemaProperties(e){return e?Object.keys(e).filter(e=>"__proto__"!==e):[]}function schemaProperties(e,r){return allSchemaProperties(r).filter(t=>!(0,util_1.alwaysValidSchema)(e,r[t]))}function callValidateCode({schemaCode:e,data:r,it:{gen:t,topSchemaRef:o,schemaPath:n,errorPath:a},it:s},i,c,p){const d=p?codegen_1._`${e}, ${r}, ${o}${n}`:r,l=[[names_1.default.instancePath,(0,codegen_1.strConcat)(names_1.default.instancePath,a)],[names_1.default.parentData,s.parentData],[names_1.default.parentDataProperty,s.parentDataProperty],[names_1.default.rootData,names_1.default.rootData]];s.opts.dynamicRef&&l.push([names_1.default.dynamicAnchors,names_1.default.dynamicAnchors]);const u=codegen_1._`${d}, ${t.object(...l)}`;return c!==codegen_1.nil?codegen_1._`${i}.call(${c}, ${u})`:codegen_1._`${i}(${u})`}exports.checkReportMissingProp=checkReportMissingProp,exports.checkMissingProp=checkMissingProp,exports.reportMissingProp=reportMissingProp,exports.hasPropFunc=hasPropFunc,exports.isOwnProperty=isOwnProperty,exports.propertyInData=propertyInData,exports.noPropertyInData=noPropertyInData,exports.allSchemaProperties=allSchemaProperties,exports.schemaProperties=schemaProperties,exports.callValidateCode=callValidateCode;const newRegExp=codegen_1._`new RegExp`;function usePattern({gen:e,it:{opts:r}},t){const o=r.unicodeRegExp?"u":"",{regExp:n}=r.code,a=n(t,o);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:codegen_1._`${"new RegExp"===n.code?newRegExp:(0,util_2.useFunc)(e,n)}(${t}, ${o})`})}function validateArray(e){const{gen:r,data:t,keyword:o,it:n}=e,a=r.name("valid");if(n.allErrors){const e=r.let("valid",!0);return s(()=>r.assign(e,!1)),e}return r.var(a,!0),s(()=>r.break()),a;function s(n){const s=r.const("len",codegen_1._`${t}.length`);r.forRange("i",0,s,t=>{e.subschema({keyword:o,dataProp:t,dataPropType:util_1.Type.Num},a),r.if((0,codegen_1.not)(a),n)})}}function validateUnion(e){const{gen:r,schema:t,keyword:o,it:n}=e;if(!Array.isArray(t))throw new Error("ajv implementation error");if(t.some(e=>(0,util_1.alwaysValidSchema)(n,e))&&!n.opts.unevaluated)return;const a=r.let("valid",!1),s=r.name("_valid");r.block(()=>t.forEach((t,n)=>{const i=e.subschema({keyword:o,schemaProp:n,compositeRule:!0},s);r.assign(a,codegen_1._`${a} || ${s}`),e.mergeValidEvaluated(i,s)||r.if((0,codegen_1.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}exports.usePattern=usePattern,exports.validateArray=validateArray,exports.validateUnion=validateUnion;

},{"../compile/codegen":6,"../compile/names":10,"../compile/util":14}],47:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const def={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};exports.default=def;

},{}],48:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const id_1=require("./id"),ref_1=require("./ref"),core=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",id_1.default,ref_1.default];exports.default=core;

},{"./id":47,"./ref":49}],49:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.callRef=exports.getValidate=void 0;const ref_error_1=require("../../compile/ref_error"),code_1=require("../code"),codegen_1=require("../../compile/codegen"),names_1=require("../../compile/names"),compile_1=require("../../compile"),util_1=require("../../compile/util"),def={keyword:"$ref",schemaType:"string",code(e){const{gen:a,schema:o,it:t}=e,{baseId:r,schemaEnv:s,validateName:n,opts:c,self:i}=t,{root:l}=s;if(("#"===o||"#/"===o)&&r===l.baseId)return function(){if(s===l)return callRef(e,n,s,s.$async);const o=a.scopeValue("root",{ref:l});return callRef(e,codegen_1._`${o}.validate`,l,l.$async)}();const d=compile_1.resolveRef.call(i,l,r,o);if(void 0===d)throw new ref_error_1.default(t.opts.uriResolver,r,o);return d instanceof compile_1.SchemaEnv?function(a){const o=getValidate(e,a);callRef(e,o,a,a.$async)}(d):function(t){const r=a.scopeValue("schema",!0===c.code.source?{ref:t,code:(0,codegen_1.stringify)(t)}:{ref:t}),s=a.name("valid"),n=e.subschema({schema:t,dataTypes:[],schemaPath:codegen_1.nil,topSchemaRef:r,errSchemaPath:o},s);e.mergeEvaluated(n),e.ok(s)}(d)}};function getValidate(e,a){const{gen:o}=e;return a.validate?o.scopeValue("validate",{ref:a.validate}):codegen_1._`${o.scopeValue("wrapper",{ref:a})}.validate`}function callRef(e,a,o,t){const{gen:r,it:s}=e,{allErrors:n,schemaEnv:c,opts:i}=s,l=i.passContext?names_1.default.this:codegen_1.nil;function d(e){const a=codegen_1._`${e}.errors`;r.assign(names_1.default.vErrors,codegen_1._`${names_1.default.vErrors} === null ? ${a} : ${names_1.default.vErrors}.concat(${a})`),r.assign(names_1.default.errors,codegen_1._`${names_1.default.vErrors}.length`)}function u(e){var a;if(!s.opts.unevaluated)return;const t=null===(a=null==o?void 0:o.validate)||void 0===a?void 0:a.evaluated;if(!0!==s.props)if(t&&!t.dynamicProps)void 0!==t.props&&(s.props=util_1.mergeEvaluated.props(r,t.props,s.props));else{const a=r.var("props",codegen_1._`${e}.evaluated.props`);s.props=util_1.mergeEvaluated.props(r,a,s.props,codegen_1.Name)}if(!0!==s.items)if(t&&!t.dynamicItems)void 0!==t.items&&(s.items=util_1.mergeEvaluated.items(r,t.items,s.items));else{const a=r.var("items",codegen_1._`${e}.evaluated.items`);s.items=util_1.mergeEvaluated.items(r,a,s.items,codegen_1.Name)}}t?function(){if(!c.$async)throw new Error("async schema referenced by sync schema");const o=r.let("valid");r.try(()=>{r.code(codegen_1._`await ${(0,code_1.callValidateCode)(e,a,l)}`),u(a),n||r.assign(o,!0)},e=>{r.if(codegen_1._`!(${e} instanceof ${s.ValidationError})`,()=>r.throw(e)),d(e),n||r.assign(o,!1)}),e.ok(o)}():e.result((0,code_1.callValidateCode)(e,a,l),()=>u(a),()=>d(a))}exports.getValidate=getValidate,exports.callRef=callRef,exports.default=def;

},{"../../compile":9,"../../compile/codegen":6,"../../compile/names":10,"../../compile/ref_error":11,"../../compile/util":14,"../code":46}],50:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const codegen_1=require("../../compile/codegen"),types_1=require("../discriminator/types"),compile_1=require("../../compile"),util_1=require("../../compile/util"),error={message:({params:{discrError:r,tagName:e}})=>r===types_1.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:r,tag:e,tagName:o}})=>codegen_1._`{error: ${r}, tag: ${o}, tagValue: ${e}}`},def={keyword:"discriminator",type:"object",schemaType:"object",error:error,code(r){const{gen:e,data:o,schema:t,parentSchema:i,it:s}=r,{oneOf:n}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=t.propertyName;if("string"!=typeof a)throw new Error("discriminator: requires propertyName");if(t.mapping)throw new Error("discriminator: mapping is not supported");if(!n)throw new Error("discriminator: requires oneOf keyword");const c=e.let("valid",!1),m=e.const("tag",codegen_1._`${o}${(0,codegen_1.getProperty)(a)}`);function u(o){const t=e.name("valid"),i=r.subschema({keyword:"oneOf",schemaProp:o},t);return r.mergeEvaluated(i,codegen_1.Name),t}e.if(codegen_1._`typeof ${m} == "string"`,()=>(function(){const o=function(){var r;const e={},o=c(i);let t=!0;for(let e=0;e<n.length;e++){let i=n[e];(null==i?void 0:i.$ref)&&!(0,util_1.schemaHasRulesButRef)(i,s.self.RULES)&&(i=compile_1.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,null==i?void 0:i.$ref))instanceof compile_1.SchemaEnv&&(i=i.schema);const u=null===(r=null==i?void 0:i.properties)||void 0===r?void 0:r[a];if("object"!=typeof u)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);t=t&&(o||c(i)),m(u,e)}if(!t)throw new Error(`discriminator: "${a}" must be required`);return e;function c({required:r}){return Array.isArray(r)&&r.includes(a)}function m(r,e){if(r.const)u(r.const,e);else{if(!r.enum)throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`);for(const o of r.enum)u(o,e)}}function u(r,o){if("string"!=typeof r||r in e)throw new Error(`discriminator: "${a}" values must be unique strings`);e[r]=o}}();e.if(!1);for(const r in o)e.elseIf(codegen_1._`${m} === ${r}`),e.assign(c,u(o[r]));e.else(),r.error(!1,{discrError:types_1.DiscrError.Mapping,tag:m,tagName:a}),e.endIf()})(),()=>r.error(!1,{discrError:types_1.DiscrError.Tag,tag:m,tagName:a})),r.ok(c)}};exports.default=def;

},{"../../compile":9,"../../compile/codegen":6,"../../compile/util":14,"../discriminator/types":51}],51:[function(require,module,exports){
"use strict";var DiscrError;Object.defineProperty(exports,"__esModule",{value:!0}),exports.DiscrError=void 0,function(r){r.Tag="tag",r.Mapping="mapping"}(DiscrError=exports.DiscrError||(exports.DiscrError={}));

},{}],52:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const core_1=require("./core"),validation_1=require("./validation"),applicator_1=require("./applicator"),format_1=require("./format"),metadata_1=require("./metadata"),draft7Vocabularies=[core_1.default,validation_1.default,(0,applicator_1.default)(),format_1.default,metadata_1.metadataVocabulary,metadata_1.contentVocabulary];exports.default=draft7Vocabularies;

},{"./applicator":36,"./core":48,"./format":54,"./metadata":55,"./validation":58}],53:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const codegen_1=require("../../compile/codegen"),error={message:({schemaCode:e})=>codegen_1.str`must match format "${e}"`,params:({schemaCode:e})=>codegen_1._`{format: ${e}}`},def={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:error,code(e,t){const{gen:o,data:n,$data:r,schema:c,schemaCode:a,it:s}=e,{opts:d,errSchemaPath:i,schemaEnv:f,self:g}=s;d.validateFormats&&(r?function(){const r=o.scopeValue("formats",{ref:g.formats,code:d.code.formats}),c=o.const("fDef",codegen_1._`${r}[${a}]`),s=o.let("fType"),i=o.let("format");o.if(codegen_1._`typeof ${c} == "object" && !(${c} instanceof RegExp)`,()=>o.assign(s,codegen_1._`${c}.type || "string"`).assign(i,codegen_1._`${c}.validate`),()=>o.assign(s,codegen_1._`"string"`).assign(i,c)),e.fail$data((0,codegen_1.or)(!1===d.strictSchema?codegen_1.nil:codegen_1._`${a} && !${i}`,function(){const e=f.$async?codegen_1._`(${c}.async ? await ${i}(${n}) : ${i}(${n}))`:codegen_1._`${i}(${n})`,o=codegen_1._`(typeof ${i} == "function" ? ${e} : ${i}.test(${n}))`;return codegen_1._`${i} && ${i} !== true && ${s} === ${t} && !${o}`}()))}():function(){const r=g.formats[c];if(!r)return void function(){if(!1===d.strictSchema)return void g.logger.warn(e());throw new Error(e());function e(){return`unknown format "${c}" ignored in schema at path "${i}"`}}();if(!0===r)return;const[a,s,$]=function(e){const t=e instanceof RegExp?(0,codegen_1.regexpCode)(e):d.code.formats?codegen_1._`${d.code.formats}${(0,codegen_1.getProperty)(c)}`:void 0,n=o.scopeValue("formats",{key:c,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,codegen_1._`${n}.validate`];return["string",e,n]}(r);a===t&&e.pass(function(){if("object"==typeof r&&!(r instanceof RegExp)&&r.async){if(!f.$async)throw new Error("async format in sync schema");return codegen_1._`await ${$}(${n})`}return"function"==typeof s?codegen_1._`${$}(${n})`:codegen_1._`${$}.test(${n})`}())}())}};exports.default=def;

},{"../../compile/codegen":6}],54:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const format_1=require("./format"),format=[format_1.default];exports.default=format;

},{"./format":53}],55:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.contentVocabulary=exports.metadataVocabulary=void 0,exports.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],exports.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];

},{}],56:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const codegen_1=require("../../compile/codegen"),util_1=require("../../compile/util"),equal_1=require("../../runtime/equal"),error={message:"must be equal to constant",params:({schemaCode:e})=>codegen_1._`{allowedValue: ${e}}`},def={keyword:"const",$data:!0,error:error,code(e){const{gen:a,data:o,$data:t,schemaCode:r,schema:d}=e;t||d&&"object"==typeof d?e.fail$data(codegen_1._`!${(0,util_1.useFunc)(a,equal_1.default)}(${o}, ${r})`):e.fail(codegen_1._`${d} !== ${o}`)}};exports.default=def;

},{"../../compile/codegen":6,"../../compile/util":14,"../../runtime/equal":25}],57:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const codegen_1=require("../../compile/codegen"),util_1=require("../../compile/util"),equal_1=require("../../runtime/equal"),error={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>codegen_1._`{allowedValues: ${e}}`},def={keyword:"enum",schemaType:"array",$data:!0,error:error,code(e){const{gen:o,data:r,$data:t,schema:a,schemaCode:n,it:l}=e;if(!t&&0===a.length)throw new Error("enum must have non-empty array");const s=a.length>=l.opts.loopEnum;let u;const c=()=>null!=u?u:u=(0,util_1.useFunc)(o,equal_1.default);let d;if(s||t)d=o.let("valid"),e.block$data(d,function(){o.assign(d,!1),o.forOf("v",n,e=>o.if(codegen_1._`${c()}(${r}, ${e})`,()=>o.assign(d,!0).break()))});else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=o.const("vSchema",n);d=(0,codegen_1.or)(...a.map((o,t)=>(function(e,o){const t=a[o];return"object"==typeof t&&null!==t?codegen_1._`${c()}(${r}, ${e}[${o}])`:codegen_1._`${r} === ${t}`})(e,t)))}e.pass(d)}};exports.default=def;

},{"../../compile/codegen":6,"../../compile/util":14,"../../runtime/equal":25}],58:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const limitNumber_1=require("./limitNumber"),multipleOf_1=require("./multipleOf"),limitLength_1=require("./limitLength"),pattern_1=require("./pattern"),limitProperties_1=require("./limitProperties"),required_1=require("./required"),limitItems_1=require("./limitItems"),uniqueItems_1=require("./uniqueItems"),const_1=require("./const"),enum_1=require("./enum"),validation=[limitNumber_1.default,multipleOf_1.default,limitLength_1.default,pattern_1.default,limitProperties_1.default,required_1.default,limitItems_1.default,uniqueItems_1.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},const_1.default,enum_1.default];exports.default=validation;

},{"./const":56,"./enum":57,"./limitItems":59,"./limitLength":60,"./limitNumber":61,"./limitProperties":62,"./multipleOf":63,"./pattern":64,"./required":65,"./uniqueItems":66}],59:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const codegen_1=require("../../compile/codegen"),error={message({keyword:e,schemaCode:r}){const o="maxItems"===e?"more":"fewer";return codegen_1.str`must NOT have ${o} than ${r} items`},params:({schemaCode:e})=>codegen_1._`{limit: ${e}}`},def={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:error,code(e){const{keyword:r,data:o,schemaCode:t}=e,a="maxItems"===r?codegen_1.operators.GT:codegen_1.operators.LT;e.fail$data(codegen_1._`${o}.length ${a} ${t}`)}};exports.default=def;

},{"../../compile/codegen":6}],60:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const codegen_1=require("../../compile/codegen"),util_1=require("../../compile/util"),ucs2length_1=require("../../runtime/ucs2length"),error={message({keyword:e,schemaCode:r}){const t="maxLength"===e?"more":"fewer";return codegen_1.str`must NOT have ${t} than ${r} characters`},params:({schemaCode:e})=>codegen_1._`{limit: ${e}}`},def={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:error,code(e){const{keyword:r,data:t,schemaCode:o,it:n}=e,c="maxLength"===r?codegen_1.operators.GT:codegen_1.operators.LT,a=!1===n.opts.unicode?codegen_1._`${t}.length`:codegen_1._`${(0,util_1.useFunc)(e.gen,ucs2length_1.default)}(${t})`;e.fail$data(codegen_1._`${a} ${c} ${o}`)}};exports.default=def;

},{"../../compile/codegen":6,"../../compile/util":14,"../../runtime/ucs2length":26}],61:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const codegen_1=require("../../compile/codegen"),ops=codegen_1.operators,KWDs={maximum:{okStr:"<=",ok:ops.LTE,fail:ops.GT},minimum:{okStr:">=",ok:ops.GTE,fail:ops.LT},exclusiveMaximum:{okStr:"<",ok:ops.LT,fail:ops.GTE},exclusiveMinimum:{okStr:">",ok:ops.GT,fail:ops.LTE}},error={message:({keyword:e,schemaCode:o})=>codegen_1.str`must be ${KWDs[e].okStr} ${o}`,params:({keyword:e,schemaCode:o})=>codegen_1._`{comparison: ${KWDs[e].okStr}, limit: ${o}}`},def={keyword:Object.keys(KWDs),type:"number",schemaType:"number",$data:!0,error:error,code(e){const{keyword:o,data:s,schemaCode:r}=e;e.fail$data(codegen_1._`${s} ${KWDs[o].fail} ${r} || isNaN(${s})`)}};exports.default=def;

},{"../../compile/codegen":6}],62:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const codegen_1=require("../../compile/codegen"),error={message({keyword:e,schemaCode:r}){const o="maxProperties"===e?"more":"fewer";return codegen_1.str`must NOT have ${o} than ${r} properties`},params:({schemaCode:e})=>codegen_1._`{limit: ${e}}`},def={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:error,code(e){const{keyword:r,data:o,schemaCode:t}=e,s="maxProperties"===r?codegen_1.operators.GT:codegen_1.operators.LT;e.fail$data(codegen_1._`Object.keys(${o}).length ${s} ${t}`)}};exports.default=def;

},{"../../compile/codegen":6}],63:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const codegen_1=require("../../compile/codegen"),error={message:({schemaCode:e})=>codegen_1.str`must be multiple of ${e}`,params:({schemaCode:e})=>codegen_1._`{multipleOf: ${e}}`},def={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:error,code(e){const{gen:o,data:r,schemaCode:t,it:d}=e,s=d.opts.multipleOfPrecision,a=o.let("res"),c=s?codegen_1._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:codegen_1._`${a} !== parseInt(${a})`;e.fail$data(codegen_1._`(${t} === 0 || (${a} = ${r}/${t}, ${c}))`)}};exports.default=def;

},{"../../compile/codegen":6}],64:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const code_1=require("../code"),codegen_1=require("../../compile/codegen"),error={message:({schemaCode:e})=>codegen_1.str`must match pattern "${e}"`,params:({schemaCode:e})=>codegen_1._`{pattern: ${e}}`},def={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:error,code(e){const{data:t,$data:r,schema:o,schemaCode:a,it:d}=e,c=d.opts.unicodeRegExp?"u":"",s=r?codegen_1._`(new RegExp(${a}, ${c}))`:(0,code_1.usePattern)(e,o);e.fail$data(codegen_1._`!${s}.test(${t})`)}};exports.default=def;

},{"../../compile/codegen":6,"../code":46}],65:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const code_1=require("../code"),codegen_1=require("../../compile/codegen"),util_1=require("../../compile/util"),error={message:({params:{missingProperty:e}})=>codegen_1.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>codegen_1._`{missingProperty: ${e}}`},def={keyword:"required",type:"object",schemaType:"array",$data:!0,error:error,code(e){const{gen:r,schema:o,schemaCode:t,data:i,$data:s,it:n}=e,{opts:c}=n;if(!s&&0===o.length)return;const a=o.length>=c.loopRequired;if(n.allErrors?function(){if(a||s)e.block$data(codegen_1.nil,d);else for(const r of o)(0,code_1.checkReportMissingProp)(e,r)}():function(){const n=r.let("missing");if(a||s){const o=r.let("valid",!0);e.block$data(o,()=>(function(o,s){e.setParams({missingProperty:o}),r.forOf(o,t,()=>{r.assign(s,(0,code_1.propertyInData)(r,i,o,c.ownProperties)),r.if((0,codegen_1.not)(s),()=>{e.error(),r.break()})},codegen_1.nil)})(n,o)),e.ok(o)}else r.if((0,code_1.checkMissingProp)(e,o,n)),(0,code_1.reportMissingProp)(e,n),r.else()}(),c.strictRequired){const r=e.parentSchema.properties,{definedProperties:t}=e.it;for(const e of o)if(void 0===(null==r?void 0:r[e])&&!t.has(e)){const r=`required property "${e}" is not defined at "${n.schemaEnv.baseId+n.errSchemaPath}" (strictRequired)`;(0,util_1.checkStrictMode)(n,r,n.opts.strictRequired)}}function d(){r.forOf("prop",t,o=>{e.setParams({missingProperty:o}),r.if((0,code_1.noPropertyInData)(r,i,o,c.ownProperties),()=>e.error())})}}};exports.default=def;

},{"../../compile/codegen":6,"../../compile/util":14,"../code":46}],66:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const dataType_1=require("../../compile/validate/dataType"),codegen_1=require("../../compile/codegen"),util_1=require("../../compile/util"),equal_1=require("../../runtime/equal"),error={message:({params:{i:e,j:a}})=>codegen_1.str`must NOT have duplicate items (items ## ${a} and ${e} are identical)`,params:({params:{i:e,j:a}})=>codegen_1._`{i: ${e}, j: ${a}}`},def={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:error,code(e){const{gen:a,data:t,$data:o,schema:n,parentSchema:r,schemaCode:c,it:i}=e;if(!o&&!n)return;const s=a.let("valid"),_=r.items?(0,dataType_1.getSchemaTypes)(r.items):[];e.block$data(s,function(){const o=a.let("i",codegen_1._`${t}.length`),n=a.let("j");e.setParams({i:o,j:n}),a.assign(s,!0),a.if(codegen_1._`${o} > 1`,()=>(_.length>0&&!_.some(e=>"object"===e||"array"===e)?function(o,n){const r=a.name("item"),c=(0,dataType_1.checkDataTypes)(_,r,i.opts.strictNumbers,dataType_1.DataType.Wrong),d=a.const("indices",codegen_1._`{}`);a.for(codegen_1._`;${o}--;`,()=>{a.let(r,codegen_1._`${t}[${o}]`),a.if(c,codegen_1._`continue`),_.length>1&&a.if(codegen_1._`typeof ${r} == "string"`,codegen_1._`${r} += "_"`),a.if(codegen_1._`typeof ${d}[${r}] == "number"`,()=>{a.assign(n,codegen_1._`${d}[${r}]`),e.error(),a.assign(s,!1).break()}).code(codegen_1._`${d}[${r}] = ${o}`)})}:function(o,n){const r=(0,util_1.useFunc)(a,equal_1.default),c=a.name("outer");a.label(c).for(codegen_1._`;${o}--;`,()=>a.for(codegen_1._`${n} = ${o}; ${n}--;`,()=>a.if(codegen_1._`${r}(${t}[${o}], ${t}[${n}])`,()=>{e.error(),a.assign(s,!1).break(c)})))})(o,n))},codegen_1._`${c} === false`),e.ok(s)}};exports.default=def;

},{"../../compile/codegen":6,"../../compile/util":14,"../../compile/validate/dataType":17,"../../runtime/equal":25}],67:[function(require,module,exports){
"use strict";var _Buffer=require("safe-buffer").Buffer;function base(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),o=0;o<e.length;o++)e[o]=255;for(var t=0;t<r.length;t++){var f=r.charAt(t),a=f.charCodeAt(0);if(255!==e[a])throw new TypeError(f+" is ambiguous");e[a]=t}var n=r.length,i=r.charAt(0),h=Math.log(n)/Math.log(256),u=Math.log(256)/Math.log(n);function c(r){if("string"!=typeof r)throw new TypeError("Expected String");if(0===r.length)return _Buffer.alloc(0);for(var o=0,t=0,f=0;r[o]===i;)t++,o++;for(var a=(r.length-o)*h+1>>>0,u=new Uint8Array(a);r[o];){var c=e[r.charCodeAt(o)];if(255===c)return;for(var l=0,v=a-1;(0!==c||l<f)&&-1!==v;v--,l++)c+=n*u[v]>>>0,u[v]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");f=l,o++}for(var w=a-f;w!==a&&0===u[w];)w++;var g=_Buffer.allocUnsafe(t+(a-w));g.fill(0,0,t);for(var s=t;w!==a;)g[s++]=u[w++];return g}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=_Buffer.from(e)),!_Buffer.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var o=0,t=0,f=0,a=e.length;f!==a&&0===e[f];)f++,o++;for(var h=(a-f)*u+1>>>0,c=new Uint8Array(h);f!==a;){for(var l=e[f],v=0,w=h-1;(0!==l||v<t)&&-1!==w;w--,v++)l+=256*c[w]>>>0,c[w]=l%n>>>0,l=l/n>>>0;if(0!==l)throw new Error("Non-zero carry");t=v,f++}for(var g=h-t;g!==h&&0===c[g];)g++;for(var s=i.repeat(o);g<h;++g)s+=r.charAt(c[g]);return s},decodeUnsafe:c,decode:function(r){var e=c(r);if(e)return e;throw new Error("Non-base"+n+" character")}}}module.exports=base;

},{"safe-buffer":126}],68:[function(require,module,exports){
"use strict";exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(o){var r=o.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=o.indexOf("=");return-1===e&&(e=r),[e,e===r?0:4-e%4]}function byteLength(o){var r=getLens(o),e=r[0],t=r[1];return 3*(e+t)/4-t}function _byteLength(o,r,e){return 3*(r+e)/4-e}function toByteArray(o){var r,e,t=getLens(o),n=t[0],u=t[1],p=new Arr(_byteLength(o,n,u)),a=0,h=u>0?n-4:n;for(e=0;e<h;e+=4)r=revLookup[o.charCodeAt(e)]<<18|revLookup[o.charCodeAt(e+1)]<<12|revLookup[o.charCodeAt(e+2)]<<6|revLookup[o.charCodeAt(e+3)],p[a++]=r>>16&255,p[a++]=r>>8&255,p[a++]=255&r;return 2===u&&(r=revLookup[o.charCodeAt(e)]<<2|revLookup[o.charCodeAt(e+1)]>>4,p[a++]=255&r),1===u&&(r=revLookup[o.charCodeAt(e)]<<10|revLookup[o.charCodeAt(e+1)]<<4|revLookup[o.charCodeAt(e+2)]>>2,p[a++]=r>>8&255,p[a++]=255&r),p}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[63&o]}function encodeChunk(o,r,e){for(var t,n=[],u=r;u<e;u+=3)t=(o[u]<<16&16711680)+(o[u+1]<<8&65280)+(255&o[u+2]),n.push(tripletToBase64(t));return n.join("")}function fromByteArray(o){for(var r,e=o.length,t=e%3,n=[],u=0,p=e-t;u<p;u+=16383)n.push(encodeChunk(o,u,u+16383>p?p:u+16383));return 1===t?(r=o[e-1],n.push(lookup[r>>2]+lookup[r<<4&63]+"==")):2===t&&(r=(o[e-2]<<8)+o[e-1],n.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),n.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;

},{}],69:[function(require,module,exports){
!function(t,i){"use strict";function r(t,i){if(!t)throw new Error(i||"Assertion failed")}function n(t,i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}function h(t,i,r){if(h.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==i&&"be"!==i||(r=i,i=10),this._init(t||0,i||10,r||"be"))}var e;"object"==typeof t?t.exports=h:i.BN=h,h.BN=h,h.wordSize=26;try{e="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(t){}function o(t,i){var n=t.charCodeAt(i);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function s(t,i,r){var n=o(t,r);return r-1>=i&&(n|=o(t,r-1)<<4),n}function u(t,i,n,h){for(var e=0,o=0,s=Math.min(t.length,n),u=i;u<s;u++){var a=t.charCodeAt(u)-48;e*=h,o=a>=49?a-49+10:a>=17?a-17+10:a,r(a>=0&&o<h,"Invalid character"),e+=o}return e}function a(t,i){t.words=i.words,t.length=i.length,t.negative=i.negative,t.red=i.red}if(h.isBN=function(t){return t instanceof h||null!==t&&"object"==typeof t&&t.constructor.wordSize===h.wordSize&&Array.isArray(t.words)},h.max=function(t,i){return t.cmp(i)>0?t:i},h.min=function(t,i){return t.cmp(i)<0?t:i},h.prototype._init=function(t,i,n){if("number"==typeof t)return this._initNumber(t,i,n);if("object"==typeof t)return this._initArray(t,i,n);"hex"===i&&(i=16),r(i===(0|i)&&i>=2&&i<=36);var h=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(h++,this.negative=1),h<t.length&&(16===i?this._parseHex(t,h,n):(this._parseBase(t,i,h),"le"===n&&this._initArray(this.toArray(),i,n)))},h.prototype._initNumber=function(t,i,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),i,n)},h.prototype._initArray=function(t,i,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var e,o,s=0;if("be"===n)for(h=t.length-1,e=0;h>=0;h-=3)o=t[h]|t[h-1]<<8|t[h-2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);else if("le"===n)for(h=0,e=0;h<t.length;h+=3)o=t[h]|t[h+1]<<8|t[h+2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);return this._strip()},h.prototype._parseHex=function(t,i,r){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var h,e=0,o=0;if("be"===r)for(n=t.length-1;n>=i;n-=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;else for(n=(t.length-i)%2==0?i+1:i;n<t.length;n+=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;this._strip()},h.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var n=0,h=1;h<=67108863;h*=i)n++;n--,h=h/i|0;for(var e=t.length-r,o=e%n,s=Math.min(e,e-o)+r,a=0,l=r;l<s;l+=n)a=u(t,l,l+n,i),this.imuln(h),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==o){var m=1;for(a=u(t,l,t.length,i),l=0;l<o;l++)m*=i;this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},h.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},h.prototype._move=function(t){a(t,this)},h.prototype.clone=function(){var t=new h(null);return this.copy(t),t},h.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},h.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},h.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{h.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(t){h.prototype.inspect=l}else h.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(t,i){var n;if(i=0|i||1,16===(t=t||10)||"hex"===t){n="";for(var h=0,e=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<h|e)).toString(16);e=s>>>24-h&16777215,(h+=2)>=26&&(h-=26,o--),n=0!==e||o!==this.length-1?m[6-u.length]+u+n:u+n}for(0!==e&&(n=e.toString(16)+n);n.length%i!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var a=f[t],l=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var M=p.modrn(l).toString(t);n=(p=p.idivn(l)).isZero()?M+n:m[a-M.length]+M+n}for(this.isZero()&&(n="0"+n);n.length%i!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},h.prototype.toJSON=function(){return this.toString(16,2)},e&&(h.prototype.toBuffer=function(t,i){return this.toArrayLike(e,t,i)}),h.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)};function p(t,i,r){r.negative=i.negative^t.negative;var n=t.length+i.length|0;r.length=n,n=n-1|0;var h=0|t.words[0],e=0|i.words[0],o=h*e,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var a=1;a<n;a++){for(var l=u>>>26,m=67108863&u,f=Math.min(a,i.length-1),d=Math.max(0,a-t.length+1);d<=f;d++){var p=a-d|0;l+=(o=(h=0|t.words[p])*(e=0|i.words[d])+m)/67108864|0,m=67108863&o}r.words[a]=0|m,u=0|l}return 0!==u?r.words[a]=0|u:r.length--,r._strip()}h.prototype.toArrayLike=function(t,i,n){this._strip();var h=this.byteLength(),e=n||Math.max(1,h);r(h<=e,"byte array longer than desired length"),r(e>0,"Requested array length <= 0");var o=function(t,i){return t.allocUnsafe?t.allocUnsafe(i):new t(i)}(t,e);return this["_toArrayLike"+("le"===i?"LE":"BE")](o,h),o},h.prototype._toArrayLikeLE=function(t,i){for(var r=0,n=0,h=0,e=0;h<this.length;h++){var o=this.words[h]<<e|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===e?(r<t.length&&(t[r++]=o>>24&255),n=0,e=0):(n=o>>>24,e+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},h.prototype._toArrayLikeBE=function(t,i){for(var r=t.length-1,n=0,h=0,e=0;h<this.length;h++){var o=this.words[h]<<e|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===e?(r>=0&&(t[r--]=o>>24&255),n=0,e=0):(n=o>>>24,e+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?h.prototype._countBits=function(t){return 32-Math.clz32(t)}:h.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},h.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,r=0;return 0==(8191&i)&&(r+=13,i>>>=13),0==(127&i)&&(r+=7,i>>>=7),0==(15&i)&&(r+=4,i>>>=4),0==(3&i)&&(r+=2,i>>>=2),0==(1&i)&&r++,r},h.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return 26*(this.length-1)+i},h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,26!==r)break}return t},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},h.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return 0!==this.negative},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this._strip()},h.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},h.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},h.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},h.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this._strip()},h.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},h.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},h.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},h.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=i.words[n]^r.words[n];if(this!==i)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=i.length,this._strip()},h.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},h.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},h.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},h.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var i=0|Math.ceil(t/26),n=t%26;this._expand(i),n>0&&i--;for(var h=0;h<i;h++)this.words[h]=67108863&~this.words[h];return n>0&&(this.words[h]=~this.words[h]&67108863>>26-n),this._strip()},h.prototype.notn=function(t){return this.clone().inotn(t)},h.prototype.setn=function(t,i){r("number"==typeof t&&t>=0);var n=t/26|0,h=t%26;return this._expand(n+1),this.words[n]=i?this.words[n]|1<<h:this.words[n]&~(1<<h),this._strip()},h.prototype.iadd=function(t){var i,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var h=0,e=0;e<n.length;e++)i=(0|r.words[e])+(0|n.words[e])+h,this.words[e]=67108863&i,h=i>>>26;for(;0!==h&&e<r.length;e++)i=(0|r.words[e])+h,this.words[e]=67108863&i,h=i>>>26;if(this.length=r.length,0!==h)this.words[this.length]=h,this.length++;else if(r!==this)for(;e<r.length;e++)this.words[e]=r.words[e];return this},h.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},h.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,h=this.cmp(t);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(r=this,n=t):(r=t,n=this);for(var e=0,o=0;o<n.length;o++)e=(i=(0|r.words[o])-(0|n.words[o])+e)>>26,this.words[o]=67108863&i;for(;0!==e&&o<r.length;o++)e=(i=(0|r.words[o])+e)>>26,this.words[o]=67108863&i;if(0===e&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},h.prototype.sub=function(t){return this.clone().isub(t)};var M=function(t,i,r){var n,h,e,o=t.words,s=i.words,u=r.words,a=0,l=0|o[0],m=8191&l,f=l>>>13,d=0|o[1],p=8191&d,M=d>>>13,v=0|o[2],g=8191&v,c=v>>>13,w=0|o[3],y=8191&w,b=w>>>13,_=0|o[4],k=8191&_,A=_>>>13,S=0|o[5],x=8191&S,B=S>>>13,q=0|o[6],R=8191&q,Z=q>>>13,L=0|o[7],N=8191&L,I=L>>>13,E=0|o[8],z=8191&E,T=E>>>13,O=0|o[9],j=8191&O,K=O>>>13,P=0|s[0],F=8191&P,U=P>>>13,C=0|s[1],D=8191&C,H=C>>>13,J=0|s[2],G=8191&J,Q=J>>>13,V=0|s[3],W=8191&V,X=V>>>13,Y=0|s[4],$=8191&Y,tt=Y>>>13,it=0|s[5],rt=8191&it,nt=it>>>13,ht=0|s[6],et=8191&ht,ot=ht>>>13,st=0|s[7],ut=8191&st,at=st>>>13,lt=0|s[8],mt=8191&lt,ft=lt>>>13,dt=0|s[9],pt=8191&dt,Mt=dt>>>13;r.negative=t.negative^i.negative,r.length=19;var vt=(a+(n=Math.imul(m,F))|0)+((8191&(h=(h=Math.imul(m,U))+Math.imul(f,F)|0))<<13)|0;a=((e=Math.imul(f,U))+(h>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(p,F),h=(h=Math.imul(p,U))+Math.imul(M,F)|0,e=Math.imul(M,U);var gt=(a+(n=n+Math.imul(m,D)|0)|0)+((8191&(h=(h=h+Math.imul(m,H)|0)+Math.imul(f,D)|0))<<13)|0;a=((e=e+Math.imul(f,H)|0)+(h>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,F),h=(h=Math.imul(g,U))+Math.imul(c,F)|0,e=Math.imul(c,U),n=n+Math.imul(p,D)|0,h=(h=h+Math.imul(p,H)|0)+Math.imul(M,D)|0,e=e+Math.imul(M,H)|0;var ct=(a+(n=n+Math.imul(m,G)|0)|0)+((8191&(h=(h=h+Math.imul(m,Q)|0)+Math.imul(f,G)|0))<<13)|0;a=((e=e+Math.imul(f,Q)|0)+(h>>>13)|0)+(ct>>>26)|0,ct&=67108863,n=Math.imul(y,F),h=(h=Math.imul(y,U))+Math.imul(b,F)|0,e=Math.imul(b,U),n=n+Math.imul(g,D)|0,h=(h=h+Math.imul(g,H)|0)+Math.imul(c,D)|0,e=e+Math.imul(c,H)|0,n=n+Math.imul(p,G)|0,h=(h=h+Math.imul(p,Q)|0)+Math.imul(M,G)|0,e=e+Math.imul(M,Q)|0;var wt=(a+(n=n+Math.imul(m,W)|0)|0)+((8191&(h=(h=h+Math.imul(m,X)|0)+Math.imul(f,W)|0))<<13)|0;a=((e=e+Math.imul(f,X)|0)+(h>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(k,F),h=(h=Math.imul(k,U))+Math.imul(A,F)|0,e=Math.imul(A,U),n=n+Math.imul(y,D)|0,h=(h=h+Math.imul(y,H)|0)+Math.imul(b,D)|0,e=e+Math.imul(b,H)|0,n=n+Math.imul(g,G)|0,h=(h=h+Math.imul(g,Q)|0)+Math.imul(c,G)|0,e=e+Math.imul(c,Q)|0,n=n+Math.imul(p,W)|0,h=(h=h+Math.imul(p,X)|0)+Math.imul(M,W)|0,e=e+Math.imul(M,X)|0;var yt=(a+(n=n+Math.imul(m,$)|0)|0)+((8191&(h=(h=h+Math.imul(m,tt)|0)+Math.imul(f,$)|0))<<13)|0;a=((e=e+Math.imul(f,tt)|0)+(h>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(x,F),h=(h=Math.imul(x,U))+Math.imul(B,F)|0,e=Math.imul(B,U),n=n+Math.imul(k,D)|0,h=(h=h+Math.imul(k,H)|0)+Math.imul(A,D)|0,e=e+Math.imul(A,H)|0,n=n+Math.imul(y,G)|0,h=(h=h+Math.imul(y,Q)|0)+Math.imul(b,G)|0,e=e+Math.imul(b,Q)|0,n=n+Math.imul(g,W)|0,h=(h=h+Math.imul(g,X)|0)+Math.imul(c,W)|0,e=e+Math.imul(c,X)|0,n=n+Math.imul(p,$)|0,h=(h=h+Math.imul(p,tt)|0)+Math.imul(M,$)|0,e=e+Math.imul(M,tt)|0;var bt=(a+(n=n+Math.imul(m,rt)|0)|0)+((8191&(h=(h=h+Math.imul(m,nt)|0)+Math.imul(f,rt)|0))<<13)|0;a=((e=e+Math.imul(f,nt)|0)+(h>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(R,F),h=(h=Math.imul(R,U))+Math.imul(Z,F)|0,e=Math.imul(Z,U),n=n+Math.imul(x,D)|0,h=(h=h+Math.imul(x,H)|0)+Math.imul(B,D)|0,e=e+Math.imul(B,H)|0,n=n+Math.imul(k,G)|0,h=(h=h+Math.imul(k,Q)|0)+Math.imul(A,G)|0,e=e+Math.imul(A,Q)|0,n=n+Math.imul(y,W)|0,h=(h=h+Math.imul(y,X)|0)+Math.imul(b,W)|0,e=e+Math.imul(b,X)|0,n=n+Math.imul(g,$)|0,h=(h=h+Math.imul(g,tt)|0)+Math.imul(c,$)|0,e=e+Math.imul(c,tt)|0,n=n+Math.imul(p,rt)|0,h=(h=h+Math.imul(p,nt)|0)+Math.imul(M,rt)|0,e=e+Math.imul(M,nt)|0;var _t=(a+(n=n+Math.imul(m,et)|0)|0)+((8191&(h=(h=h+Math.imul(m,ot)|0)+Math.imul(f,et)|0))<<13)|0;a=((e=e+Math.imul(f,ot)|0)+(h>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(N,F),h=(h=Math.imul(N,U))+Math.imul(I,F)|0,e=Math.imul(I,U),n=n+Math.imul(R,D)|0,h=(h=h+Math.imul(R,H)|0)+Math.imul(Z,D)|0,e=e+Math.imul(Z,H)|0,n=n+Math.imul(x,G)|0,h=(h=h+Math.imul(x,Q)|0)+Math.imul(B,G)|0,e=e+Math.imul(B,Q)|0,n=n+Math.imul(k,W)|0,h=(h=h+Math.imul(k,X)|0)+Math.imul(A,W)|0,e=e+Math.imul(A,X)|0,n=n+Math.imul(y,$)|0,h=(h=h+Math.imul(y,tt)|0)+Math.imul(b,$)|0,e=e+Math.imul(b,tt)|0,n=n+Math.imul(g,rt)|0,h=(h=h+Math.imul(g,nt)|0)+Math.imul(c,rt)|0,e=e+Math.imul(c,nt)|0,n=n+Math.imul(p,et)|0,h=(h=h+Math.imul(p,ot)|0)+Math.imul(M,et)|0,e=e+Math.imul(M,ot)|0;var kt=(a+(n=n+Math.imul(m,ut)|0)|0)+((8191&(h=(h=h+Math.imul(m,at)|0)+Math.imul(f,ut)|0))<<13)|0;a=((e=e+Math.imul(f,at)|0)+(h>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(z,F),h=(h=Math.imul(z,U))+Math.imul(T,F)|0,e=Math.imul(T,U),n=n+Math.imul(N,D)|0,h=(h=h+Math.imul(N,H)|0)+Math.imul(I,D)|0,e=e+Math.imul(I,H)|0,n=n+Math.imul(R,G)|0,h=(h=h+Math.imul(R,Q)|0)+Math.imul(Z,G)|0,e=e+Math.imul(Z,Q)|0,n=n+Math.imul(x,W)|0,h=(h=h+Math.imul(x,X)|0)+Math.imul(B,W)|0,e=e+Math.imul(B,X)|0,n=n+Math.imul(k,$)|0,h=(h=h+Math.imul(k,tt)|0)+Math.imul(A,$)|0,e=e+Math.imul(A,tt)|0,n=n+Math.imul(y,rt)|0,h=(h=h+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,e=e+Math.imul(b,nt)|0,n=n+Math.imul(g,et)|0,h=(h=h+Math.imul(g,ot)|0)+Math.imul(c,et)|0,e=e+Math.imul(c,ot)|0,n=n+Math.imul(p,ut)|0,h=(h=h+Math.imul(p,at)|0)+Math.imul(M,ut)|0,e=e+Math.imul(M,at)|0;var At=(a+(n=n+Math.imul(m,mt)|0)|0)+((8191&(h=(h=h+Math.imul(m,ft)|0)+Math.imul(f,mt)|0))<<13)|0;a=((e=e+Math.imul(f,ft)|0)+(h>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(j,F),h=(h=Math.imul(j,U))+Math.imul(K,F)|0,e=Math.imul(K,U),n=n+Math.imul(z,D)|0,h=(h=h+Math.imul(z,H)|0)+Math.imul(T,D)|0,e=e+Math.imul(T,H)|0,n=n+Math.imul(N,G)|0,h=(h=h+Math.imul(N,Q)|0)+Math.imul(I,G)|0,e=e+Math.imul(I,Q)|0,n=n+Math.imul(R,W)|0,h=(h=h+Math.imul(R,X)|0)+Math.imul(Z,W)|0,e=e+Math.imul(Z,X)|0,n=n+Math.imul(x,$)|0,h=(h=h+Math.imul(x,tt)|0)+Math.imul(B,$)|0,e=e+Math.imul(B,tt)|0,n=n+Math.imul(k,rt)|0,h=(h=h+Math.imul(k,nt)|0)+Math.imul(A,rt)|0,e=e+Math.imul(A,nt)|0,n=n+Math.imul(y,et)|0,h=(h=h+Math.imul(y,ot)|0)+Math.imul(b,et)|0,e=e+Math.imul(b,ot)|0,n=n+Math.imul(g,ut)|0,h=(h=h+Math.imul(g,at)|0)+Math.imul(c,ut)|0,e=e+Math.imul(c,at)|0,n=n+Math.imul(p,mt)|0,h=(h=h+Math.imul(p,ft)|0)+Math.imul(M,mt)|0,e=e+Math.imul(M,ft)|0;var St=(a+(n=n+Math.imul(m,pt)|0)|0)+((8191&(h=(h=h+Math.imul(m,Mt)|0)+Math.imul(f,pt)|0))<<13)|0;a=((e=e+Math.imul(f,Mt)|0)+(h>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(j,D),h=(h=Math.imul(j,H))+Math.imul(K,D)|0,e=Math.imul(K,H),n=n+Math.imul(z,G)|0,h=(h=h+Math.imul(z,Q)|0)+Math.imul(T,G)|0,e=e+Math.imul(T,Q)|0,n=n+Math.imul(N,W)|0,h=(h=h+Math.imul(N,X)|0)+Math.imul(I,W)|0,e=e+Math.imul(I,X)|0,n=n+Math.imul(R,$)|0,h=(h=h+Math.imul(R,tt)|0)+Math.imul(Z,$)|0,e=e+Math.imul(Z,tt)|0,n=n+Math.imul(x,rt)|0,h=(h=h+Math.imul(x,nt)|0)+Math.imul(B,rt)|0,e=e+Math.imul(B,nt)|0,n=n+Math.imul(k,et)|0,h=(h=h+Math.imul(k,ot)|0)+Math.imul(A,et)|0,e=e+Math.imul(A,ot)|0,n=n+Math.imul(y,ut)|0,h=(h=h+Math.imul(y,at)|0)+Math.imul(b,ut)|0,e=e+Math.imul(b,at)|0,n=n+Math.imul(g,mt)|0,h=(h=h+Math.imul(g,ft)|0)+Math.imul(c,mt)|0,e=e+Math.imul(c,ft)|0;var xt=(a+(n=n+Math.imul(p,pt)|0)|0)+((8191&(h=(h=h+Math.imul(p,Mt)|0)+Math.imul(M,pt)|0))<<13)|0;a=((e=e+Math.imul(M,Mt)|0)+(h>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(j,G),h=(h=Math.imul(j,Q))+Math.imul(K,G)|0,e=Math.imul(K,Q),n=n+Math.imul(z,W)|0,h=(h=h+Math.imul(z,X)|0)+Math.imul(T,W)|0,e=e+Math.imul(T,X)|0,n=n+Math.imul(N,$)|0,h=(h=h+Math.imul(N,tt)|0)+Math.imul(I,$)|0,e=e+Math.imul(I,tt)|0,n=n+Math.imul(R,rt)|0,h=(h=h+Math.imul(R,nt)|0)+Math.imul(Z,rt)|0,e=e+Math.imul(Z,nt)|0,n=n+Math.imul(x,et)|0,h=(h=h+Math.imul(x,ot)|0)+Math.imul(B,et)|0,e=e+Math.imul(B,ot)|0,n=n+Math.imul(k,ut)|0,h=(h=h+Math.imul(k,at)|0)+Math.imul(A,ut)|0,e=e+Math.imul(A,at)|0,n=n+Math.imul(y,mt)|0,h=(h=h+Math.imul(y,ft)|0)+Math.imul(b,mt)|0,e=e+Math.imul(b,ft)|0;var Bt=(a+(n=n+Math.imul(g,pt)|0)|0)+((8191&(h=(h=h+Math.imul(g,Mt)|0)+Math.imul(c,pt)|0))<<13)|0;a=((e=e+Math.imul(c,Mt)|0)+(h>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(j,W),h=(h=Math.imul(j,X))+Math.imul(K,W)|0,e=Math.imul(K,X),n=n+Math.imul(z,$)|0,h=(h=h+Math.imul(z,tt)|0)+Math.imul(T,$)|0,e=e+Math.imul(T,tt)|0,n=n+Math.imul(N,rt)|0,h=(h=h+Math.imul(N,nt)|0)+Math.imul(I,rt)|0,e=e+Math.imul(I,nt)|0,n=n+Math.imul(R,et)|0,h=(h=h+Math.imul(R,ot)|0)+Math.imul(Z,et)|0,e=e+Math.imul(Z,ot)|0,n=n+Math.imul(x,ut)|0,h=(h=h+Math.imul(x,at)|0)+Math.imul(B,ut)|0,e=e+Math.imul(B,at)|0,n=n+Math.imul(k,mt)|0,h=(h=h+Math.imul(k,ft)|0)+Math.imul(A,mt)|0,e=e+Math.imul(A,ft)|0;var qt=(a+(n=n+Math.imul(y,pt)|0)|0)+((8191&(h=(h=h+Math.imul(y,Mt)|0)+Math.imul(b,pt)|0))<<13)|0;a=((e=e+Math.imul(b,Mt)|0)+(h>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(j,$),h=(h=Math.imul(j,tt))+Math.imul(K,$)|0,e=Math.imul(K,tt),n=n+Math.imul(z,rt)|0,h=(h=h+Math.imul(z,nt)|0)+Math.imul(T,rt)|0,e=e+Math.imul(T,nt)|0,n=n+Math.imul(N,et)|0,h=(h=h+Math.imul(N,ot)|0)+Math.imul(I,et)|0,e=e+Math.imul(I,ot)|0,n=n+Math.imul(R,ut)|0,h=(h=h+Math.imul(R,at)|0)+Math.imul(Z,ut)|0,e=e+Math.imul(Z,at)|0,n=n+Math.imul(x,mt)|0,h=(h=h+Math.imul(x,ft)|0)+Math.imul(B,mt)|0,e=e+Math.imul(B,ft)|0;var Rt=(a+(n=n+Math.imul(k,pt)|0)|0)+((8191&(h=(h=h+Math.imul(k,Mt)|0)+Math.imul(A,pt)|0))<<13)|0;a=((e=e+Math.imul(A,Mt)|0)+(h>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(j,rt),h=(h=Math.imul(j,nt))+Math.imul(K,rt)|0,e=Math.imul(K,nt),n=n+Math.imul(z,et)|0,h=(h=h+Math.imul(z,ot)|0)+Math.imul(T,et)|0,e=e+Math.imul(T,ot)|0,n=n+Math.imul(N,ut)|0,h=(h=h+Math.imul(N,at)|0)+Math.imul(I,ut)|0,e=e+Math.imul(I,at)|0,n=n+Math.imul(R,mt)|0,h=(h=h+Math.imul(R,ft)|0)+Math.imul(Z,mt)|0,e=e+Math.imul(Z,ft)|0;var Zt=(a+(n=n+Math.imul(x,pt)|0)|0)+((8191&(h=(h=h+Math.imul(x,Mt)|0)+Math.imul(B,pt)|0))<<13)|0;a=((e=e+Math.imul(B,Mt)|0)+(h>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,n=Math.imul(j,et),h=(h=Math.imul(j,ot))+Math.imul(K,et)|0,e=Math.imul(K,ot),n=n+Math.imul(z,ut)|0,h=(h=h+Math.imul(z,at)|0)+Math.imul(T,ut)|0,e=e+Math.imul(T,at)|0,n=n+Math.imul(N,mt)|0,h=(h=h+Math.imul(N,ft)|0)+Math.imul(I,mt)|0,e=e+Math.imul(I,ft)|0;var Lt=(a+(n=n+Math.imul(R,pt)|0)|0)+((8191&(h=(h=h+Math.imul(R,Mt)|0)+Math.imul(Z,pt)|0))<<13)|0;a=((e=e+Math.imul(Z,Mt)|0)+(h>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(j,ut),h=(h=Math.imul(j,at))+Math.imul(K,ut)|0,e=Math.imul(K,at),n=n+Math.imul(z,mt)|0,h=(h=h+Math.imul(z,ft)|0)+Math.imul(T,mt)|0,e=e+Math.imul(T,ft)|0;var Nt=(a+(n=n+Math.imul(N,pt)|0)|0)+((8191&(h=(h=h+Math.imul(N,Mt)|0)+Math.imul(I,pt)|0))<<13)|0;a=((e=e+Math.imul(I,Mt)|0)+(h>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(j,mt),h=(h=Math.imul(j,ft))+Math.imul(K,mt)|0,e=Math.imul(K,ft);var It=(a+(n=n+Math.imul(z,pt)|0)|0)+((8191&(h=(h=h+Math.imul(z,Mt)|0)+Math.imul(T,pt)|0))<<13)|0;a=((e=e+Math.imul(T,Mt)|0)+(h>>>13)|0)+(It>>>26)|0,It&=67108863;var Et=(a+(n=Math.imul(j,pt))|0)+((8191&(h=(h=Math.imul(j,Mt))+Math.imul(K,pt)|0))<<13)|0;return a=((e=Math.imul(K,Mt))+(h>>>13)|0)+(Et>>>26)|0,Et&=67108863,u[0]=vt,u[1]=gt,u[2]=ct,u[3]=wt,u[4]=yt,u[5]=bt,u[6]=_t,u[7]=kt,u[8]=At,u[9]=St,u[10]=xt,u[11]=Bt,u[12]=qt,u[13]=Rt,u[14]=Zt,u[15]=Lt,u[16]=Nt,u[17]=It,u[18]=Et,0!==a&&(u[19]=a,r.length++),r};function v(t,i,r){r.negative=i.negative^t.negative,r.length=t.length+i.length;for(var n=0,h=0,e=0;e<r.length-1;e++){var o=h;h=0;for(var s=67108863&n,u=Math.min(e,i.length-1),a=Math.max(0,e-t.length+1);a<=u;a++){var l=e-a,m=(0|t.words[l])*(0|i.words[a]),f=67108863&m;s=67108863&(f=f+s|0),h+=(o=(o=o+(m/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[e]=s,n=o,o=h}return 0!==n?r.words[e]=n:r.length--,r._strip()}function g(t,i,r){return v(t,i,r)}function c(t,i){this.x=t,this.y=i}Math.imul||(M=p),h.prototype.mulTo=function(t,i){var r=this.length+t.length;return 10===this.length&&10===t.length?M(this,t,i):r<63?p(this,t,i):r<1024?v(this,t,i):g(this,t,i)},c.prototype.makeRBT=function(t){for(var i=new Array(t),r=h.prototype._countBits(t)-1,n=0;n<t;n++)i[n]=this.revBin(n,r,t);return i},c.prototype.revBin=function(t,i,r){if(0===t||t===r-1)return t;for(var n=0,h=0;h<i;h++)n|=(1&t)<<i-h-1,t>>=1;return n},c.prototype.permute=function(t,i,r,n,h,e){for(var o=0;o<e;o++)n[o]=i[t[o]],h[o]=r[t[o]]},c.prototype.transform=function(t,i,r,n,h,e){this.permute(e,t,i,r,n,h);for(var o=1;o<h;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),a=Math.sin(2*Math.PI/s),l=0;l<h;l+=s)for(var m=u,f=a,d=0;d<o;d++){var p=r[l+d],M=n[l+d],v=r[l+d+o],g=n[l+d+o],c=m*v-f*g;g=m*g+f*v,v=c,r[l+d]=p+v,n[l+d]=M+g,r[l+d+o]=p-v,n[l+d+o]=M-g,d!==s&&(c=u*m-a*f,f=u*f+a*m,m=c)}},c.prototype.guessLen13b=function(t,i){var r=1|Math.max(i,t),n=1&r,h=0;for(r=r/2|0;r;r>>>=1)h++;return 1<<h+1+n},c.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var n=0;n<r/2;n++){var h=t[n];t[n]=t[r-n-1],t[r-n-1]=h,h=i[n],i[n]=-i[r-n-1],i[r-n-1]=-h}},c.prototype.normalize13b=function(t,i){for(var r=0,n=0;n<i/2;n++){var h=8192*Math.round(t[2*n+1]/i)+Math.round(t[2*n]/i)+r;t[n]=67108863&h,r=h<67108864?0:h/67108864|0}return t},c.prototype.convert13b=function(t,i,n,h){for(var e=0,o=0;o<i;o++)e+=0|t[o],n[2*o]=8191&e,e>>>=13,n[2*o+1]=8191&e,e>>>=13;for(o=2*i;o<h;++o)n[o]=0;r(0===e),r(0==(-8192&e))},c.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},c.prototype.mulp=function(t,i,r){var n=2*this.guessLen13b(t.length,i.length),h=this.makeRBT(n),e=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),a=new Array(n),l=new Array(n),m=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(i.words,i.length,a,n),this.transform(o,e,s,u,n,h),this.transform(a,e,l,m,n,h);for(var d=0;d<n;d++){var p=s[d]*l[d]-u[d]*m[d];u[d]=s[d]*m[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,f,e,n,h),this.conjugate(f,e,n),this.normalize13b(f,n),r.negative=t.negative^i.negative,r.length=t.length+i.length,r._strip()},h.prototype.mul=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},h.prototype.mulf=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),g(this,t,i)},h.prototype.imul=function(t){return this.clone().mulTo(t,this)},h.prototype.imuln=function(t){var i=t<0;i&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,h=0;h<this.length;h++){var e=(0|this.words[h])*t,o=(67108863&e)+(67108863&n);n>>=26,n+=e/67108864|0,n+=o>>>26,this.words[h]=67108863&o}return 0!==n&&(this.words[h]=n,this.length++),i?this.ineg():this},h.prototype.muln=function(t){return this.clone().imuln(t)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(t){var i=function(t){for(var i=new Array(t.bitLength()),r=0;r<i.length;r++){var n=r/26|0,h=r%26;i[r]=t.words[n]>>>h&1}return i}(t);if(0===i.length)return new h(1);for(var r=this,n=0;n<i.length&&0===i[n];n++,r=r.sqr());if(++n<i.length)for(var e=r.sqr();n<i.length;n++,e=e.sqr())0!==i[n]&&(r=r.mul(e));return r},h.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var i,n=t%26,h=(t-n)/26,e=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(i=0;i<this.length;i++){var s=this.words[i]&e,u=(0|this.words[i])-s<<n;this.words[i]=u|o,o=s>>>26-n}o&&(this.words[i]=o,this.length++)}if(0!==h){for(i=this.length-1;i>=0;i--)this.words[i+h]=this.words[i];for(i=0;i<h;i++)this.words[i]=0;this.length+=h}return this._strip()},h.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},h.prototype.iushrn=function(t,i,n){var h;r("number"==typeof t&&t>=0),h=i?(i-i%26)/26:0;var e=t%26,o=Math.min((t-e)/26,this.length),s=67108863^67108863>>>e<<e,u=n;if(h-=o,h=Math.max(0,h),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=h);a--){var m=0|this.words[a];this.words[a]=l<<26-e|m>>>e,l=m&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},h.prototype.ishrn=function(t,i,n){return r(0===this.negative),this.iushrn(t,i,n)},h.prototype.shln=function(t){return this.clone().ishln(t)},h.prototype.ushln=function(t){return this.clone().iushln(t)},h.prototype.shrn=function(t){return this.clone().ishrn(t)},h.prototype.ushrn=function(t){return this.clone().iushrn(t)},h.prototype.testn=function(t){r("number"==typeof t&&t>=0);var i=t%26,n=(t-i)/26,h=1<<i;return!(this.length<=n)&&!!(this.words[n]&h)},h.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var i=t%26,n=(t-i)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==i&&n++,this.length=Math.min(n,this.length),0!==i){var h=67108863^67108863>>>i<<i;this.words[this.length-1]&=h}return this._strip()},h.prototype.maskn=function(t){return this.clone().imaskn(t)},h.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},h.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},h.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this._strip()},h.prototype.addn=function(t){return this.clone().iaddn(t)},h.prototype.subn=function(t){return this.clone().isubn(t)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(t,i,n){var h,e,o=t.length+n;this._expand(o);var s=0;for(h=0;h<t.length;h++){e=(0|this.words[h+n])+s;var u=(0|t.words[h])*i;s=((e-=67108863&u)>>26)-(u/67108864|0),this.words[h+n]=67108863&e}for(;h<this.length-n;h++)s=(e=(0|this.words[h+n])+s)>>26,this.words[h+n]=67108863&e;if(0===s)return this._strip();for(r(-1===s),s=0,h=0;h<this.length;h++)s=(e=-(0|this.words[h])+s)>>26,this.words[h]=67108863&e;return this.negative=1,this._strip()},h.prototype._wordDiv=function(t,i){var r=(this.length,t.length),n=this.clone(),e=t,o=0|e.words[e.length-1];0!==(r=26-this._countBits(o))&&(e=e.ushln(r),n.iushln(r),o=0|e.words[e.length-1]);var s,u=n.length-e.length;if("mod"!==i){(s=new h(null)).length=u+1,s.words=new Array(s.length);for(var a=0;a<s.length;a++)s.words[a]=0}var l=n.clone()._ishlnsubmul(e,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var m=u-1;m>=0;m--){var f=67108864*(0|n.words[e.length+m])+(0|n.words[e.length+m-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(e,f,m);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(e,1,m),n.isZero()||(n.negative^=1);s&&(s.words[m]=f)}return s&&s._strip(),n._strip(),"div"!==i&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},h.prototype.divmod=function(t,i,n){return r(!t.isZero()),this.isZero()?{div:new h(0),mod:new h(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,i),"mod"!==i&&(e=s.div.neg()),"div"!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:e,mod:o}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),i),"mod"!==i&&(e=s.div.neg()),{div:e,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),i),"div"!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:s.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new h(0),mod:this}:1===t.length?"div"===i?{div:this.divn(t.words[0]),mod:null}:"mod"===i?{div:null,mod:new h(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new h(this.modrn(t.words[0]))}:this._wordDiv(t,i);var e,o,s},h.prototype.div=function(t){return this.divmod(t,"div",!1).div},h.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},h.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},h.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=0!==i.div.negative?i.mod.isub(t):i.mod,n=t.ushrn(1),h=t.andln(1),e=r.cmp(n);return e<0||1===h&&0===e?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},h.prototype.modrn=function(t){var i=t<0;i&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,h=0,e=this.length-1;e>=0;e--)h=(n*h+(0|this.words[e]))%t;return i?-h:h},h.prototype.modn=function(t){return this.modrn(t)},h.prototype.idivn=function(t){var i=t<0;i&&(t=-t),r(t<=67108863);for(var n=0,h=this.length-1;h>=0;h--){var e=(0|this.words[h])+67108864*n;this.words[h]=e/t|0,n=e%t}return this._strip(),i?this.ineg():this},h.prototype.divn=function(t){return this.clone().idivn(t)},h.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new h(1),o=new h(0),s=new h(0),u=new h(1),a=0;i.isEven()&&n.isEven();)i.iushrn(1),n.iushrn(1),++a;for(var l=n.clone(),m=i.clone();!i.isZero();){for(var f=0,d=1;0==(i.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(e.isOdd()||o.isOdd())&&(e.iadd(l),o.isub(m)),e.iushrn(1),o.iushrn(1);for(var p=0,M=1;0==(n.words[0]&M)&&p<26;++p,M<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(m)),s.iushrn(1),u.iushrn(1);i.cmp(n)>=0?(i.isub(n),e.isub(s),o.isub(u)):(n.isub(i),s.isub(e),u.isub(o))}return{a:s,b:u,gcd:n.iushln(a)}},h.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e,o=new h(1),s=new h(0),u=n.clone();i.cmpn(1)>0&&n.cmpn(1)>0;){for(var a=0,l=1;0==(i.words[0]&l)&&a<26;++a,l<<=1);if(a>0)for(i.iushrn(a);a-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var m=0,f=1;0==(n.words[0]&f)&&m<26;++m,f<<=1);if(m>0)for(n.iushrn(m);m-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);i.cmp(n)>=0?(i.isub(n),o.isub(s)):(n.isub(i),s.isub(o))}return(e=0===i.cmpn(1)?o:s).cmpn(0)<0&&e.iadd(t),e},h.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var n=0;i.isEven()&&r.isEven();n++)i.iushrn(1),r.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var h=i.cmp(r);if(h<0){var e=i;i=r,r=e}else if(0===h||0===r.cmpn(1))break;i.isub(r)}return r.iushln(n)},h.prototype.invm=function(t){return this.egcd(t).a.umod(t)},h.prototype.isEven=function(){return 0==(1&this.words[0])},h.prototype.isOdd=function(){return 1==(1&this.words[0])},h.prototype.andln=function(t){return this.words[0]&t},h.prototype.bincn=function(t){r("number"==typeof t);var i=t%26,n=(t-i)/26,h=1<<i;if(this.length<=n)return this._expand(n+1),this.words[n]|=h,this;for(var e=h,o=n;0!==e&&o<this.length;o++){var s=0|this.words[o];e=(s+=e)>>>26,s&=67108863,this.words[o]=s}return 0!==e&&(this.words[o]=e,this.length++),this},h.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},h.prototype.cmpn=function(t){var i,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)i=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var h=0|this.words[0];i=h===t?0:h<t?-1:1}return 0!==this.negative?0|-i:i},h.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},h.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],h=0|t.words[r];if(n!==h){n<h?i=-1:n>h&&(i=1);break}}return i},h.prototype.gtn=function(t){return 1===this.cmpn(t)},h.prototype.gt=function(t){return 1===this.cmp(t)},h.prototype.gten=function(t){return this.cmpn(t)>=0},h.prototype.gte=function(t){return this.cmp(t)>=0},h.prototype.ltn=function(t){return-1===this.cmpn(t)},h.prototype.lt=function(t){return-1===this.cmp(t)},h.prototype.lten=function(t){return this.cmpn(t)<=0},h.prototype.lte=function(t){return this.cmp(t)<=0},h.prototype.eqn=function(t){return 0===this.cmpn(t)},h.prototype.eq=function(t){return 0===this.cmp(t)},h.red=function(t){return new S(t)},h.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},h.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(t){return this.red=t,this},h.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},h.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},h.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},h.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},h.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},h.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},h.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},h.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},h.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function y(t,i){this.name=t,this.p=new h(i,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var i=h._prime(t);this.m=i.p,this.prime=i}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new h(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var i,r=t;do{this.split(r,this.tmp),i=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(i>this.n);var n=i<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,i){t.iushrn(this.n,0,i)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,i){for(var r=Math.min(t.length,9),n=0;n<r;n++)i.words[n]=t.words[n];if(i.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var h=t.words[9];for(i.words[i.length++]=4194303&h,n=10;n<t.length;n++){var e=0|t.words[n];t.words[n-10]=(4194303&e)<<4|h>>>22,h=e}h>>>=22,t.words[n-10]=h,0===h&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var n=0|t.words[r];i+=977*n,t.words[r]=67108863&i,i=64*n+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(_,y),n(k,y),n(A,y),A.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+i,h=67108863&n;n>>>=26,t.words[r]=h,i=n}return 0!==i&&(t.words[t.length++]=i),t},h._prime=function(t){if(w[t])return w[t];var i;if("k256"===t)i=new b;else if("p224"===t)i=new _;else if("p192"===t)i=new k;else{if("p25519"!==t)throw new Error("Unknown prime "+t);i=new A}return w[t]=i,i},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,i){r(0==(t.negative|i.negative),"red works only with positives"),r(t.red&&t.red===i.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(a(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},S.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},S.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(r(i%2==1),3===i){var n=this.m.add(new h(1)).iushrn(2);return this.pow(t,n)}for(var e=this.m.subn(1),o=0;!e.isZero()&&0===e.andln(1);)o++,e.iushrn(1);r(!e.isZero());var s=new h(1).toRed(this),u=s.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new h(2*l*l).toRed(this);0!==this.pow(l,a).cmp(u);)l.redIAdd(u);for(var m=this.pow(l,e),f=this.pow(t,e.addn(1).iushrn(1)),d=this.pow(t,e),p=o;0!==d.cmp(s);){for(var M=d,v=0;0!==M.cmp(s);v++)M=M.redSqr();r(v<p);var g=this.pow(m,new h(1).iushln(p-v-1));f=f.redMul(g),m=g.redSqr(),d=d.redMul(m),p=v}return f},S.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},S.prototype.pow=function(t,i){if(i.isZero())return new h(1).toRed(this);if(0===i.cmpn(1))return t.clone();var r=new Array(16);r[0]=new h(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var e=r[0],o=0,s=0,u=i.bitLength()%26;for(0===u&&(u=26),n=i.length-1;n>=0;n--){for(var a=i.words[n],l=u-1;l>=0;l--){var m=a>>l&1;e!==r[0]&&(e=this.sqr(e)),0!==m||0!==o?(o<<=1,o|=m,(4===++s||0===n&&0===l)&&(e=this.mul(e,r[o]),s=0,o=0)):s=0}u=26}return e},S.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},S.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},h.mont=function(t){return new x(t)},n(x,S),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},x.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=r.isub(n).iushrn(this.shift),e=h;return h.cmp(this.m)>=0?e=h.isub(this.m):h.cmpn(0)<0&&(e=h.iadd(this.m)),e._forceRed(this)},x.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new h(0)._forceRed(this);var r=t.mul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=r.isub(n).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"==typeof module||module,this);

},{"buffer":71}],70:[function(require,module,exports){
(function (Buffer){(function (){
"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,r,t,i){void 0===i&&(i=t),Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,i){void 0===i&&(i=t),e[i]=r[t]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),__decorate=this&&this.__decorate||function(e,r,t,i){var n,s=arguments.length,o=s<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,r,t,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(r,t,o):n(r,t))||o);return s>3&&o&&Object.defineProperty(r,t,o),o},__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)"default"!==t&&Object.hasOwnProperty.call(e,t)&&__createBinding(r,e,t);return __setModuleDefault(r,e),r},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.deserializeUnchecked=exports.deserialize=exports.serialize=exports.BinaryReader=exports.BinaryWriter=exports.BorshError=exports.baseDecode=exports.baseEncode=void 0;const bn_js_1=__importDefault(require("bn.js")),bs58_1=__importDefault(require("bs58")),encoding=__importStar(require("text-encoding-utf-8")),ResolvedTextDecoder="function"!=typeof TextDecoder?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(e){return"string"==typeof e&&(e=Buffer.from(e,"utf8")),bs58_1.default.encode(Buffer.from(e))}function baseDecode(e){return Buffer.from(bs58_1.default.decode(e))}exports.baseEncode=baseEncode,exports.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}exports.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(INITIAL_LENGTH)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(INITIAL_LENGTH)]),this.length+=e.length}writeString(e){this.maybeResize();const r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(const t of e)this.maybeResize(),r(t)}toArray(){return this.buf.subarray(0,this.length)}}function handlingRangeError(e,r,t){const i=t.value;t.value=function(...e){try{return i.apply(this,e)}catch(e){if(e instanceof RangeError){const r=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(r)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw e}}}exports.BinaryWriter=BinaryWriter;class BinaryReader{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new bn_js_1.default(e,"le")}readU128(){const e=this.readBuffer(16);return new bn_js_1.default(e,"le")}readU256(){const e=this.readBuffer(32);return new bn_js_1.default(e,"le")}readU512(){const e=this.readBuffer(64);return new bn_js_1.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new BorshError(`Expected buffer length ${e} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){const e=this.readU32(),r=this.readBuffer(e);try{return textDecoder.decode(r)}catch(e){throw new BorshError(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const r=this.readU32(),t=Array();for(let i=0;i<r;++i)t.push(e());return t}}function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}function serializeField(e,r,t,i,n){try{if("string"==typeof i)n[`write${capitalizeFirstLetter(i)}`](t);else if(i instanceof Array)if("number"==typeof i[0]){if(t.length!==i[0])throw new BorshError(`Expecting byte array of length ${i[0]}, but got ${t.length} bytes`);n.writeFixedArray(t)}else if(2===i.length&&"number"==typeof i[1]){if(t.length!==i[1])throw new BorshError(`Expecting byte array of length ${i[1]}, but got ${t.length} bytes`);for(let r=0;r<i[1];r++)serializeField(e,null,t[r],i[0],n)}else n.writeArray(t,t=>{serializeField(e,r,t,i[0],n)});else if(void 0!==i.kind)switch(i.kind){case"option":null==t?n.writeU8(0):(n.writeU8(1),serializeField(e,r,t,i.type,n));break;case"map":n.writeU32(t.size),t.forEach((t,s)=>{serializeField(e,r,s,i.key,n),serializeField(e,r,t,i.value,n)});break;default:throw new BorshError(`FieldType ${i} unrecognized`)}else serializeStruct(e,t,n)}catch(e){throw e instanceof BorshError&&e.addToFieldPath(r),e}}function serializeStruct(e,r,t){if("function"==typeof r.borshSerialize)return void r.borshSerialize(t);const i=e.get(r.constructor);if(!i)throw new BorshError(`Class ${r.constructor.name} is missing in schema`);if("struct"===i.kind)i.fields.map(([i,n])=>{serializeField(e,i,r[i],n,t)});else{if("enum"!==i.kind)throw new BorshError(`Unexpected schema kind: ${i.kind} for ${r.constructor.name}`);{const n=r[i.field];for(let s=0;s<i.values.length;++s){const[o,a]=i.values[s];if(o===n){t.writeU8(s),serializeField(e,o,r[o],a,t);break}}}}}function serialize(e,r,t=BinaryWriter){const i=new t;return serializeStruct(e,r,i),i.toArray()}function deserializeField(e,r,t,i){try{if("string"==typeof t)return i[`read${capitalizeFirstLetter(t)}`]();if(t instanceof Array){if("number"==typeof t[0])return i.readFixedArray(t[0]);if("number"==typeof t[1]){const r=[];for(let n=0;n<t[1];n++)r.push(deserializeField(e,null,t[0],i));return r}return i.readArray(()=>deserializeField(e,r,t[0],i))}if("option"===t.kind){return i.readU8()?deserializeField(e,r,t.type,i):void 0}if("map"===t.kind){let n=new Map;const s=i.readU32();for(let o=0;o<s;o++){const s=deserializeField(e,r,t.key,i),o=deserializeField(e,r,t.value,i);n.set(s,o)}return n}return deserializeStruct(e,t,i)}catch(e){throw e instanceof BorshError&&e.addToFieldPath(r),e}}function deserializeStruct(e,r,t){if("function"==typeof r.borshDeserialize)return r.borshDeserialize(t);const i=e.get(r);if(!i)throw new BorshError(`Class ${r.name} is missing in schema`);if("struct"===i.kind){const i={};for(const[n,s]of e.get(r).fields)i[n]=deserializeField(e,n,s,t);return new r(i)}if("enum"===i.kind){const n=t.readU8();if(n>=i.values.length)throw new BorshError(`Enum index: ${n} is out of range`);const[s,o]=i.values[n];return new r({[s]:deserializeField(e,s,o,t)})}throw new BorshError(`Unexpected schema kind: ${i.kind} for ${r.constructor.name}`)}function deserialize(e,r,t,i=BinaryReader){const n=new i(t),s=deserializeStruct(e,r,n);if(n.offset<t.length)throw new BorshError(`Unexpected ${t.length-n.offset} bytes after deserialized data`);return s}function deserializeUnchecked(e,r,t,i=BinaryReader){return deserializeStruct(e,r,new i(t))}__decorate([handlingRangeError],BinaryReader.prototype,"readU8",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU16",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU32",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU64",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU128",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU256",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU512",null),__decorate([handlingRangeError],BinaryReader.prototype,"readString",null),__decorate([handlingRangeError],BinaryReader.prototype,"readFixedArray",null),__decorate([handlingRangeError],BinaryReader.prototype,"readArray",null),exports.BinaryReader=BinaryReader,exports.serialize=serialize,exports.deserialize=deserialize,exports.deserializeUnchecked=deserializeUnchecked;

}).call(this)}).call(this,require("buffer").Buffer)
},{"bn.js":69,"bs58":73,"buffer":74,"text-encoding-utf-8":135}],71:[function(require,module,exports){

},{}],72:[function(require,module,exports){

},{}],73:[function(require,module,exports){
var basex=require("base-x"),ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";module.exports=basex(ALPHABET);

},{"base-x":67}],74:[function(require,module,exports){
(function (Buffer){(function (){
"use strict";var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function createBuffer(e){if(e>K_MAX_LENGTH)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=Buffer.prototype,t}function Buffer(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(e)}return from(e,t,r)}function from(e,t,r){if("string"==typeof e)return fromString(e,t);if(ArrayBuffer.isView(e))return fromArrayLike(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer))return fromArrayBuffer(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return Buffer.from(n,t,r);var f=fromObject(e);if(f)return f;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function alloc(e,t,r){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof r?createBuffer(e).fill(t,r):createBuffer(e).fill(t):createBuffer(e)}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromString(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|byteLength(e,t),n=createBuffer(r),f=n.write(e,t);return f!==r&&(n=n.slice(0,f)),n}function fromArrayLike(e){for(var t=e.length<0?0:0|checked(e.length),r=createBuffer(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function fromArrayBuffer(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r)).__proto__=Buffer.prototype,n}function fromObject(e){if(Buffer.isBuffer(e)){var t=0|checked(e.length),r=createBuffer(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}return void 0!==e.length?"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike(e):"Buffer"===e.type&&Array.isArray(e.data)?fromArrayLike(e.data):void 0}function checked(e){if(e>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var f=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(f)return n?-1:utf8ToBytes(e).length;t=(""+t).toLowerCase(),f=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,f){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),numberIsNaN(r=+r)&&(r=f?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(f)return-1;r=e.length-1}else if(r<0){if(!f)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,f);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,f);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,f){var i,o=1,u=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,u/=2,s/=2,r/=2}function a(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(f){var h=-1;for(i=r;i<u;i++)if(a(e,i)===a(t,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===s)return h*o}else-1!==h&&(i-=i-h),h=-1}else for(r+s>u&&(r=u-s),i=r;i>=0;i--){for(var c=!0,l=0;l<s;l++)if(a(e,i+l)!==a(t,l)){c=!1;break}if(c)return i}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var f=e.length-r;n?(n=Number(n))>f&&(n=f):n=f;var i=t.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var u=parseInt(t.substr(2*o,2),16);if(numberIsNaN(u))return o;e[r+o]=u}return o}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?base64.fromByteArray(e):base64.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],f=t;f<r;){var i,o,u,s,a=e[f],h=null,c=a>239?4:a>223?3:a>191?2:1;if(f+c<=r)switch(c){case 1:a<128&&(h=a);break;case 2:128==(192&(i=e[f+1]))&&(s=(31&a)<<6|63&i)>127&&(h=s);break;case 3:i=e[f+1],o=e[f+2],128==(192&i)&&128==(192&o)&&(s=(15&a)<<12|(63&i)<<6|63&o)>2047&&(s<55296||s>57343)&&(h=s);break;case 4:i=e[f+1],o=e[f+2],u=e[f+3],128==(192&i)&&128==(192&o)&&128==(192&u)&&(s=(15&a)<<18|(63&i)<<12|(63&o)<<6|63&u)>65535&&s<1114112&&(h=s)}null===h?(h=65533,c=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),f+=c}return decodeCodePointsArray(n)}exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(e,t,r){return from(e,t,r)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(e,t,r){return alloc(e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Buffer.prototype},Buffer.compare=function(e,t){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,f=0,i=Math.min(r,n);f<i;++f)if(e[f]!==t[f]){r=e[f],n=t[f];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),f=0;for(r=0;r<e.length;++r){var i=e[r];if(isInstance(i,Uint8Array)&&(i=Buffer.from(i)),!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=exports.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,f){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),!Buffer.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===f&&(f=this.length),t<0||r>e.length||n<0||f>this.length)throw new RangeError("out of range index");if(n>=f&&t>=r)return 0;if(n>=f)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(f>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),u=Math.min(i,o),s=this.slice(n,f),a=e.slice(t,r),h=0;h<u;++h)if(s[h]!==a[h]){i=s[h],o=a[h];break}return i<o?-1:o<i?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(127&e[f]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(e[f]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=t;i<r;++i)f+=toHex(e[i]);return f}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,f,i){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function checkIEEE754(e,t,r,n,f,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(e,t,r,n,52,8),r+8}Buffer.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=Buffer.prototype,n},Buffer.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n},Buffer.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],f=1;t>0&&(f*=256);)n+=this[e+--t]*f;return n},Buffer.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n>=(f*=128)&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=t,f=1,i=this[e+--n];n>0&&(f*=256);)i+=this[e+--n]*f;return i>=(f*=128)&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var f=1,i=0;for(this[t]=255&e;++i<r&&(f*=256);)this[t+i]=e/f&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var f=r-1,i=1;for(this[t+f]=255&e;--f>=0&&(i*=256);)this[t+f]=e/i&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=0,o=1,u=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=r-1,o=1,u=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(!Buffer.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var f=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=f-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return f},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var f=e.charCodeAt(0);("utf8"===n&&f<128||"latin1"===n)&&(e=f)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=Buffer.isBuffer(e)?e:Buffer.from(e,n),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%u]}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function base64clean(e){if((e=(e=e.split("=")[0]).trim().replace(INVALID_BASE64_RE,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var n=e.length,f=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!f){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),f=r;continue}r=65536+(f-55296<<10|r-56320)}else f&&(t-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,f,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(e){return base64.toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var f=0;f<n&&!(f+r>=t.length||f>=e.length);++f)t[f+r]=e[f];return f}function isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function numberIsNaN(e){return e!=e}

}).call(this)}).call(this,require("buffer").Buffer)
},{"base64-js":68,"buffer":74,"ieee754":96}],75:[function(require,module,exports){
module.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};

},{}],76:[function(require,module,exports){
require(".").check("es5");

},{".":77}],77:[function(require,module,exports){
require("./lib/definitions"),module.exports=require("./lib");

},{"./lib":80,"./lib/definitions":79}],78:[function(require,module,exports){
var CapabilityDetector=function(){this.tests={},this.cache={}};CapabilityDetector.prototype={constructor:CapabilityDetector,define:function(t,i){if("string"!=typeof t||!(i instanceof Function))throw new Error("Invalid capability definition.");if(this.tests[t])throw new Error('Duplicated capability definition by "'+t+'".');this.tests[t]=i},check:function(t){if(!this.test(t))throw new Error('The current environment does not support "'+t+'", therefore we cannot continue.')},test:function(t){if(void 0!==this.cache[t])return this.cache[t];if(!this.tests[t])throw new Error('Unknown capability with name "'+t+'".');var i=this.tests[t];return this.cache[t]=!!i(),this.cache[t]}},module.exports=CapabilityDetector;

},{}],79:[function(require,module,exports){
var capability=require("."),define=capability.define,test=capability.test;define("strict mode",function(){return void 0===this}),define("arguments.callee.caller",function(){try{return function(){return arguments.callee.caller}()===arguments.callee}catch(e){return!1}}),define("es5",function(){return test("Array.prototype.forEach")&&test("Array.prototype.map")&&test("Function.prototype.bind")&&test("Object.create")&&test("Object.defineProperties")&&test("Object.defineProperty")&&test("Object.prototype.hasOwnProperty")}),define("Array.prototype.forEach",function(){return Array.prototype.forEach}),define("Array.prototype.map",function(){return Array.prototype.map}),define("Function.prototype.bind",function(){return Function.prototype.bind}),define("Object.create",function(){return Object.create}),define("Object.defineProperties",function(){return Object.defineProperties}),define("Object.defineProperty",function(){return Object.defineProperty}),define("Object.prototype.hasOwnProperty",function(){return Object.prototype.hasOwnProperty}),define("Error.captureStackTrace",function(){return Error.captureStackTrace}),define("Error.prototype.stack",function(){try{throw new Error}catch(e){return e.stack||e.stacktrace}});

},{".":80}],80:[function(require,module,exports){
var CapabilityDetector=require("./CapabilityDetector"),detector=new CapabilityDetector,capability=function(t){return detector.test(t)};capability.define=function(t,e){detector.define(t,e)},capability.check=function(t){detector.check(t)},capability.test=capability,module.exports=capability;

},{"./CapabilityDetector":78}],81:[function(require,module,exports){
"use strict";function depd(r){if(!r)throw new TypeError("argument namespace is required");function e(r){}return e._file=void 0,e._ignored=!0,e._namespace=r,e._traced=!1,e._warned=Object.create(null),e.function=wrapfunction,e.property=wrapproperty,e}function wrapfunction(r,e){if("function"!=typeof r)throw new TypeError("argument fn must be a function");return r}function wrapproperty(r,e,t){if(!r||"object"!=typeof r&&"function"!=typeof r)throw new TypeError("argument obj must be object");var o=Object.getOwnPropertyDescriptor(r,e);if(!o)throw new TypeError("must call property on owner object");if(!o.configurable)throw new TypeError("property must be configurable")}module.exports=depd;

},{}],82:[function(require,module,exports){
"use strict";function depd(r){if(!r)throw new TypeError("argument namespace is required");function e(r){}return e._file=void 0,e._ignored=!0,e._namespace=r,e._traced=!1,e._warned=Object.create(null),e.function=wrapfunction,e.property=wrapproperty,e}function wrapfunction(r,e){if("function"!=typeof r)throw new TypeError("argument fn must be a function");return r}function wrapproperty(r,e,t){if(!r||"object"!=typeof r&&"function"!=typeof r)throw new TypeError("argument obj must be object");var o=Object.getOwnPropertyDescriptor(r,e);if(!o)throw new TypeError("must call property on owner object");if(!o.configurable)throw new TypeError("property must be configurable")}module.exports=depd;

},{}],83:[function(require,module,exports){
module.exports=require("./lib");

},{"./lib":84}],84:[function(require,module,exports){
require("capability/es5");var polyfill,capability=require("capability");polyfill=capability("Error.captureStackTrace")?require("./v8"):capability("Error.prototype.stack")?require("./non-v8/index"):require("./unsupported"),module.exports=polyfill();

},{"./non-v8/index":88,"./unsupported":90,"./v8":91,"capability":77,"capability/es5":76}],85:[function(require,module,exports){
var Class=require("o3").Class,abstractMethod=require("o3").abstractMethod,Frame=Class(Object,{prototype:{init:Class.prototype.merge,frameString:void 0,toString:function(){return this.frameString},functionValue:void 0,getThis:abstractMethod,getTypeName:abstractMethod,getFunction:function(){return this.functionValue},getFunctionName:abstractMethod,getMethodName:abstractMethod,getFileName:abstractMethod,getLineNumber:abstractMethod,getColumnNumber:abstractMethod,getEvalOrigin:abstractMethod,isTopLevel:abstractMethod,isEval:abstractMethod,isNative:abstractMethod,isConstructor:abstractMethod}});module.exports=Frame;

},{"o3":102}],86:[function(require,module,exports){
var Class=require("o3").Class,Frame=require("./Frame"),cache=require("u3").cache,FrameStringParser=Class(Object,{prototype:{stackParser:null,frameParser:null,locationParsers:null,constructor:function(e){Class.prototype.merge.call(this,e)},getFrames:function(e,r){for(var t=[],a=0,n=e.length;a<n;++a)t[a]=this.getFrame(e[a],r[a]);return t},getFrame:function(e,r){return new Frame({frameString:e,functionValue:r})}}});module.exports={getClass:cache(function(){return FrameStringParser}),getInstance:cache(function(){return new(this.getClass())})};

},{"./Frame":85,"o3":102,"u3":138}],87:[function(require,module,exports){
var Class=require("o3").Class,abstractMethod=require("o3").abstractMethod,eachCombination=require("u3").eachCombination,cache=require("u3").cache,capability=require("capability"),AbstractFrameStringSource=Class(Object,{prototype:{captureFrameStrings:function(r){var t=this.createError();r.unshift(this.captureFrameStrings),r.unshift(this.createError);var e=this.getFrameStrings(t).slice(r.length),a=[];if(capability("arguments.callee.caller")){var n=[this.createError,this.captureFrameStrings];try{for(var i=arguments.callee;i=i.caller;)n.push(i)}catch(r){}a=n.slice(r.length)}return{frameStrings:e,functionValues:a}},getFrameStrings:function(r){var t=r.message||"",e=r.name||"",a=this.getStackString(r);if(void 0!==a){var n=a.split("\n"),i=0,c=n.length;return this.hasHeader&&(i+=e.split("\n").length+t.split("\n").length-1),this.hasFooter&&(c-=1),n.slice(i,c)}},createError:abstractMethod,getStackString:abstractMethod,hasHeader:void 0,hasFooter:void 0}}),FrameStringSourceCalibrator=Class(Object,{prototype:{calibrateClass:function(r){return this.calibrateMethods(r)&&this.calibrateEnvelope(r)},calibrateMethods:function(r){try{eachCombination([[function(r){return new Error(r)},function(r){try{throw new Error(r)}catch(r){return r}}],[function(r){return r.stack},function(r){return r.stacktrace}]],function(r,t){if(t(r()))throw{getStackString:t,createError:r}})}catch(t){return Class.merge.call(r,{prototype:t}),!0}return!1},calibrateEnvelope:function(r){var t=(0,r.prototype.getStackString)((0,r.prototype.createError)("marker")).split("\n");return Class.merge.call(r,{prototype:{hasHeader:/marker/.test(t[0]),hasFooter:""===t[t.length-1]}}),!0}}});module.exports={getClass:cache(function(){var r;if(r)return r;if(r=Class(AbstractFrameStringSource,{}),!(new FrameStringSourceCalibrator).calibrateClass(r))throw new Error("Cannot read Error.prototype.stack in this environment.");return r}),getInstance:cache(function(){return new(this.getClass())})};

},{"capability":77,"o3":102,"u3":138}],88:[function(require,module,exports){
var FrameStringSource=require("./FrameStringSource"),FrameStringParser=require("./FrameStringParser"),cache=require("u3").cache,prepareStackTrace=require("../prepareStackTrace");module.exports=function(){return Error.captureStackTrace=function r(e,a){var t=[r];a&&t.push(a);var c=FrameStringSource.getInstance().captureFrameStrings(t);Object.defineProperties(e,{stack:{configurable:!0,get:cache(function(){var r=FrameStringParser.getInstance().getFrames(c.frameStrings,c.functionValues);return(Error.prepareStackTrace||prepareStackTrace)(e,r,void 0)})},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})},Error.getStackTrace=function(r){if(r.cachedStack)return r.stack;var e,a=FrameStringSource.getInstance().getFrameStrings(r),t=[];a?t=FrameStringParser.getInstance().getFrames(a,[]):e=["The stack is not readable by unthrown errors in this environment."];var c=(Error.prepareStackTrace||prepareStackTrace)(r,t,e);if(a)try{Object.defineProperties(r,{stack:{configurable:!0,writable:!0,enumerable:!1,value:c},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})}catch(r){}return c},{prepareStackTrace:prepareStackTrace}};

},{"../prepareStackTrace":89,"./FrameStringParser":86,"./FrameStringSource":87,"u3":138}],89:[function(require,module,exports){
var prepareStackTrace=function(r,a,e){var n="";if(n+=r.name||"Error",n+=": "+(r.message||""),e instanceof Array)for(var t in e){n+="\n   # "+e[t]}for(var o in a){n+="\n   at "+a[o].toString()}return n};module.exports=prepareStackTrace;

},{}],90:[function(require,module,exports){
var cache=require("u3").cache,prepareStackTrace=require("./prepareStackTrace");module.exports=function(){return Error.captureStackTrace=function(e,r){Object.defineProperties(e,{stack:{configurable:!0,get:cache(function(){return(Error.prepareStackTrace||prepareStackTrace)(e,[])})},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})},Error.getStackTrace=function(e){if(e.cachedStack)return e.stack;var r=(Error.prepareStackTrace||prepareStackTrace)(e,[]);try{Object.defineProperties(e,{stack:{configurable:!0,writable:!0,enumerable:!1,value:r},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})}catch(e){}return r},{prepareStackTrace:prepareStackTrace}};

},{"./prepareStackTrace":89,"u3":138}],91:[function(require,module,exports){
var prepareStackTrace=require("./prepareStackTrace");module.exports=function(){return Error.getStackTrace=function(r){return r.stack},{prepareStackTrace:prepareStackTrace}};

},{"./prepareStackTrace":89}],92:[function(require,module,exports){
var objectCreate=Object.create||objectCreatePolyfill,objectKeys=Object.keys||objectKeysPolyfill,bind=Function.prototype.bind||functionBindPolyfill;function EventEmitter(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=objectCreate(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0;var hasDefineProperty,defaultMaxListeners=10;try{var o={};Object.defineProperty&&Object.defineProperty(o,"x",{value:0}),hasDefineProperty=0===o.x}catch(e){hasDefineProperty=!1}function $getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function emitNone(e,t,n){if(t)e.call(n);else for(var r=e.length,i=arrayClone(e,r),s=0;s<r;++s)i[s].call(n)}function emitOne(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,s=arrayClone(e,i),o=0;o<i;++o)s[o].call(n,r)}function emitTwo(e,t,n,r,i){if(t)e.call(n,r,i);else for(var s=e.length,o=arrayClone(e,s),a=0;a<s;++a)o[a].call(n,r,i)}function emitThree(e,t,n,r,i,s){if(t)e.call(n,r,i,s);else for(var o=e.length,a=arrayClone(e,o),l=0;l<o;++l)a[l].call(n,r,i,s)}function emitMany(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,s=arrayClone(e,i),o=0;o<i;++o)s[o].apply(n,r)}function _addListener(e,t,n,r){var i,s,o;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((s=e._events)?(s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]):(s=e._events=objectCreate(null),e._eventsCount=0),o){if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=$getMaxListeners(e))&&i>0&&o.length>i){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",a.name,a.message)}}else o=s[t]=n,++e._eventsCount;return e}function onceWrapper(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function _onceWrap(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=bind.call(onceWrapper,r);return i.listener=n,r.wrapFn=i,i}function _listeners(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?unwrapListeners(i):arrayClone(i,i.length):[]}function listenerCount(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function spliceOne(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function arrayClone(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function unwrapListeners(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function objectCreatePolyfill(e){var t=function(){};return t.prototype=e,new t}function objectKeysPolyfill(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n}function functionBindPolyfill(e){var t=this;return function(){return t.apply(e,arguments)}}hasDefineProperty?Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');defaultMaxListeners=e}}):EventEmitter.defaultMaxListeners=defaultMaxListeners,EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function(){return $getMaxListeners(this)},EventEmitter.prototype.emit=function(e){var t,n,r,i,s,o,a="error"===e;if(o=this._events)a=a&&null==o.error;else if(!a)return!1;if(a){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(n=o[e]))return!1;var u="function"==typeof n;switch(r=arguments.length){case 1:emitNone(n,u,this);break;case 2:emitOne(n,u,this,arguments[1]);break;case 3:emitTwo(n,u,this,arguments[1],arguments[2]);break;case 4:emitThree(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),s=1;s<r;s++)i[s-1]=arguments[s];emitMany(n,u,this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,i,s,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=objectCreate(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():spliceOne(n,i),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,o||t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n,r;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=objectCreate(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=objectCreate(null):delete n[e]),this;if(0===arguments.length){var i,s=objectKeys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=objectCreate(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},EventEmitter.prototype.listeners=function(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};

},{}],93:[function(require,module,exports){
"use strict";module.exports=function r(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;var o,n,u;if(Array.isArray(t)){if((o=t.length)!=e.length)return!1;for(n=o;0!=n--;)if(!r(t[n],e[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if((o=(u=Object.keys(t)).length)!==Object.keys(e).length)return!1;for(n=o;0!=n--;)if(!Object.prototype.hasOwnProperty.call(e,u[n]))return!1;for(n=o;0!=n--;){var f=u[n];if(!r(t[f],e[f]))return!1}return!0}return t!=t&&e!=e};

},{}],94:[function(require,module,exports){
"use strict";var deprecate=require("depd")("http-errors"),setPrototypeOf=require("setprototypeof"),statuses=require("statuses"),inherits=require("inherits"),toIdentifier=require("toidentifier");function codeClass(r){return Number(String(r).charAt(0)+"00")}function createError(){for(var r,e,t=500,o={},s=0;s<arguments.length;s++){var a=arguments[s];if(a instanceof Error)t=(r=a).status||r.statusCode||t;else switch(typeof a){case"string":e=a;break;case"number":t=a,0!==s&&deprecate("non-first-argument status code; replace with createError("+a+", ...)");break;case"object":o=a}}"number"==typeof t&&(t<400||t>=600)&&deprecate("non-error status code; use only 4xx or 5xx status codes"),("number"!=typeof t||!statuses[t]&&(t<400||t>=600))&&(t=500);var n=createError[t]||createError[codeClass(t)];for(var u in r||(r=n?new n(e):new Error(e||statuses[t]),Error.captureStackTrace(r,createError)),n&&r instanceof n&&r.status===t||(r.expose=t<500,r.status=r.statusCode=t),o)"status"!==u&&"statusCode"!==u&&(r[u]=o[u]);return r}function createHttpErrorConstructor(){function r(){throw new TypeError("cannot construct abstract class")}return inherits(r,Error),r}function createClientErrorConstructor(r,e,t){var o=toClassName(e);function s(r){var e=null!=r?r:statuses[t],a=new Error(e);return Error.captureStackTrace(a,s),setPrototypeOf(a,s.prototype),Object.defineProperty(a,"message",{enumerable:!0,configurable:!0,value:e,writable:!0}),Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,value:o,writable:!0}),a}return inherits(s,r),nameFunc(s,o),s.prototype.status=t,s.prototype.statusCode=t,s.prototype.expose=!0,s}function createIsHttpErrorFunction(r){return function(e){return!(!e||"object"!=typeof e)&&(e instanceof r||e instanceof Error&&"boolean"==typeof e.expose&&"number"==typeof e.statusCode&&e.status===e.statusCode)}}function createServerErrorConstructor(r,e,t){var o=toClassName(e);function s(r){var e=null!=r?r:statuses[t],a=new Error(e);return Error.captureStackTrace(a,s),setPrototypeOf(a,s.prototype),Object.defineProperty(a,"message",{enumerable:!0,configurable:!0,value:e,writable:!0}),Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,value:o,writable:!0}),a}return inherits(s,r),nameFunc(s,o),s.prototype.status=t,s.prototype.statusCode=t,s.prototype.expose=!1,s}function nameFunc(r,e){var t=Object.getOwnPropertyDescriptor(r,"name");t&&t.configurable&&(t.value=e,Object.defineProperty(r,"name",t))}function populateConstructorExports(r,e,t){e.forEach(function(e){var o,s=toIdentifier(statuses[e]);switch(codeClass(e)){case 400:o=createClientErrorConstructor(t,s,e);break;case 500:o=createServerErrorConstructor(t,s,e)}o&&(r[e]=o,r[s]=o)}),r["I'mateapot"]=deprecate.function(r.ImATeapot,'"I\'mateapot"; use "ImATeapot" instead')}function toClassName(r){return"Error"!==r.substr(-5)?r+"Error":r}module.exports=createError,module.exports.HttpError=createHttpErrorConstructor(),module.exports.isHttpError=createIsHttpErrorFunction(module.exports.HttpError),populateConstructorExports(module.exports,statuses.codes,module.exports.HttpError);

},{"depd":81,"inherits":97,"setprototypeof":127,"statuses":129,"toidentifier":136}],95:[function(require,module,exports){
var http=require("http"),url=require("url"),https=module.exports;for(var key in http)http.hasOwnProperty(key)&&(https[key]=http[key]);function validateParams(t){if("string"==typeof t&&(t=url.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}https.request=function(t,r){return t=validateParams(t),http.request.call(this,t,r)},https.get=function(t,r){return t=validateParams(t),http.get.call(this,t,r)};

},{"http":130,"url":143}],96:[function(require,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};

},{}],97:[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(t,e){if(e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t}};

},{}],98:[function(require,module,exports){
(function (process,global){(function (){
!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,h){return function(r){return new Sha256(h,!0).update(r)[t]()}},createMethod=function(t){var h=createOutputMethod("hex",t);NODE_JS&&(h=nodeWrap(h,t)),h.create=function(){return new Sha256(t)},h.update=function(t){return h.create().update(t)};for(var r=0;r<OUTPUT_TYPES.length;++r){var e=OUTPUT_TYPES[r];h[e]=createOutputMethod(e,t)}return h},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null==t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,h){return function(r,e){return new HmacSha256(r,h,!0).update(e)[t]()}},createHmacMethod=function(t){var h=createHmacOutputMethod("hex",t);h.create=function(h){return new HmacSha256(h,t)},h.update=function(t,r){return h.create(t).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var e=OUTPUT_TYPES[r];h[e]=createHmacOutputMethod(e,t)}return h};function Sha256(t,h){h?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,h,r){var e,s=typeof t;if("string"===s){var i,o=[],a=t.length,H=0;for(e=0;e<a;++e)(i=t.charCodeAt(e))<128?o[H++]=i:i<2048?(o[H++]=192|i>>6,o[H++]=128|63&i):i<55296||i>=57344?(o[H++]=224|i>>12,o[H++]=128|i>>6&63,o[H++]=128|63&i):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++e)),o[H++]=240|i>>18,o[H++]=128|i>>12&63,o[H++]=128|i>>6&63,o[H++]=128|63&i);t=o}else{if("object"!==s)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(h,!0).update(t).array());var n=[],S=[];for(e=0;e<64;++e){var c=t[e]||0;n[e]=92^c,S[e]=54^c}Sha256.call(this,h,r),this.update(S),this.oKeyPad=n,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(t){if(!this.finalized){var h,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);h=!0}for(var e,s,i=0,o=t.length,a=this.blocks;i<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),h)for(s=this.start;i<o&&s<64;++i)a[s>>2]|=t[i]<<SHIFT[3&s++];else for(s=this.start;i<o&&s<64;++i)(e=t.charCodeAt(i))<128?a[s>>2]|=e<<SHIFT[3&s++]:e<2048?(a[s>>2]|=(192|e>>6)<<SHIFT[3&s++],a[s>>2]|=(128|63&e)<<SHIFT[3&s++]):e<55296||e>=57344?(a[s>>2]|=(224|e>>12)<<SHIFT[3&s++],a[s>>2]|=(128|e>>6&63)<<SHIFT[3&s++],a[s>>2]|=(128|63&e)<<SHIFT[3&s++]):(e=65536+((1023&e)<<10|1023&t.charCodeAt(++i)),a[s>>2]|=(240|e>>18)<<SHIFT[3&s++],a[s>>2]|=(128|e>>12&63)<<SHIFT[3&s++],a[s>>2]|=(128|e>>6&63)<<SHIFT[3&s++],a[s>>2]|=(128|63&e)<<SHIFT[3&s++]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=a[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,h=this.lastByteIndex;t[16]=this.block,t[h>>2]|=EXTRA[3&h],this.block=t[16],h>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,h,r,e,s,i,o,a,H,n=this.h0,S=this.h1,c=this.h2,f=this.h3,A=this.h4,R=this.h5,u=this.h6,_=this.h7,E=this.blocks;for(t=16;t<64;++t)h=((s=E[t-15])>>>7|s<<25)^(s>>>18|s<<14)^s>>>3,r=((s=E[t-2])>>>17|s<<15)^(s>>>19|s<<13)^s>>>10,E[t]=E[t-16]+h+E[t-7]+r<<0;for(H=S&c,t=0;t<64;t+=4)this.first?(this.is224?(i=300032,_=(s=E[0]-1413257819)-150054599<<0,f=s+24177077<<0):(i=704751109,_=(s=E[0]-210244248)-1521486534<<0,f=s+143694565<<0),this.first=!1):(h=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),e=(i=n&S)^n&c^H,_=f+(s=_+(r=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7))+(A&R^~A&u)+K[t]+E[t])<<0,f=s+(h+e)<<0),h=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),e=(o=f&n)^f&S^i,u=c+(s=u+(r=(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7))+(_&A^~_&R)+K[t+1]+E[t+1])<<0,h=((c=s+(h+e)<<0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),e=(a=c&f)^c&n^o,R=S+(s=R+(r=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&_^~u&A)+K[t+2]+E[t+2])<<0,h=((S=s+(h+e)<<0)>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10),e=(H=S&c)^S&f^a,A=n+(s=A+(r=(R>>>6|R<<26)^(R>>>11|R<<21)^(R>>>25|R<<7))+(R&u^~R&_)+K[t+3]+E[t+3])<<0,n=s+(h+e)<<0;this.h0=this.h0+n<<0,this.h1=this.h1+S<<0,this.h2=this.h2+c<<0,this.h3=this.h3+f<<0,this.h4=this.h4+A<<0,this.h5=this.h5+R<<0,this.h6=this.h6+u<<0,this.h7=this.h7+_<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,h=this.h1,r=this.h2,e=this.h3,s=this.h4,i=this.h5,o=this.h6,a=this.h7,H=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[h>>28&15]+HEX_CHARS[h>>24&15]+HEX_CHARS[h>>20&15]+HEX_CHARS[h>>16&15]+HEX_CHARS[h>>12&15]+HEX_CHARS[h>>8&15]+HEX_CHARS[h>>4&15]+HEX_CHARS[15&h]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o];return this.is224||(H+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),H},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,h=this.h1,r=this.h2,e=this.h3,s=this.h4,i=this.h5,o=this.h6,a=this.h7,H=[t>>24&255,t>>16&255,t>>8&255,255&t,h>>24&255,h>>16&255,h>>8&255,255&h,r>>24&255,r>>16&255,r>>8&255,255&r,e>>24&255,e>>16&255,e>>8&255,255&e,s>>24&255,s>>16&255,s>>8&255,255&s,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o];return this.is224||H.push(a>>24&255,a>>16&255,a>>8&255,255&a),H},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),h=new DataView(t);return h.setUint32(0,this.h0),h.setUint32(4,this.h1),h.setUint32(8,this.h2),h.setUint32(12,this.h3),h.setUint32(16,this.h4),h.setUint32(20,this.h5),h.setUint32(24,this.h6),this.is224||h.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define(function(){return exports}))}();

}).call(this)}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"_process":106}],99:[function(require,module,exports){
"use strict";var traverse=module.exports=function(e,r,t){"function"==typeof r&&(t=r,r={}),_traverse(r,"function"==typeof(t=r.cb||t)?t:t.pre||function(){},t.post||function(){},e,"",e)};function _traverse(e,r,t,s,i,a,n,o,p,f){if(s&&"object"==typeof s&&!Array.isArray(s)){for(var m in r(s,i,a,n,o,p,f),s){var u=s[m];if(Array.isArray(u)){if(m in traverse.arrayKeywords)for(var v=0;v<u.length;v++)_traverse(e,r,t,u[v],i+"/"+m+"/"+v,a,i,m,s,v)}else if(m in traverse.propsKeywords){if(u&&"object"==typeof u)for(var y in u)_traverse(e,r,t,u[y],i+"/"+m+"/"+escapeJsonPtr(y),a,i,m,s,y)}else(m in traverse.keywords||e.allKeys&&!(m in traverse.skipKeywords))&&_traverse(e,r,t,u,i+"/"+m,a,i,m,s)}t(s,i,a,n,o,p,f)}}function escapeJsonPtr(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}traverse.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},traverse.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},traverse.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},traverse.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};

},{}],100:[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Mustache=t()}(this,function(){"use strict";var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function n(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}var o=RegExp.prototype.test;var a=/\S/;function s(e){return!function(e,t){return o.call(e,t)}(a,e)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var p=/\s*/,u=/\s+/,l=/\s*=/,h=/\s*\}/,f=/#|\^|\/|>|\{|&|=|!/;function g(e){this.string=e,this.tail=e,this.pos=0}function d(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}g.prototype.eos=function(){return""===this.tail},g.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},g.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},d.prototype.push=function(e){return new d(e,this)},d.prototype.lookup=function(e){var t,r,o,a=this.cache;if(a.hasOwnProperty(e))t=a[e];else{for(var s,c,p,u=this,l=!1;u;){if(e.indexOf(".")>0)for(s=u.view,c=e.split("."),p=0;null!=s&&p<c.length;)p===c.length-1&&(l=i(s,c[p])||(r=s,o=c[p],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(o))),s=s[c[p++]];else s=u.view[e],l=i(u.view,e);if(l){t=s;break}u=u.parent}a[e]=t}return n(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},v.prototype.parse=function(e,n){var i=this.templateCache,o=e+":"+(n||y.tags).join(":"),a=void 0!==i,c=a?i.get(o):void 0;return null==c&&(c=function(e,n){if(!e)return[];var i,o,a,c=!1,d=[],v=[],w=[],m=!1,b=!1,C="",k=0;function x(){if(m&&!b)for(;w.length;)delete v[w.pop()];else w=[];m=!1,b=!1}function E(e){if("string"==typeof e&&(e=e.split(u,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(r(e[0])+"\\s*"),o=new RegExp("\\s*"+r(e[1])),a=new RegExp("\\s*"+r("}"+e[1]))}E(n||y.tags);for(var T,j,U,S,P,V,O=new g(e);!O.eos();){if(T=O.pos,U=O.scanUntil(i))for(var A=0,I=U.length;A<I;++A)s(S=U.charAt(A))?(w.push(v.length),C+=S):(b=!0,c=!0,C+=" "),v.push(["text",S,T,T+1]),T+=1,"\n"===S&&(x(),C="",k=0,c=!1);if(!O.scan(i))break;if(m=!0,j=O.scan(f)||"name",O.scan(p),"="===j?(U=O.scanUntil(l),O.scan(l),O.scanUntil(o)):"{"===j?(U=O.scanUntil(a),O.scan(h),O.scanUntil(o),j="&"):U=O.scanUntil(o),!O.scan(o))throw new Error("Unclosed tag at "+O.pos);if(P=">"==j?[j,U,T,O.pos,C,k,c]:[j,U,T,O.pos],k++,v.push(P),"#"===j||"^"===j)d.push(P);else if("/"===j){if(!(V=d.pop()))throw new Error('Unopened section "'+U+'" at '+T);if(V[1]!==U)throw new Error('Unclosed section "'+V[1]+'" at '+T)}else"name"===j||"{"===j||"&"===j?b=!0:"="===j&&E(U)}if(x(),V=d.pop())throw new Error('Unclosed section "'+V[1]+'" at '+O.pos);return function(e){for(var t,n=[],r=n,i=[],o=0,a=e.length;o<a;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),i.push(t),r=t[4]=[];break;case"/":i.pop()[5]=t[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(v))}(e,n),a&&i.set(o,c)),c},v.prototype.render=function(e,t,n,r){var i=this.getConfigTags(r),o=this.parse(e,i),a=t instanceof d?t:new d(t,void 0);return this.renderTokens(o,a,n,e,r)},v.prototype.renderTokens=function(e,t,n,r,i){for(var o,a,s,c="",p=0,u=e.length;p<u;++p)s=void 0,"#"===(a=(o=e[p])[0])?s=this.renderSection(o,t,n,r,i):"^"===a?s=this.renderInverted(o,t,n,r,i):">"===a?s=this.renderPartial(o,t,n,i):"&"===a?s=this.unescapedValue(o,t):"name"===a?s=this.escapedValue(o,t,i):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(c+=s);return c},v.prototype.renderSection=function(e,r,i,o,a){var s=this,c="",p=r.lookup(e[1]);if(p){if(t(p))for(var u=0,l=p.length;u<l;++u)c+=this.renderTokens(e[4],r.push(p[u]),i,o,a);else if("object"==typeof p||"string"==typeof p||"number"==typeof p)c+=this.renderTokens(e[4],r.push(p),i,o,a);else if(n(p)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(p=p.call(r.view,o.slice(e[3],e[5]),function(e){return s.render(e,r,i,a)}))&&(c+=p)}else c+=this.renderTokens(e[4],r,i,o,a);return c}},v.prototype.renderInverted=function(e,n,r,i,o){var a=n.lookup(e[1]);if(!a||t(a)&&0===a.length)return this.renderTokens(e[4],n,r,i,o)},v.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),i=e.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!n)&&(i[o]=r+i[o]);return i.join("\n")},v.prototype.renderPartial=function(e,t,r,i){if(r){var o=this.getConfigTags(i),a=n(r)?r(e[1]):r[e[1]];if(null!=a){var s=e[6],c=e[5],p=e[4],u=a;0==c&&p&&(u=this.indentPartial(a,p,s));var l=this.parse(u,o);return this.renderTokens(l,t,r,u,i)}}},v.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},v.prototype.escapedValue=function(e,t,n){var r=this.getConfigEscape(n)||y.escape,i=t.lookup(e[1]);if(null!=i)return"number"==typeof i&&r===y.escape?String(i):r(i)},v.prototype.rawValue=function(e){return e[1]},v.prototype.getConfigTags=function(e){return t(e)?e:e&&"object"==typeof e?e.tags:void 0},v.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!t(e)?e.escape:void 0};var y={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){w.templateCache=e},get templateCache(){return w.templateCache}},w=new v;return y.clearCache=function(){return w.clearCache()},y.parse=function(e,t){return w.parse(e,t)},y.render=function(e,n,r,i){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(t(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return w.render(e,n,r,i)},y.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return c[e]})},y.Scanner=g,y.Context=d,y.Writer=v,y});

},{}],101:[function(require,module,exports){
"use strict";var AbiFunctionKind,AbiFunctionModifier,AbiSerializationType;Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbiSerializationType=exports.AbiFunctionModifier=exports.AbiFunctionKind=exports.SCHEMA_VERSION=void 0,exports.SCHEMA_VERSION="0.3.0",function(i){i.View="view",i.Call="call"}(AbiFunctionKind=exports.AbiFunctionKind||(exports.AbiFunctionKind={})),function(i){i.Init="init",i.Private="private",i.Payable="payable"}(AbiFunctionModifier=exports.AbiFunctionModifier||(exports.AbiFunctionModifier={})),function(i){i.Json="json",i.Borsh="borsh"}(AbiSerializationType=exports.AbiSerializationType||(exports.AbiSerializationType={}));

},{}],102:[function(require,module,exports){
require("capability/es5"),module.exports=require("./lib");

},{"./lib":105,"capability/es5":76}],103:[function(require,module,exports){
var Class=function(){var t=Object.create({Source:Object,config:{},buildArgs:[]});function o(o){var r="config";if(o instanceof Function)r="Source";else if(o instanceof Array)r="buildArgs";else{if(!(o instanceof Object))throw new Error("Invalid configuration option.");r="config"}if(t.hasOwnProperty(r))throw new Error("Duplicated configuration option: "+r+".");t[r]=o}for(var r=0,e=arguments.length;r<e;++r)o(arguments[r]);var n=t.Source,s=t.config,i=t.buildArgs;return(n.extend||Class.extend).call(n,s,i)};Class.factory=function(){return function(){this.build instanceof Function&&this.build.apply(this,arguments),this.init instanceof Function&&this.init.apply(this,arguments)}},Class.extend=function(t,o){var r;return t||(t={}),t.prototype instanceof Object&&t.prototype.constructor!==Object?r=t.prototype.constructor:t.factory instanceof Function&&(r=t.factory.call(this)),((r=(this.clone||Class.clone).call(this,r,o)).merge||Class.merge).call(r,t),r},Class.prototype.extend=function(t,o){var r=(this.clone||Class.prototype.clone).apply(this,o);return(r.merge||Class.prototype.merge).call(r,t),r},Class.clone=function(t,o){for(var r in t instanceof Function||(t=(this.factory||Class.factory).call(this)),t.prototype=(this.prototype.clone||Class.prototype.clone).apply(this.prototype,o||[]),t.prototype.constructor=t,this)"prototype"!==r&&(t[r]=this[r]);return t},Class.prototype.clone=function(){var t=Object.create(this);return t.build instanceof Function&&t.build.apply(t,arguments),t},Class.merge=function(t){for(var o in t)"prototype"!==o&&(this[o]=t[o]);return t.prototype instanceof Object&&(this.prototype.merge||Class.prototype.merge).call(this.prototype,t.prototype),this},Class.prototype.merge=function(t){for(var o in t)"constructor"!==o&&(this[o]=t[o]);return this},Class.absorb=function(t){for(var o in t)"prototype"===o||void 0!==this[o]&&this[o]!==Function.prototype[o]||(this[o]=t[o]);return t.prototype instanceof Object&&(this.prototype.absorb||Class.prototype.absorb).call(this.prototype,t.prototype),this},Class.prototype.absorb=function(t){for(var o in t)"constructor"===o||void 0!==this[o]&&this[o]!==Object.prototype[o]||(this[o]=t[o]);return this},Class.getAncestor=function(){if(this!==this.prototype.constructor)return this.prototype.constructor},Class.newInstance=function(){var t=Object.create(this.prototype);return this.apply(t,arguments),t},module.exports=Class;

},{}],104:[function(require,module,exports){
module.exports=function(){throw new Error("Not implemented.")};

},{}],105:[function(require,module,exports){
module.exports={Class:require("./Class"),abstractMethod:require("./abstractMethod")};

},{"./Class":103,"./abstractMethod":104}],106:[function(require,module,exports){
var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],107:[function(require,module,exports){
(function (global){(function (){
!function(e){var o="object"==typeof exports&&exports&&!exports.nodeType&&exports,n="object"==typeof module&&module&&!module.nodeType&&module,t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var r,u,i=2147483647,f=36,c=1,l=26,s=38,d=700,p=72,a=128,h="-",v=/^xn--/,g=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=f-c,y=Math.floor,C=String.fromCharCode;function m(e){throw new RangeError(x[e])}function j(e,o){for(var n=e.length,t=[];n--;)t[n]=o(e[n]);return t}function A(e,o){var n=e.split("@"),t="";return n.length>1&&(t=n[0]+"@",e=n[1]),t+j((e=e.replace(w,".")).split("."),o).join(".")}function I(e){for(var o,n,t=[],r=0,u=e.length;r<u;)(o=e.charCodeAt(r++))>=55296&&o<=56319&&r<u?56320==(64512&(n=e.charCodeAt(r++)))?t.push(((1023&o)<<10)+(1023&n)+65536):(t.push(o),r--):t.push(o);return t}function E(e){return j(e,function(e){var o="";return e>65535&&(o+=C((e-=65536)>>>10&1023|55296),e=56320|1023&e),o+=C(e)}).join("")}function F(e,o){return e+22+75*(e<26)-((0!=o)<<5)}function O(e,o,n){var t=0;for(e=n?y(e/d):e>>1,e+=y(e/o);e>b*l>>1;t+=f)e=y(e/b);return y(t+(b+1)*e/(e+s))}function S(e){var o,n,t,r,u,s,d,v,g,w,x,b=[],C=e.length,j=0,A=a,I=p;for((n=e.lastIndexOf(h))<0&&(n=0),t=0;t<n;++t)e.charCodeAt(t)>=128&&m("not-basic"),b.push(e.charCodeAt(t));for(r=n>0?n+1:0;r<C;){for(u=j,s=1,d=f;r>=C&&m("invalid-input"),((v=(x=e.charCodeAt(r++))-48<10?x-22:x-65<26?x-65:x-97<26?x-97:f)>=f||v>y((i-j)/s))&&m("overflow"),j+=v*s,!(v<(g=d<=I?c:d>=I+l?l:d-I));d+=f)s>y(i/(w=f-g))&&m("overflow"),s*=w;I=O(j-u,o=b.length+1,0==u),y(j/o)>i-A&&m("overflow"),A+=y(j/o),j%=o,b.splice(j++,0,A)}return E(b)}function T(e){var o,n,t,r,u,s,d,v,g,w,x,b,j,A,E,S=[];for(b=(e=I(e)).length,o=a,n=0,u=p,s=0;s<b;++s)(x=e[s])<128&&S.push(C(x));for(t=r=S.length,r&&S.push(h);t<b;){for(d=i,s=0;s<b;++s)(x=e[s])>=o&&x<d&&(d=x);for(d-o>y((i-n)/(j=t+1))&&m("overflow"),n+=(d-o)*j,o=d,s=0;s<b;++s)if((x=e[s])<o&&++n>i&&m("overflow"),x==o){for(v=n,g=f;!(v<(w=g<=u?c:g>=u+l?l:g-u));g+=f)E=v-w,A=f-w,S.push(C(F(w+E%A,0))),v=y(E/A);S.push(C(F(v,0))),u=O(n,j,t==r),n=0,++t}++n,++o}return S.join("")}if(r={version:"1.4.1",ucs2:{decode:I,encode:E},decode:S,encode:T,toASCII:function(e){return A(e,function(e){return g.test(e)?"xn--"+T(e):e})},toUnicode:function(e){return A(e,function(e){return v.test(e)?S(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return r});else if(o&&n)if(module.exports==o)n.exports=r;else for(u in r)r.hasOwnProperty(u)&&(o[u]=r[u]);else e.punycode=r}(this);

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],108:[function(require,module,exports){
"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;y<p;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};

},{}],109:[function(require,module,exports){
"use strict";var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};

},{}],110:[function(require,module,exports){
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");

},{"./decode":108,"./encode":109}],111:[function(require,module,exports){
"use strict";function _inheritsLoose(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r}var codes={};function createErrorType(e,r,t){t||(t=Error);var n=function(e){function t(t,n,o){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,o))||this}return _inheritsLoose(t,e),t}(t);n.prototype.name=t.name,n.prototype.code=e,codes[e]=n}function oneOf(e,r){if(Array.isArray(e)){var t=e.length;return e=e.map(function(e){return String(e)}),t>2?"one of ".concat(r," ").concat(e.slice(0,t-1).join(", "),", or ")+e[t-1]:2===t?"one of ".concat(r," ").concat(e[0]," or ").concat(e[1]):"of ".concat(r," ").concat(e[0])}return"of ".concat(r," ").concat(String(e))}function startsWith(e,r,t){return e.substr(!t||t<0?0:+t,r.length)===r}function endsWith(e,r,t){return(void 0===t||t>e.length)&&(t=e.length),e.substring(t-r.length,t)===r}function includes(e,r,t){return"number"!=typeof t&&(t=0),!(t+r.length>e.length)&&-1!==e.indexOf(r,t)}createErrorType("ERR_INVALID_OPT_VALUE",function(e,r){return'The value "'+r+'" is invalid for option "'+e+'"'},TypeError),createErrorType("ERR_INVALID_ARG_TYPE",function(e,r,t){var n,o;if("string"==typeof r&&startsWith(r,"not ")?(n="must not be",r=r.replace(/^not /,"")):n="must be",endsWith(e," argument"))o="The ".concat(e," ").concat(n," ").concat(oneOf(r,"type"));else{var c=includes(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(c," ").concat(n," ").concat(oneOf(r,"type"))}return o+=". Received type ".concat(typeof t)},TypeError),createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),module.exports.codes=codes;

},{}],112:[function(require,module,exports){
(function (process){(function (){
"use strict";var objectKeys=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=Duplex;var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");require("inherits")(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);Readable.call(this,e),Writable.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",onend)))}function onend(){this._writableState.ended||process.nextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});

}).call(this)}).call(this,require('_process'))
},{"./_stream_readable":114,"./_stream_writable":116,"_process":106,"inherits":97}],113:[function(require,module,exports){
"use strict";module.exports=PassThrough;var Transform=require("./_stream_transform");function PassThrough(r){if(!(this instanceof PassThrough))return new PassThrough(r);Transform.call(this,r)}require("inherits")(PassThrough,Transform),PassThrough.prototype._transform=function(r,s,o){o(null,r)};

},{"./_stream_transform":115,"inherits":97}],114:[function(require,module,exports){
(function (process,global){(function (){
"use strict";var Duplex;module.exports=Readable,Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter,EElistenerCount=function(e,t){return e.listeners(t).length},Stream=require("./internal/streams/stream"),Buffer=require("buffer").Buffer,OurUint8Array=global.Uint8Array||function(){};function _uint8ArrayToBuffer(e){return Buffer.from(e)}function _isUint8Array(e){return Buffer.isBuffer(e)||e instanceof OurUint8Array}var debug,debugUtil=require("util");debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder,createReadableStreamAsyncIterator,from,BufferList=require("./internal/streams/buffer_list"),destroyImpl=require("./internal/streams/destroy"),_require=require("./internal/streams/state"),getHighWaterMark=_require.getHighWaterMark,_require$codes=require("../errors").codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;require("inherits")(Readable,Stream);var errorOrDestroy=destroyImpl.errorOrDestroy,kProxyEvents=["error","close","destroy","pause","resume"];function prependListener(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function ReadableState(e,t,r){Duplex=Duplex||require("./_stream_duplex"),e=e||{},"boolean"!=typeof r&&(r=t instanceof Duplex),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=getHighWaterMark(this,e,"readableHighWaterMark",r),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){if(Duplex=Duplex||require("./_stream_duplex"),!(this instanceof Readable))return new Readable(e);var t=this instanceof Duplex;this._readableState=new ReadableState(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),Stream.call(this)}function readableAddChunk(e,t,r,a,n){debug("readableAddChunk",t);var i,d=e._readableState;if(null===t)d.reading=!1,onEofChunk(e,d);else if(n||(i=chunkInvalid(d,t)),i)errorOrDestroy(e,i);else if(d.objectMode||t&&t.length>0)if("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===Buffer.prototype||(t=_uint8ArrayToBuffer(t)),a)d.endEmitted?errorOrDestroy(e,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT):addChunk(e,d,t,!0);else if(d.ended)errorOrDestroy(e,new ERR_STREAM_PUSH_AFTER_EOF);else{if(d.destroyed)return!1;d.reading=!1,d.decoder&&!r?(t=d.decoder.write(t),d.objectMode||0!==t.length?addChunk(e,d,t,!1):maybeReadMore(e,d)):addChunk(e,d,t,!1)}else a||(d.reading=!1,maybeReadMore(e,d));return!d.ended&&(d.length<d.highWaterMark||0===d.length)}function addChunk(e,t,r,a){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,a?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}function chunkInvalid(e,t){var r;return _isUint8Array(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],t)),r}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(e,t){t(e)},Readable.prototype.push=function(e,t){var r,a=this._readableState;return a.objectMode?r=!0:"string"==typeof e&&((t=t||a.defaultEncoding)!==a.encoding&&(e=Buffer.from(e,t),t=""),r=!0),readableAddChunk(this,e,t,!1,r)},Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder);var t=new StringDecoder(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,a="";null!==r;)a+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==a&&this._readableState.buffer.push(a),this._readableState.length=a.length,this};var MAX_HWM=1073741824;function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function onEofChunk(e,t){if(debug("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?emitReadable(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,emitReadable_(e)))}}function emitReadable(e){var t=e._readableState;debug("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(emitReadable_,e))}function emitReadable_(e){var t=e._readableState;debug("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(debug("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EElistenerCount(e,"data")&&(t.flowing=!0,flow(e))}}function updateReadableListening(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(resume_,e,t))}function resume_(e,t){debug("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(debug("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function endReadable(e){var t=e._readableState;debug("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(endReadableNT,t,e))}function endReadableNT(e,t){if(debug("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function indexOf(e,t){for(var r=0,a=e.length;r<a;r++)if(e[r]===t)return r;return-1}Readable.prototype.read=function(e){debug("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var a,n=t.needReadable;return debug("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&debug("length less than watermark",n=!0),t.ended||t.reading?debug("reading or ended",n=!1):n&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t))),null===(a=e>0?fromList(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),null!==a&&this.emit("data",a),a},Readable.prototype._read=function(e){errorOrDestroy(this,new ERR_METHOD_NOT_IMPLEMENTED("_read()"))},Readable.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,debug("pipe count=%d opts=%j",a.pipesCount,t);var n=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?d:f;function i(t,n){debug("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,debug("cleanup"),e.removeListener("close",b),e.removeListener("finish",p),e.removeListener("drain",o),e.removeListener("error",u),e.removeListener("unpipe",i),r.removeListener("end",d),r.removeListener("end",f),r.removeListener("data",l),s=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||o())}function d(){debug("onend"),e.end()}a.endEmitted?process.nextTick(n):r.once("end",n),e.on("unpipe",i);var o=pipeOnDrain(r);e.on("drain",o);var s=!1;function l(t){debug("ondata");var n=e.write(t);debug("dest.write",n),!1===n&&((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==indexOf(a.pipes,e))&&!s&&(debug("false write response, pause",a.awaitDrain),a.awaitDrain++),r.pause())}function u(t){debug("onerror",t),f(),e.removeListener("error",u),0===EElistenerCount(e,"error")&&errorOrDestroy(e,t)}function b(){e.removeListener("finish",p),f()}function p(){debug("onfinish"),e.removeListener("close",b),f()}function f(){debug("unpipe"),r.unpipe(e)}return r.on("data",l),prependListener(e,"error",u),e.once("close",b),e.once("finish",p),e.emit("pipe",r),a.flowing||(debug("pipe resume"),r.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var a=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)a[i].emit("unpipe",this,{hasUnpiped:!1});return this}var d=indexOf(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},Readable.prototype.on=function(e,t){var r=Stream.prototype.on.call(this,e,t),a=this._readableState;return"data"===e?(a.readableListening=this.listenerCount("readable")>0,!1!==a.flowing&&this.resume()):"readable"===e&&(a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.flowing=!1,a.emittedReadable=!1,debug("on readable",a.length,a.reading),a.length?emitReadable(this):a.reading||process.nextTick(nReadingNextTick,this))),r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(e,t){var r=Stream.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(updateReadableListening,this),r},Readable.prototype.removeAllListeners=function(e){var t=Stream.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(updateReadableListening,this),t},Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!e.readableListening,resume(this,e)),e.paused=!1,this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Readable.prototype.wrap=function(e){var t=this,r=this._readableState,a=!1;for(var n in e.on("end",function(){if(debug("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(n){(debug("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n)||(r.objectMode||n&&n.length)&&(t.push(n)||(a=!0,e.pause()))}),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var i=0;i<kProxyEvents.length;i++)e.on(kProxyEvents[i],this.emit.bind(this,kProxyEvents[i]));return this._read=function(t){debug("wrapped _read",t),a&&(a=!1,e.resume())},this},"function"==typeof Symbol&&(Readable.prototype[Symbol.asyncIterator]=function(){return void 0===createReadableStreamAsyncIterator&&(createReadableStreamAsyncIterator=require("./internal/streams/async_iterator")),createReadableStreamAsyncIterator(this)}),Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),Readable._fromList=fromList,Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(Readable.from=function(e,t){return void 0===from&&(from=require("./internal/streams/from")),from(Readable,e,t)});

}).call(this)}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../errors":111,"./_stream_duplex":112,"./internal/streams/async_iterator":117,"./internal/streams/buffer_list":118,"./internal/streams/destroy":119,"./internal/streams/from":121,"./internal/streams/state":123,"./internal/streams/stream":124,"_process":106,"buffer":74,"events":92,"inherits":97,"string_decoder/":134,"util":71}],115:[function(require,module,exports){
"use strict";module.exports=Transform;var _require$codes=require("../errors").codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require("./_stream_duplex");function afterTransform(r,e){var t=this._transformState;t.transforming=!1;var n=t.writecb;if(null===n)return this.emit("error",new ERR_MULTIPLE_CALLBACK);t.writechunk=null,t.writecb=null,null!=e&&this.push(e),n(r);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Transform(r){if(!(this instanceof Transform))return new Transform(r);Duplex.call(this,r),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.on("prefinish",prefinish)}function prefinish(){var r=this;"function"!=typeof this._flush||this._readableState.destroyed?done(this,null,null):this._flush(function(e,t){done(r,e,t)})}function done(r,e,t){if(e)return r.emit("error",e);if(null!=t&&r.push(t),r._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(r._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return r.push(null)}require("inherits")(Transform,Duplex),Transform.prototype.push=function(r,e){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,r,e)},Transform.prototype._transform=function(r,e,t){t(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))},Transform.prototype._write=function(r,e,t){var n=this._transformState;if(n.writecb=t,n.writechunk=r,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(r){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},Transform.prototype._destroy=function(r,e){Duplex.prototype._destroy.call(this,r,function(r){e(r)})};

},{"../errors":111,"./_stream_duplex":112,"inherits":97}],116:[function(require,module,exports){
(function (process,global){(function (){
"use strict";function WriteReq(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(t,e)}}var Duplex;module.exports=Writable,Writable.WritableState=WritableState;var internalUtil={deprecate:require("util-deprecate")},Stream=require("./internal/streams/stream"),Buffer=require("buffer").Buffer,OurUint8Array=global.Uint8Array||function(){};function _uint8ArrayToBuffer(e){return Buffer.from(e)}function _isUint8Array(e){return Buffer.isBuffer(e)||e instanceof OurUint8Array}var realHasInstance,destroyImpl=require("./internal/streams/destroy"),_require=require("./internal/streams/state"),getHighWaterMark=_require.getHighWaterMark,_require$codes=require("../errors").codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes.ERR_UNKNOWN_ENCODING,errorOrDestroy=destroyImpl.errorOrDestroy;function nop(){}function WritableState(e,t,r){Duplex=Duplex||require("./_stream_duplex"),e=e||{},"boolean"!=typeof r&&(r=t instanceof Duplex),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=getHighWaterMark(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){var t=this instanceof(Duplex=Duplex||require("./_stream_duplex"));if(!t&&!realHasInstance.call(Writable,this))return new Writable(e);this._writableState=new WritableState(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),Stream.call(this)}function writeAfterEnd(e,t){var r=new ERR_STREAM_WRITE_AFTER_END;errorOrDestroy(e,r),process.nextTick(t,r)}function validChunk(e,t,r,i){var n;return null===r?n=new ERR_STREAM_NULL_VALUES:"string"==typeof r||t.objectMode||(n=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer"],r)),!n||(errorOrDestroy(e,n),process.nextTick(i,n),!1)}function decodeChunk(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Buffer.from(t,r)),t}function writeOrBuffer(e,t,r,i,n,o){if(!r){var s=decodeChunk(t,i,n);i!==s&&(r=!0,n="buffer",i=s)}var a=t.objectMode?1:i.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,a,i,n,o);return u}function doWrite(e,t,r,i,n,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new ERR_STREAM_DESTROYED("write")):r?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function onwriteError(e,t,r,i,n){--t.pendingcb,r?(process.nextTick(n,i),process.nextTick(finishMaybe,e,t),e._writableState.errorEmitted=!0,errorOrDestroy(e,i)):(n(i),e._writableState.errorEmitted=!0,errorOrDestroy(e,i),finishMaybe(e,t))}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if("function"!=typeof n)throw new ERR_MULTIPLE_CALLBACK;if(onwriteStateUpdate(r),t)onwriteError(e,r,i,t,n);else{var o=needFinish(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),i?process.nextTick(afterWrite,e,r,o,n):afterWrite(e,r,o,n)}}function afterWrite(e,t,r,i){r||onwriteDrain(e,t),t.pendingcb--,i(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)n[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;n.allBuffers=a,doWrite(e,t,!0,t.length,n,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new CorkedRequest(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,f=r.encoding,l=r.callback;if(doWrite(e,t,!1,t.objectMode?1:u.length,u,f,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function callFinal(e,t){e._final(function(r){t.pendingcb--,r&&errorOrDestroy(e,r),t.prefinished=!0,e.emit("prefinish"),finishMaybe(e,t)})}function prefinish(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(callFinal,e,t)))}function finishMaybe(e,t){var r=needFinish(t);if(r&&(prefinish(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function onCorkedFinish(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree.next=e}require("inherits")(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(e){return!!realHasInstance.call(this,e)||this===Writable&&(e&&e._writableState instanceof WritableState)}})):realHasInstance=function(e){return e instanceof this},Writable.prototype.pipe=function(){errorOrDestroy(this,new ERR_STREAM_CANNOT_PIPE)},Writable.prototype.write=function(e,t,r){var i=this._writableState,n=!1,o=!i.objectMode&&_isUint8Array(e);return o&&!Buffer.isBuffer(e)&&(e=_uint8ArrayToBuffer(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=nop),i.ending?writeAfterEnd(this,r):(o||validChunk(this,i,e,r))&&(i.pendingcb++,n=writeOrBuffer(this,i,o,e,t,r)),n},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new ERR_UNKNOWN_ENCODING(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(e,t,r){r(new ERR_METHOD_NOT_IMPLEMENTED("_write()"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||endWritable(this,i,r),this},Object.defineProperty(Writable.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Writable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(e,t){t(e)};

}).call(this)}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../errors":111,"./_stream_duplex":112,"./internal/streams/destroy":119,"./internal/streams/state":123,"./internal/streams/stream":124,"_process":106,"buffer":74,"inherits":97,"util-deprecate":145}],117:[function(require,module,exports){
(function (process){(function (){
"use strict";var _Object$setPrototypeO;function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var finished=require("./end-of-stream"),kLastResolve=Symbol("lastResolve"),kLastReject=Symbol("lastReject"),kError=Symbol("error"),kEnded=Symbol("ended"),kLastPromise=Symbol("lastPromise"),kHandlePromise=Symbol("handlePromise"),kStream=Symbol("stream");function createIterResult(e,t){return{value:e,done:t}}function readAndResolve(e){var t=e[kLastResolve];if(null!==t){var r=e[kStream].read();null!==r&&(e[kLastPromise]=null,e[kLastResolve]=null,e[kLastReject]=null,t(createIterResult(r,!1)))}}function onReadable(e){process.nextTick(readAndResolve,e)}function wrapForNext(e,t){return function(r,o){e.then(function(){t[kEnded]?r(createIterResult(void 0,!0)):t[kHandlePromise](r,o)},o)}}var AsyncIteratorPrototype=Object.getPrototypeOf(function(){}),ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_defineProperty(_Object$setPrototypeO={get stream(){return this[kStream]},next:function(){var e=this,t=this[kError];if(null!==t)return Promise.reject(t);if(this[kEnded])return Promise.resolve(createIterResult(void 0,!0));if(this[kStream].destroyed)return new Promise(function(t,r){process.nextTick(function(){e[kError]?r(e[kError]):t(createIterResult(void 0,!0))})});var r,o=this[kLastPromise];if(o)r=new Promise(wrapForNext(o,this));else{var n=this[kStream].read();if(null!==n)return Promise.resolve(createIterResult(n,!1));r=new Promise(this[kHandlePromise])}return this[kLastPromise]=r,r}},Symbol.asyncIterator,function(){return this}),_defineProperty(_Object$setPrototypeO,"return",function(){var e=this;return new Promise(function(t,r){e[kStream].destroy(null,function(e){e?r(e):t(createIterResult(void 0,!0))})})}),_Object$setPrototypeO),AsyncIteratorPrototype),createReadableStreamAsyncIterator=function(e){var t,r=Object.create(ReadableStreamAsyncIteratorPrototype,(_defineProperty(t={},kStream,{value:e,writable:!0}),_defineProperty(t,kLastResolve,{value:null,writable:!0}),_defineProperty(t,kLastReject,{value:null,writable:!0}),_defineProperty(t,kError,{value:null,writable:!0}),_defineProperty(t,kEnded,{value:e._readableState.endEmitted,writable:!0}),_defineProperty(t,kHandlePromise,{value:function(e,t){var o=r[kStream].read();o?(r[kLastPromise]=null,r[kLastResolve]=null,r[kLastReject]=null,e(createIterResult(o,!1))):(r[kLastResolve]=e,r[kLastReject]=t)},writable:!0}),t));return r[kLastPromise]=null,finished(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[kLastReject];return null!==t&&(r[kLastPromise]=null,r[kLastResolve]=null,r[kLastReject]=null,t(e)),void(r[kError]=e)}var o=r[kLastResolve];null!==o&&(r[kLastPromise]=null,r[kLastResolve]=null,r[kLastReject]=null,o(createIterResult(void 0,!0))),r[kEnded]=!0}),e.on("readable",onReadable.bind(null,r)),r};module.exports=createReadableStreamAsyncIterator;

}).call(this)}).call(this,require('_process'))
},{"./end-of-stream":120,"_process":106}],118:[function(require,module,exports){
"use strict";function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var _require=require("buffer"),Buffer=_require.Buffer,_require2=require("util"),inspect=_require2.inspect,custom=inspect&&inspect.custom||"inspect";function copyBuffer(e,t,n){Buffer.prototype.copy.call(e,t,n)}module.exports=function(){function e(){_classCallCheck(this,e),this.head=null,this.tail=null,this.length=0}return _createClass(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return Buffer.alloc(0);for(var t=Buffer.allocUnsafe(e>>>0),n=this.head,r=0;n;)copyBuffer(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var a=t.data,i=e>a.length?a.length:e;if(i===a.length?r+=a:r+=a.slice(0,e),0===(e-=i)){i===a.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=a.slice(i));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=Buffer.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var a=n.data,i=e>a.length?a.length:e;if(a.copy(t,t.length-e,0,i),0===(e-=i)){i===a.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(i));break}++r}return this.length-=r,t}},{key:custom,value:function(e,t){return inspect(this,_objectSpread({},t,{depth:0,customInspect:!1}))}}]),e}();

},{"buffer":74,"util":71}],119:[function(require,module,exports){
(function (process){(function (){
"use strict";function destroy(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,t)):process.nextTick(emitErrorNT,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?r._writableState?r._writableState.errorEmitted?process.nextTick(emitCloseNT,r):(r._writableState.errorEmitted=!0,process.nextTick(emitErrorAndCloseNT,r,t)):process.nextTick(emitErrorAndCloseNT,r,t):e?(process.nextTick(emitCloseNT,r),e(t)):process.nextTick(emitCloseNT,r)}),this)}function emitErrorAndCloseNT(t,e){emitErrorNT(t,e),emitCloseNT(t)}function emitCloseNT(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(t,e){t.emit("error",e)}function errorOrDestroy(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}module.exports={destroy:destroy,undestroy:undestroy,errorOrDestroy:errorOrDestroy};

}).call(this)}).call(this,require('_process'))
},{"_process":106}],120:[function(require,module,exports){
"use strict";var ERR_STREAM_PREMATURE_CLOSE=require("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function once(e){var r=!1;return function(){if(!r){r=!0;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e.apply(this,n)}}}function noop(){}function isRequest(e){return e.setHeader&&"function"==typeof e.abort}function eos(e,r,t){if("function"==typeof r)return eos(e,null,r);r||(r={}),t=once(t||noop);var n=r.readable||!1!==r.readable&&e.readable,o=r.writable||!1!==r.writable&&e.writable,i=function(){e.writable||l()},a=e._writableState&&e._writableState.finished,l=function(){o=!1,a=!0,n||t.call(e)},s=e._readableState&&e._readableState.endEmitted,c=function(){n=!1,s=!0,o||t.call(e)},u=function(r){t.call(e,r)},f=function(){var r;return n&&!s?(e._readableState&&e._readableState.ended||(r=new ERR_STREAM_PREMATURE_CLOSE),t.call(e,r)):o&&!a?(e._writableState&&e._writableState.ended||(r=new ERR_STREAM_PREMATURE_CLOSE),t.call(e,r)):void 0},d=function(){e.req.on("finish",l)};return isRequest(e)?(e.on("complete",l),e.on("abort",f),e.req?d():e.on("request",d)):o&&!e._writableState&&(e.on("end",i),e.on("close",i)),e.on("end",c),e.on("finish",l),!1!==r.error&&e.on("error",u),e.on("close",f),function(){e.removeListener("complete",l),e.removeListener("abort",f),e.removeListener("request",d),e.req&&e.req.removeListener("finish",l),e.removeListener("end",i),e.removeListener("close",i),e.removeListener("finish",l),e.removeListener("end",c),e.removeListener("error",u),e.removeListener("close",f)}}module.exports=eos;

},{"../../../errors":111}],121:[function(require,module,exports){
module.exports=function(){throw new Error("Readable.from is not available in the browser")};

},{}],122:[function(require,module,exports){
"use strict";var eos;function once(e){var r=!1;return function(){r||(r=!0,e.apply(void 0,arguments))}}var _require$codes=require("../../../errors").codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(e){if(e)throw e}function isRequest(e){return e.setHeader&&"function"==typeof e.abort}function destroyer(e,r,n,o){o=once(o);var t=!1;e.on("close",function(){t=!0}),void 0===eos&&(eos=require("./end-of-stream")),eos(e,{readable:r,writable:n},function(e){if(e)return o(e);t=!0,o()});var i=!1;return function(r){if(!t&&!i)return i=!0,isRequest(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(r||new ERR_STREAM_DESTROYED("pipe"))}}function call(e){e()}function pipe(e,r){return e.pipe(r)}function popCallback(e){return e.length?"function"!=typeof e[e.length-1]?noop:e.pop():noop}function pipeline(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o,t=popCallback(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new ERR_MISSING_ARGS("streams");var i=r.map(function(e,n){var u=n<r.length-1;return destroyer(e,u,n>0,function(e){o||(o=e),e&&i.forEach(call),u||(i.forEach(call),t(o))})});return r.reduce(pipe)}module.exports=pipeline;

},{"../../../errors":111,"./end-of-stream":120}],123:[function(require,module,exports){
"use strict";var ERR_INVALID_OPT_VALUE=require("../../../errors").codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(r,e,t){return null!=r.highWaterMark?r.highWaterMark:e?r[t]:null}function getHighWaterMark(r,e,t,a){var i=highWaterMarkFrom(e,a,t);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new ERR_INVALID_OPT_VALUE(a?t:"highWaterMark",i);return Math.floor(i)}return r.objectMode?16:16384}module.exports={getHighWaterMark:getHighWaterMark};

},{"../../../errors":111}],124:[function(require,module,exports){
module.exports=require("events").EventEmitter;

},{"events":92}],125:[function(require,module,exports){
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"),exports.finished=require("./lib/internal/streams/end-of-stream.js"),exports.pipeline=require("./lib/internal/streams/pipeline.js");

},{"./lib/_stream_duplex.js":112,"./lib/_stream_passthrough.js":113,"./lib/_stream_readable.js":114,"./lib/_stream_transform.js":115,"./lib/_stream_writable.js":116,"./lib/internal/streams/end-of-stream.js":120,"./lib/internal/streams/pipeline.js":122}],126:[function(require,module,exports){
var buffer=require("buffer"),Buffer=buffer.Buffer;function copyProps(f,e){for(var r in f)e[r]=f[r]}function SafeBuffer(f,e,r){return Buffer(f,e,r)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(Buffer.prototype),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(f,e,r){if("number"==typeof f)throw new TypeError("Argument must not be a number");return Buffer(f,e,r)},SafeBuffer.alloc=function(f,e,r){if("number"!=typeof f)throw new TypeError("Argument must be a number");var u=Buffer(f);return void 0!==e?"string"==typeof r?u.fill(e,r):u.fill(e):u.fill(0),u},SafeBuffer.allocUnsafe=function(f){if("number"!=typeof f)throw new TypeError("Argument must be a number");return Buffer(f)},SafeBuffer.allocUnsafeSlow=function(f){if("number"!=typeof f)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(f)};

},{"buffer":74}],127:[function(require,module,exports){
"use strict";function setProtoOf(t,r){return t.__proto__=r,t}function mixinProperties(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(t,o)||(t[o]=r[o]);return t}module.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?setProtoOf:mixinProperties);

},{}],128:[function(require,module,exports){
module.exports={
  "100": "Continue",
  "101": "Switching Protocols",
  "102": "Processing",
  "103": "Early Hints",
  "200": "OK",
  "201": "Created",
  "202": "Accepted",
  "203": "Non-Authoritative Information",
  "204": "No Content",
  "205": "Reset Content",
  "206": "Partial Content",
  "207": "Multi-Status",
  "208": "Already Reported",
  "226": "IM Used",
  "300": "Multiple Choices",
  "301": "Moved Permanently",
  "302": "Found",
  "303": "See Other",
  "304": "Not Modified",
  "305": "Use Proxy",
  "306": "(Unused)",
  "307": "Temporary Redirect",
  "308": "Permanent Redirect",
  "400": "Bad Request",
  "401": "Unauthorized",
  "402": "Payment Required",
  "403": "Forbidden",
  "404": "Not Found",
  "405": "Method Not Allowed",
  "406": "Not Acceptable",
  "407": "Proxy Authentication Required",
  "408": "Request Timeout",
  "409": "Conflict",
  "410": "Gone",
  "411": "Length Required",
  "412": "Precondition Failed",
  "413": "Payload Too Large",
  "414": "URI Too Long",
  "415": "Unsupported Media Type",
  "416": "Range Not Satisfiable",
  "417": "Expectation Failed",
  "418": "I'm a teapot",
  "421": "Misdirected Request",
  "422": "Unprocessable Entity",
  "423": "Locked",
  "424": "Failed Dependency",
  "425": "Unordered Collection",
  "426": "Upgrade Required",
  "428": "Precondition Required",
  "429": "Too Many Requests",
  "431": "Request Header Fields Too Large",
  "451": "Unavailable For Legal Reasons",
  "500": "Internal Server Error",
  "501": "Not Implemented",
  "502": "Bad Gateway",
  "503": "Service Unavailable",
  "504": "Gateway Timeout",
  "505": "HTTP Version Not Supported",
  "506": "Variant Also Negotiates",
  "507": "Insufficient Storage",
  "508": "Loop Detected",
  "509": "Bandwidth Limit Exceeded",
  "510": "Not Extended",
  "511": "Network Authentication Required"
}

},{}],129:[function(require,module,exports){
"use strict";var codes=require("./codes.json");function populateStatusesMap(t,s){var r=[];return Object.keys(s).forEach(function(e){var a=s[e],u=Number(e);t[u]=a,t[a]=u,t[a.toLowerCase()]=u,r.push(u)}),r}function status(t){if("number"==typeof t){if(!status[t])throw new Error("invalid status code: "+t);return t}if("string"!=typeof t)throw new TypeError("code must be a number or string");var s=parseInt(t,10);if(!isNaN(s)){if(!status[s])throw new Error("invalid status code: "+s);return s}if(!(s=status[t.toLowerCase()]))throw new Error('invalid status message: "'+t+'"');return s}module.exports=status,status.STATUS_CODES=codes,status.codes=populateStatusesMap(status,codes),status.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},status.empty={204:!0,205:!0,304:!0},status.retry={502:!0,503:!0,504:!0};

},{"./codes.json":128}],130:[function(require,module,exports){
(function (global){(function (){
var ClientRequest=require("./lib/request"),response=require("./lib/response"),extend=require("xtend"),statusCodes=require("builtin-status-codes"),url=require("url"),http=exports;http.request=function(e,t){e="string"==typeof e?url.parse(e):extend(e);var r=-1===global.location.protocol.search(/^https?:$/)?"http:":"",s=e.protocol||r,n=e.hostname||e.host,o=e.port,p=e.path||"/";n&&-1!==n.indexOf(":")&&(n="["+n+"]"),e.url=(n?s+"//"+n:"")+(o?":"+o:"")+p,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var u=new ClientRequest(e);return t&&u.on("response",t),u},http.get=function(e,t){var r=http.request(e,t);return r.end(),r},http.ClientRequest=ClientRequest,http.IncomingMessage=response.IncomingMessage,http.Agent=function(){},http.Agent.defaultMaxSockets=4,http.globalAgent=new http.Agent,http.STATUS_CODES=statusCodes,http.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"];

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./lib/request":132,"./lib/response":133,"builtin-status-codes":75,"url":143,"xtend":146}],131:[function(require,module,exports){
(function (global){(function (){
var xhr;function getXHR(){if(void 0!==xhr)return xhr;if(global.XMLHttpRequest){xhr=new global.XMLHttpRequest;try{xhr.open("GET",global.XDomainRequest?"/":"https://example.com")}catch(e){xhr=null}}else xhr=null;return xhr}function checkTypeSupport(e){var r=getXHR();if(!r)return!1;try{return r.responseType=e,r.responseType===e}catch(e){}return!1}function isFunction(e){return"function"==typeof e}exports.fetch=isFunction(global.fetch)&&isFunction(global.ReadableStream),exports.writableStream=isFunction(global.WritableStream),exports.abortController=isFunction(global.AbortController),exports.arraybuffer=exports.fetch||checkTypeSupport("arraybuffer"),exports.msstream=!exports.fetch&&checkTypeSupport("ms-stream"),exports.mozchunkedarraybuffer=!exports.fetch&&checkTypeSupport("moz-chunked-arraybuffer"),exports.overrideMimeType=exports.fetch||!!getXHR()&&isFunction(getXHR().overrideMimeType),xhr=null;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],132:[function(require,module,exports){
(function (process,global,Buffer){(function (){
var capability=require("./capability"),inherits=require("inherits"),response=require("./response"),stream=require("readable-stream"),IncomingMessage=response.IncomingMessage,rStates=response.readyStates;function decideMode(e,t){return capability.fetch&&t?"fetch":capability.mozchunkedarraybuffer?"moz-chunked-arraybuffer":capability.msstream?"ms-stream":capability.arraybuffer&&e?"arraybuffer":"text"}var ClientRequest=module.exports=function(e){var t,r=this;stream.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+Buffer.from(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){r.setHeader(t,e.headers[t])});var o=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!capability.abortController)o=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!capability.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=decideMode(t,o),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on("finish",function(){r._onFinish()})};function statusValid(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}inherits(ClientRequest,stream.Writable),ClientRequest.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===unsafeHeaders.indexOf(r)&&(this._headers[r]={name:e,value:t})},ClientRequest.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},ClientRequest.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},ClientRequest.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout);var r=e._headers,o=null;"GET"!==t.method&&"HEAD"!==t.method&&(o=new Blob(e._body,{type:(r["content-type"]||{}).value||""}));var s=[];if(Object.keys(r).forEach(function(e){var t=r[e].name,o=r[e].value;Array.isArray(o)?o.forEach(function(e){s.push([t,e])}):s.push([t,o])}),"fetch"===e._mode){var i=null;if(capability.abortController){var n=new AbortController;i=n.signal,e._fetchAbortController=n,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=global.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},t.requestTimeout))}global.fetch(e._opts.url,{method:e._opts.method,headers:s,body:o||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:i}).then(function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()},function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)})}else{var a=e._xhr=new global.XMLHttpRequest;try{a.open(e._opts.method,e._opts.url,!0)}catch(t){return void process.nextTick(function(){e.emit("error",t)})}"responseType"in a&&(a.responseType=e._mode),"withCredentials"in a&&(a.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in a&&a.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(a.timeout=t.requestTimeout,a.ontimeout=function(){e.emit("requestTimeout")}),s.forEach(function(e){a.setRequestHeader(e[0],e[1])}),e._response=null,a.onreadystatechange=function(){switch(a.readyState){case rStates.LOADING:case rStates.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(a.onprogress=function(){e._onXHRProgress()}),a.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{a.send(o)}catch(t){return void process.nextTick(function(){e.emit("error",t)})}}}},ClientRequest.prototype._onXHRProgress=function(){this._resetTimers(!1),statusValid(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress(this._resetTimers.bind(this)))},ClientRequest.prototype._connect=function(){var e=this;e._destroyed||(e._response=new IncomingMessage(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},ClientRequest.prototype._write=function(e,t,r){this._body.push(e),r()},ClientRequest.prototype._resetTimers=function(e){var t=this;global.clearTimeout(t._socketTimer),t._socketTimer=null,e?(global.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=global.setTimeout(function(){t.emit("timeout")},t._socketTimeout))},ClientRequest.prototype.abort=ClientRequest.prototype.destroy=function(e){this._destroyed=!0,this._resetTimers(!0),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort(),e&&this.emit("error",e)},ClientRequest.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),stream.Writable.prototype.end.call(this,e,t,r)},ClientRequest.prototype.setTimeout=function(e,t){t&&this.once("timeout",t),this._socketTimeout=e,this._resetTimers(!1)},ClientRequest.prototype.flushHeaders=function(){},ClientRequest.prototype.setNoDelay=function(){},ClientRequest.prototype.setSocketKeepAlive=function(){};var unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];

}).call(this)}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)
},{"./capability":131,"./response":133,"_process":106,"buffer":74,"inherits":97,"readable-stream":125}],133:[function(require,module,exports){
(function (process,global,Buffer){(function (){
var capability=require("./capability"),inherits=require("inherits"),stream=require("readable-stream"),rStates=exports.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},IncomingMessage=exports.IncomingMessage=function(e,r,s,t){var a=this;if(stream.Readable.call(a),a._mode=s,a.headers={},a.rawHeaders=[],a.trailers={},a.rawTrailers=[],a.on("end",function(){process.nextTick(function(){a.emit("close")})}),"fetch"===s){if(a._fetchResponse=r,a.url=r.url,a.statusCode=r.status,a.statusMessage=r.statusText,r.headers.forEach(function(e,r){a.headers[r.toLowerCase()]=e,a.rawHeaders.push(r,e)}),capability.writableStream){var o=new WritableStream({write:function(e){return t(!1),new Promise(function(r,s){a._destroyed?s():a.push(Buffer.from(e))?r():a._resumeFetch=r})},close:function(){t(!0),a._destroyed||a.push(null)},abort:function(e){t(!0),a._destroyed||a.emit("error",e)}});try{return void r.body.pipeTo(o).catch(function(e){t(!0),a._destroyed||a.emit("error",e)})}catch(e){}}var n=r.body.getReader();!function e(){n.read().then(function(r){a._destroyed||(t(r.done),r.done?a.push(null):(a.push(Buffer.from(r.value)),e()))}).catch(function(e){t(!0),a._destroyed||a.emit("error",e)})}()}else{if(a._xhr=e,a._pos=0,a.url=e.responseURL,a.statusCode=e.status,a.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var r=e.match(/^([^:]+):\s*(.*)/);if(r){var s=r[1].toLowerCase();"set-cookie"===s?(void 0===a.headers[s]&&(a.headers[s]=[]),a.headers[s].push(r[2])):void 0!==a.headers[s]?a.headers[s]+=", "+r[2]:a.headers[s]=r[2],a.rawHeaders.push(r[1],r[2])}}),a._charset="x-user-defined",!capability.overrideMimeType){var i=a.rawHeaders["mime-type"];if(i){var u=i.match(/;\s*charset=([^;])(;|$)/);u&&(a._charset=u[1].toLowerCase())}a._charset||(a._charset="utf-8")}}};inherits(IncomingMessage,stream.Readable),IncomingMessage.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},IncomingMessage.prototype._onXHRProgress=function(e){var r=this,s=r._xhr,t=null;switch(r._mode){case"text":if((t=s.responseText).length>r._pos){var a=t.substr(r._pos);if("x-user-defined"===r._charset){for(var o=Buffer.alloc(a.length),n=0;n<a.length;n++)o[n]=255&a.charCodeAt(n);r.push(o)}else r.push(a,r._charset);r._pos=t.length}break;case"arraybuffer":if(s.readyState!==rStates.DONE||!s.response)break;t=s.response,r.push(Buffer.from(new Uint8Array(t)));break;case"moz-chunked-arraybuffer":if(t=s.response,s.readyState!==rStates.LOADING||!t)break;r.push(Buffer.from(new Uint8Array(t)));break;case"ms-stream":if(t=s.response,s.readyState!==rStates.LOADING)break;var i=new global.MSStreamReader;i.onprogress=function(){i.result.byteLength>r._pos&&(r.push(Buffer.from(new Uint8Array(i.result.slice(r._pos)))),r._pos=i.result.byteLength)},i.onload=function(){e(!0),r.push(null)},i.readAsArrayBuffer(t)}r._xhr.readyState===rStates.DONE&&"ms-stream"!==r._mode&&(e(!0),r.push(null))};

}).call(this)}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)
},{"./capability":131,"_process":106,"buffer":74,"inherits":97,"readable-stream":125}],134:[function(require,module,exports){
"use strict";var Buffer=require("safe-buffer").Buffer,isEncoding=Buffer.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function normalizeEncoding(t){var e=_normalizeEncoding(t);if("string"!=typeof e&&(Buffer.isEncoding===isEncoding||!isEncoding(t)))throw new Error("Unknown encoding: "+t);return e||t}function StringDecoder(t){var e;switch(this.encoding=normalizeEncoding(t),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,e=4;break;case"utf8":this.fillLast=utf8FillLast,e=4;break;case"base64":this.text=base64Text,this.end=base64End,e=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(e)}function utf8CheckByte(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function utf8CheckIncomplete(t,e,s){var i=e.length-1;if(i<s)return 0;var n=utf8CheckByte(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<s||-2===n?0:(n=utf8CheckByte(e[i]))>=0?(n>0&&(t.lastNeed=n-2),n):--i<s||-2===n?0:(n=utf8CheckByte(e[i]))>=0?(n>0&&(2===n?n=0:t.lastNeed=n-3),n):0}function utf8CheckExtraBytes(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}function utf8FillLast(t){var e=this.lastTotal-this.lastNeed,s=utf8CheckExtraBytes(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function utf8Text(t,e){var s=utf8CheckIncomplete(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function utf8End(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function utf16Text(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function utf16End(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function base64Text(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function base64End(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function simpleWrite(t){return t.toString(this.encoding)}function simpleEnd(t){return t&&t.length?this.write(t):""}exports.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},StringDecoder.prototype.end=utf8End,StringDecoder.prototype.text=utf8Text,StringDecoder.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};

},{"safe-buffer":126}],135:[function(require,module,exports){
"use strict";function inRange(e,r,n){return r<=e&&e<=n}function ToDictionary(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(e){for(var r=String(e),n=r.length,t=0,i=[];t<n;){var o=r.charCodeAt(t);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(t===n-1)i.push(65533);else{var s=e.charCodeAt(t+1);if(56320<=s&&s<=57343){var a=1023&o,f=1023&s;i.push(65536+(a<<10)+f),t+=1}else i.push(65533)}t+=1}return i}function codePointsToString(e){for(var r="",n=0;n<e.length;++n){var t=e[n];t<=65535?r+=String.fromCharCode(t):(t-=65536,r+=String.fromCharCode(55296+(t>>10),56320+(1023&t)))}return r}var end_of_stream=-1;function Stream(e){this.tokens=[].slice.call(e)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(e){if(Array.isArray(e))for(var r=e;r.length;)this.tokens.unshift(r.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var r=e;r.length;)this.tokens.push(r.shift());else this.tokens.push(e)}};var finished=-1;function decoderError(e,r){if(e)throw TypeError("Decoder error");return r||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder(e,r){if(!(this instanceof TextDecoder))return new TextDecoder(e,r);if((e=void 0!==e?String(e).toLowerCase():DEFAULT_ENCODING)!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");r=ToDictionary(r),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(r.fatal),this._ignoreBOM=Boolean(r.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function TextEncoder(e,r){if(!(this instanceof TextEncoder))return new TextEncoder(e,r);if((e=void 0!==e?String(e).toLowerCase():DEFAULT_ENCODING)!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");r=ToDictionary(r),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(r.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function UTF8Decoder(e){var r=e.fatal,n=0,t=0,i=0,o=128,s=191;this.handler=function(e,a){if(a===end_of_stream&&0!==i)return i=0,decoderError(r);if(a===end_of_stream)return finished;if(0===i){if(inRange(a,0,127))return a;if(inRange(a,194,223))i=1,n=a-192;else if(inRange(a,224,239))224===a&&(o=160),237===a&&(s=159),i=2,n=a-224;else{if(!inRange(a,240,244))return decoderError(r);240===a&&(o=144),244===a&&(s=143),i=3,n=a-240}return n<<=6*i,null}if(!inRange(a,o,s))return n=i=t=0,o=128,s=191,e.prepend(a),decoderError(r);if(o=128,s=191,n+=a-128<<6*(i-(t+=1)),t!==i)return null;var f=n;return n=i=t=0,f}}function UTF8Encoder(e){e.fatal;this.handler=function(e,r){if(r===end_of_stream)return finished;if(inRange(r,0,127))return r;var n,t;inRange(r,128,2047)?(n=1,t=192):inRange(r,2048,65535)?(n=2,t=224):inRange(r,65536,1114111)&&(n=3,t=240);for(var i=[(r>>6*n)+t];n>0;){var o=r>>6*(n-1);i.push(128|63&o),n-=1}return i}}TextDecoder.prototype={decode:function(e,r){var n;n="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),r=ToDictionary(r),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(r.stream);for(var t,i=new Stream(n),o=[];!i.endOfStream()&&(t=this._decoder.handler(i,i.read()))!==finished;)null!==t&&(Array.isArray(t)?o.push.apply(o,t):o.push(t));if(!this._streaming){do{if((t=this._decoder.handler(i,i.read()))===finished)break;null!==t&&(Array.isArray(t)?o.push.apply(o,t):o.push(t))}while(!i.endOfStream());this._decoder=null}return o.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===o[0]?(this._BOMseen=!0,o.shift()):this._BOMseen=!0)),codePointsToString(o)}},TextEncoder.prototype={encode:function(e,r){e=e?String(e):"",r=ToDictionary(r),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=Boolean(r.stream);for(var n,t=[],i=new Stream(stringToCodePoints(e));!i.endOfStream()&&(n=this._encoder.handler(i,i.read()))!==finished;)Array.isArray(n)?t.push.apply(t,n):t.push(n);if(!this._streaming){for(;(n=this._encoder.handler(i,i.read()))!==finished;)Array.isArray(n)?t.push.apply(t,n):t.push(n);this._encoder=null}return new Uint8Array(t)}},exports.TextEncoder=TextEncoder,exports.TextDecoder=TextDecoder;

},{}],136:[function(require,module,exports){
"use strict";function toIdentifier(e){return e.split(" ").map(function(e){return e.slice(0,1).toUpperCase()+e.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}module.exports=toIdentifier;

},{}],137:[function(require,module,exports){
!function(r){"use strict";var t=function(r){var t,n=new Float64Array(16);if(r)for(t=0;t<r.length;t++)n[t]=r[t];return n},n=function(){throw new Error("no PRNG")},e=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var i=t(),h=t([1]),a=t([56129,1]),f=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),s=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),c=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function l(r,t,n,e){r[t]=n>>24&255,r[t+1]=n>>16&255,r[t+2]=n>>8&255,r[t+3]=255&n,r[t+4]=e>>24&255,r[t+5]=e>>16&255,r[t+6]=e>>8&255,r[t+7]=255&e}function w(r,t,n,e,o){var i,h=0;for(i=0;i<o;i++)h|=r[t+i]^n[e+i];return(1&h-1>>>8)-1}function v(r,t,n,e){return w(r,t,n,e,16)}function p(r,t,n,e){return w(r,t,n,e,32)}function b(r,t,n,e){!function(r,t,n,e){for(var o,i=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,s=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,c=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,y=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,l=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,w=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,v=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,b=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,g=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,A=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,U=i,d=h,E=a,x=f,M=s,m=u,B=c,S=y,k=l,K=w,Y=v,L=p,T=b,z=g,R=A,P=_,N=0;N<20;N+=2)U^=(o=(T^=(o=(k^=(o=(M^=(o=U+T|0)<<7|o>>>25)+U|0)<<9|o>>>23)+M|0)<<13|o>>>19)+k|0)<<18|o>>>14,m^=(o=(d^=(o=(z^=(o=(K^=(o=m+d|0)<<7|o>>>25)+m|0)<<9|o>>>23)+K|0)<<13|o>>>19)+z|0)<<18|o>>>14,Y^=(o=(B^=(o=(E^=(o=(R^=(o=Y+B|0)<<7|o>>>25)+Y|0)<<9|o>>>23)+R|0)<<13|o>>>19)+E|0)<<18|o>>>14,P^=(o=(L^=(o=(S^=(o=(x^=(o=P+L|0)<<7|o>>>25)+P|0)<<9|o>>>23)+x|0)<<13|o>>>19)+S|0)<<18|o>>>14,U^=(o=(x^=(o=(E^=(o=(d^=(o=U+x|0)<<7|o>>>25)+U|0)<<9|o>>>23)+d|0)<<13|o>>>19)+E|0)<<18|o>>>14,m^=(o=(M^=(o=(S^=(o=(B^=(o=m+M|0)<<7|o>>>25)+m|0)<<9|o>>>23)+B|0)<<13|o>>>19)+S|0)<<18|o>>>14,Y^=(o=(K^=(o=(k^=(o=(L^=(o=Y+K|0)<<7|o>>>25)+Y|0)<<9|o>>>23)+L|0)<<13|o>>>19)+k|0)<<18|o>>>14,P^=(o=(R^=(o=(z^=(o=(T^=(o=P+R|0)<<7|o>>>25)+P|0)<<9|o>>>23)+T|0)<<13|o>>>19)+z|0)<<18|o>>>14;U=U+i|0,d=d+h|0,E=E+a|0,x=x+f|0,M=M+s|0,m=m+u|0,B=B+c|0,S=S+y|0,k=k+l|0,K=K+w|0,Y=Y+v|0,L=L+p|0,T=T+b|0,z=z+g|0,R=R+A|0,P=P+_|0,r[0]=U>>>0&255,r[1]=U>>>8&255,r[2]=U>>>16&255,r[3]=U>>>24&255,r[4]=d>>>0&255,r[5]=d>>>8&255,r[6]=d>>>16&255,r[7]=d>>>24&255,r[8]=E>>>0&255,r[9]=E>>>8&255,r[10]=E>>>16&255,r[11]=E>>>24&255,r[12]=x>>>0&255,r[13]=x>>>8&255,r[14]=x>>>16&255,r[15]=x>>>24&255,r[16]=M>>>0&255,r[17]=M>>>8&255,r[18]=M>>>16&255,r[19]=M>>>24&255,r[20]=m>>>0&255,r[21]=m>>>8&255,r[22]=m>>>16&255,r[23]=m>>>24&255,r[24]=B>>>0&255,r[25]=B>>>8&255,r[26]=B>>>16&255,r[27]=B>>>24&255,r[28]=S>>>0&255,r[29]=S>>>8&255,r[30]=S>>>16&255,r[31]=S>>>24&255,r[32]=k>>>0&255,r[33]=k>>>8&255,r[34]=k>>>16&255,r[35]=k>>>24&255,r[36]=K>>>0&255,r[37]=K>>>8&255,r[38]=K>>>16&255,r[39]=K>>>24&255,r[40]=Y>>>0&255,r[41]=Y>>>8&255,r[42]=Y>>>16&255,r[43]=Y>>>24&255,r[44]=L>>>0&255,r[45]=L>>>8&255,r[46]=L>>>16&255,r[47]=L>>>24&255,r[48]=T>>>0&255,r[49]=T>>>8&255,r[50]=T>>>16&255,r[51]=T>>>24&255,r[52]=z>>>0&255,r[53]=z>>>8&255,r[54]=z>>>16&255,r[55]=z>>>24&255,r[56]=R>>>0&255,r[57]=R>>>8&255,r[58]=R>>>16&255,r[59]=R>>>24&255,r[60]=P>>>0&255,r[61]=P>>>8&255,r[62]=P>>>16&255,r[63]=P>>>24&255}(r,t,n,e)}function g(r,t,n,e){!function(r,t,n,e){for(var o,i=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,s=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,c=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,y=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,l=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,w=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,v=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,b=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,g=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,A=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,U=0;U<20;U+=2)i^=(o=(b^=(o=(l^=(o=(s^=(o=i+b|0)<<7|o>>>25)+i|0)<<9|o>>>23)+s|0)<<13|o>>>19)+l|0)<<18|o>>>14,u^=(o=(h^=(o=(g^=(o=(w^=(o=u+h|0)<<7|o>>>25)+u|0)<<9|o>>>23)+w|0)<<13|o>>>19)+g|0)<<18|o>>>14,v^=(o=(c^=(o=(a^=(o=(A^=(o=v+c|0)<<7|o>>>25)+v|0)<<9|o>>>23)+A|0)<<13|o>>>19)+a|0)<<18|o>>>14,_^=(o=(p^=(o=(y^=(o=(f^=(o=_+p|0)<<7|o>>>25)+_|0)<<9|o>>>23)+f|0)<<13|o>>>19)+y|0)<<18|o>>>14,i^=(o=(f^=(o=(a^=(o=(h^=(o=i+f|0)<<7|o>>>25)+i|0)<<9|o>>>23)+h|0)<<13|o>>>19)+a|0)<<18|o>>>14,u^=(o=(s^=(o=(y^=(o=(c^=(o=u+s|0)<<7|o>>>25)+u|0)<<9|o>>>23)+c|0)<<13|o>>>19)+y|0)<<18|o>>>14,v^=(o=(w^=(o=(l^=(o=(p^=(o=v+w|0)<<7|o>>>25)+v|0)<<9|o>>>23)+p|0)<<13|o>>>19)+l|0)<<18|o>>>14,_^=(o=(A^=(o=(g^=(o=(b^=(o=_+A|0)<<7|o>>>25)+_|0)<<9|o>>>23)+b|0)<<13|o>>>19)+g|0)<<18|o>>>14;r[0]=i>>>0&255,r[1]=i>>>8&255,r[2]=i>>>16&255,r[3]=i>>>24&255,r[4]=u>>>0&255,r[5]=u>>>8&255,r[6]=u>>>16&255,r[7]=u>>>24&255,r[8]=v>>>0&255,r[9]=v>>>8&255,r[10]=v>>>16&255,r[11]=v>>>24&255,r[12]=_>>>0&255,r[13]=_>>>8&255,r[14]=_>>>16&255,r[15]=_>>>24&255,r[16]=c>>>0&255,r[17]=c>>>8&255,r[18]=c>>>16&255,r[19]=c>>>24&255,r[20]=y>>>0&255,r[21]=y>>>8&255,r[22]=y>>>16&255,r[23]=y>>>24&255,r[24]=l>>>0&255,r[25]=l>>>8&255,r[26]=l>>>16&255,r[27]=l>>>24&255,r[28]=w>>>0&255,r[29]=w>>>8&255,r[30]=w>>>16&255,r[31]=w>>>24&255}(r,t,n,e)}var A=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function _(r,t,n,e,o,i,h){var a,f,s=new Uint8Array(16),u=new Uint8Array(64);for(f=0;f<16;f++)s[f]=0;for(f=0;f<8;f++)s[f]=i[f];for(;o>=64;){for(b(u,s,h,A),f=0;f<64;f++)r[t+f]=n[e+f]^u[f];for(a=1,f=8;f<16;f++)a=a+(255&s[f])|0,s[f]=255&a,a>>>=8;o-=64,t+=64,e+=64}if(o>0)for(b(u,s,h,A),f=0;f<o;f++)r[t+f]=n[e+f]^u[f];return 0}function U(r,t,n,e,o){var i,h,a=new Uint8Array(16),f=new Uint8Array(64);for(h=0;h<16;h++)a[h]=0;for(h=0;h<8;h++)a[h]=e[h];for(;n>=64;){for(b(f,a,o,A),h=0;h<64;h++)r[t+h]=f[h];for(i=1,h=8;h<16;h++)i=i+(255&a[h])|0,a[h]=255&i,i>>>=8;n-=64,t+=64}if(n>0)for(b(f,a,o,A),h=0;h<n;h++)r[t+h]=f[h];return 0}function d(r,t,n,e,o){var i=new Uint8Array(32);g(i,e,o,A);for(var h=new Uint8Array(8),a=0;a<8;a++)h[a]=e[a+16];return U(r,t,n,h,i)}function E(r,t,n,e,o,i,h){var a=new Uint8Array(32);g(a,i,h,A);for(var f=new Uint8Array(8),s=0;s<8;s++)f[s]=i[s+16];return _(r,t,n,e,o,f,a)}var x=function(r){var t,n,e,o,i,h,a,f;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&r[0]|(255&r[1])<<8,this.r[0]=8191&t,n=255&r[2]|(255&r[3])<<8,this.r[1]=8191&(t>>>13|n<<3),e=255&r[4]|(255&r[5])<<8,this.r[2]=7939&(n>>>10|e<<6),o=255&r[6]|(255&r[7])<<8,this.r[3]=8191&(e>>>7|o<<9),i=255&r[8]|(255&r[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,h=255&r[10]|(255&r[11])<<8,this.r[6]=8191&(i>>>14|h<<2),a=255&r[12]|(255&r[13])<<8,this.r[7]=8065&(h>>>11|a<<5),f=255&r[14]|(255&r[15])<<8,this.r[8]=8191&(a>>>8|f<<8),this.r[9]=f>>>5&127,this.pad[0]=255&r[16]|(255&r[17])<<8,this.pad[1]=255&r[18]|(255&r[19])<<8,this.pad[2]=255&r[20]|(255&r[21])<<8,this.pad[3]=255&r[22]|(255&r[23])<<8,this.pad[4]=255&r[24]|(255&r[25])<<8,this.pad[5]=255&r[26]|(255&r[27])<<8,this.pad[6]=255&r[28]|(255&r[29])<<8,this.pad[7]=255&r[30]|(255&r[31])<<8};function M(r,t,n,e,o,i){var h=new x(i);return h.update(n,e,o),h.finish(r,t),0}function m(r,t,n,e,o,i){var h=new Uint8Array(16);return M(h,0,n,e,o,i),v(r,t,h,0)}function B(r,t,n,e,o){var i;if(n<32)return-1;for(E(r,0,t,0,n,e,o),M(r,16,r,32,n-32,r),i=0;i<16;i++)r[i]=0;return 0}function S(r,t,n,e,o){var i,h=new Uint8Array(32);if(n<32)return-1;if(d(h,0,32,e,o),0!==m(t,16,t,32,n-32,h))return-1;for(E(r,0,t,0,n,e,o),i=0;i<32;i++)r[i]=0;return 0}function k(r,t){var n;for(n=0;n<16;n++)r[n]=0|t[n]}function K(r){var t,n,e=1;for(t=0;t<16;t++)n=r[t]+e+65535,e=Math.floor(n/65536),r[t]=n-65536*e;r[0]+=e-1+37*(e-1)}function Y(r,t,n){for(var e,o=~(n-1),i=0;i<16;i++)e=o&(r[i]^t[i]),r[i]^=e,t[i]^=e}function L(r,n){var e,o,i,h=t(),a=t();for(e=0;e<16;e++)a[e]=n[e];for(K(a),K(a),K(a),o=0;o<2;o++){for(h[0]=a[0]-65517,e=1;e<15;e++)h[e]=a[e]-65535-(h[e-1]>>16&1),h[e-1]&=65535;h[15]=a[15]-32767-(h[14]>>16&1),i=h[15]>>16&1,h[14]&=65535,Y(a,h,1-i)}for(e=0;e<16;e++)r[2*e]=255&a[e],r[2*e+1]=a[e]>>8}function T(r,t){var n=new Uint8Array(32),e=new Uint8Array(32);return L(n,r),L(e,t),p(n,0,e,0)}function z(r){var t=new Uint8Array(32);return L(t,r),1&t[0]}function R(r,t){var n;for(n=0;n<16;n++)r[n]=t[2*n]+(t[2*n+1]<<8);r[15]&=32767}function P(r,t,n){for(var e=0;e<16;e++)r[e]=t[e]+n[e]}function N(r,t,n){for(var e=0;e<16;e++)r[e]=t[e]-n[e]}function O(r,t,n){var e,o,i=0,h=0,a=0,f=0,s=0,u=0,c=0,y=0,l=0,w=0,v=0,p=0,b=0,g=0,A=0,_=0,U=0,d=0,E=0,x=0,M=0,m=0,B=0,S=0,k=0,K=0,Y=0,L=0,T=0,z=0,R=0,P=n[0],N=n[1],O=n[2],C=n[3],F=n[4],I=n[5],Z=n[6],G=n[7],q=n[8],D=n[9],V=n[10],X=n[11],j=n[12],H=n[13],J=n[14],Q=n[15];i+=(e=t[0])*P,h+=e*N,a+=e*O,f+=e*C,s+=e*F,u+=e*I,c+=e*Z,y+=e*G,l+=e*q,w+=e*D,v+=e*V,p+=e*X,b+=e*j,g+=e*H,A+=e*J,_+=e*Q,h+=(e=t[1])*P,a+=e*N,f+=e*O,s+=e*C,u+=e*F,c+=e*I,y+=e*Z,l+=e*G,w+=e*q,v+=e*D,p+=e*V,b+=e*X,g+=e*j,A+=e*H,_+=e*J,U+=e*Q,a+=(e=t[2])*P,f+=e*N,s+=e*O,u+=e*C,c+=e*F,y+=e*I,l+=e*Z,w+=e*G,v+=e*q,p+=e*D,b+=e*V,g+=e*X,A+=e*j,_+=e*H,U+=e*J,d+=e*Q,f+=(e=t[3])*P,s+=e*N,u+=e*O,c+=e*C,y+=e*F,l+=e*I,w+=e*Z,v+=e*G,p+=e*q,b+=e*D,g+=e*V,A+=e*X,_+=e*j,U+=e*H,d+=e*J,E+=e*Q,s+=(e=t[4])*P,u+=e*N,c+=e*O,y+=e*C,l+=e*F,w+=e*I,v+=e*Z,p+=e*G,b+=e*q,g+=e*D,A+=e*V,_+=e*X,U+=e*j,d+=e*H,E+=e*J,x+=e*Q,u+=(e=t[5])*P,c+=e*N,y+=e*O,l+=e*C,w+=e*F,v+=e*I,p+=e*Z,b+=e*G,g+=e*q,A+=e*D,_+=e*V,U+=e*X,d+=e*j,E+=e*H,x+=e*J,M+=e*Q,c+=(e=t[6])*P,y+=e*N,l+=e*O,w+=e*C,v+=e*F,p+=e*I,b+=e*Z,g+=e*G,A+=e*q,_+=e*D,U+=e*V,d+=e*X,E+=e*j,x+=e*H,M+=e*J,m+=e*Q,y+=(e=t[7])*P,l+=e*N,w+=e*O,v+=e*C,p+=e*F,b+=e*I,g+=e*Z,A+=e*G,_+=e*q,U+=e*D,d+=e*V,E+=e*X,x+=e*j,M+=e*H,m+=e*J,B+=e*Q,l+=(e=t[8])*P,w+=e*N,v+=e*O,p+=e*C,b+=e*F,g+=e*I,A+=e*Z,_+=e*G,U+=e*q,d+=e*D,E+=e*V,x+=e*X,M+=e*j,m+=e*H,B+=e*J,S+=e*Q,w+=(e=t[9])*P,v+=e*N,p+=e*O,b+=e*C,g+=e*F,A+=e*I,_+=e*Z,U+=e*G,d+=e*q,E+=e*D,x+=e*V,M+=e*X,m+=e*j,B+=e*H,S+=e*J,k+=e*Q,v+=(e=t[10])*P,p+=e*N,b+=e*O,g+=e*C,A+=e*F,_+=e*I,U+=e*Z,d+=e*G,E+=e*q,x+=e*D,M+=e*V,m+=e*X,B+=e*j,S+=e*H,k+=e*J,K+=e*Q,p+=(e=t[11])*P,b+=e*N,g+=e*O,A+=e*C,_+=e*F,U+=e*I,d+=e*Z,E+=e*G,x+=e*q,M+=e*D,m+=e*V,B+=e*X,S+=e*j,k+=e*H,K+=e*J,Y+=e*Q,b+=(e=t[12])*P,g+=e*N,A+=e*O,_+=e*C,U+=e*F,d+=e*I,E+=e*Z,x+=e*G,M+=e*q,m+=e*D,B+=e*V,S+=e*X,k+=e*j,K+=e*H,Y+=e*J,L+=e*Q,g+=(e=t[13])*P,A+=e*N,_+=e*O,U+=e*C,d+=e*F,E+=e*I,x+=e*Z,M+=e*G,m+=e*q,B+=e*D,S+=e*V,k+=e*X,K+=e*j,Y+=e*H,L+=e*J,T+=e*Q,A+=(e=t[14])*P,_+=e*N,U+=e*O,d+=e*C,E+=e*F,x+=e*I,M+=e*Z,m+=e*G,B+=e*q,S+=e*D,k+=e*V,K+=e*X,Y+=e*j,L+=e*H,T+=e*J,z+=e*Q,_+=(e=t[15])*P,h+=38*(d+=e*O),a+=38*(E+=e*C),f+=38*(x+=e*F),s+=38*(M+=e*I),u+=38*(m+=e*Z),c+=38*(B+=e*G),y+=38*(S+=e*q),l+=38*(k+=e*D),w+=38*(K+=e*V),v+=38*(Y+=e*X),p+=38*(L+=e*j),b+=38*(T+=e*H),g+=38*(z+=e*J),A+=38*(R+=e*Q),i=(e=(i+=38*(U+=e*N))+(o=1)+65535)-65536*(o=Math.floor(e/65536)),h=(e=h+o+65535)-65536*(o=Math.floor(e/65536)),a=(e=a+o+65535)-65536*(o=Math.floor(e/65536)),f=(e=f+o+65535)-65536*(o=Math.floor(e/65536)),s=(e=s+o+65535)-65536*(o=Math.floor(e/65536)),u=(e=u+o+65535)-65536*(o=Math.floor(e/65536)),c=(e=c+o+65535)-65536*(o=Math.floor(e/65536)),y=(e=y+o+65535)-65536*(o=Math.floor(e/65536)),l=(e=l+o+65535)-65536*(o=Math.floor(e/65536)),w=(e=w+o+65535)-65536*(o=Math.floor(e/65536)),v=(e=v+o+65535)-65536*(o=Math.floor(e/65536)),p=(e=p+o+65535)-65536*(o=Math.floor(e/65536)),b=(e=b+o+65535)-65536*(o=Math.floor(e/65536)),g=(e=g+o+65535)-65536*(o=Math.floor(e/65536)),A=(e=A+o+65535)-65536*(o=Math.floor(e/65536)),_=(e=_+o+65535)-65536*(o=Math.floor(e/65536)),i=(e=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(e/65536)),h=(e=h+o+65535)-65536*(o=Math.floor(e/65536)),a=(e=a+o+65535)-65536*(o=Math.floor(e/65536)),f=(e=f+o+65535)-65536*(o=Math.floor(e/65536)),s=(e=s+o+65535)-65536*(o=Math.floor(e/65536)),u=(e=u+o+65535)-65536*(o=Math.floor(e/65536)),c=(e=c+o+65535)-65536*(o=Math.floor(e/65536)),y=(e=y+o+65535)-65536*(o=Math.floor(e/65536)),l=(e=l+o+65535)-65536*(o=Math.floor(e/65536)),w=(e=w+o+65535)-65536*(o=Math.floor(e/65536)),v=(e=v+o+65535)-65536*(o=Math.floor(e/65536)),p=(e=p+o+65535)-65536*(o=Math.floor(e/65536)),b=(e=b+o+65535)-65536*(o=Math.floor(e/65536)),g=(e=g+o+65535)-65536*(o=Math.floor(e/65536)),A=(e=A+o+65535)-65536*(o=Math.floor(e/65536)),_=(e=_+o+65535)-65536*(o=Math.floor(e/65536)),i+=o-1+37*(o-1),r[0]=i,r[1]=h,r[2]=a,r[3]=f,r[4]=s,r[5]=u,r[6]=c,r[7]=y,r[8]=l,r[9]=w,r[10]=v,r[11]=p,r[12]=b,r[13]=g,r[14]=A,r[15]=_}function C(r,t){O(r,t,t)}function F(r,n){var e,o=t();for(e=0;e<16;e++)o[e]=n[e];for(e=253;e>=0;e--)C(o,o),2!==e&&4!==e&&O(o,o,n);for(e=0;e<16;e++)r[e]=o[e]}function I(r,n){var e,o=t();for(e=0;e<16;e++)o[e]=n[e];for(e=250;e>=0;e--)C(o,o),1!==e&&O(o,o,n);for(e=0;e<16;e++)r[e]=o[e]}function Z(r,n,e){var o,i,h=new Uint8Array(32),f=new Float64Array(80),s=t(),u=t(),c=t(),y=t(),l=t(),w=t();for(i=0;i<31;i++)h[i]=n[i];for(h[31]=127&n[31]|64,h[0]&=248,R(f,e),i=0;i<16;i++)u[i]=f[i],y[i]=s[i]=c[i]=0;for(s[0]=y[0]=1,i=254;i>=0;--i)Y(s,u,o=h[i>>>3]>>>(7&i)&1),Y(c,y,o),P(l,s,c),N(s,s,c),P(c,u,y),N(u,u,y),C(y,l),C(w,s),O(s,c,s),O(c,u,l),P(l,s,c),N(s,s,c),C(u,s),N(c,y,w),O(s,c,a),P(s,s,y),O(c,c,s),O(s,y,w),O(y,u,f),C(u,l),Y(s,u,o),Y(c,y,o);for(i=0;i<16;i++)f[i+16]=s[i],f[i+32]=c[i],f[i+48]=u[i],f[i+64]=y[i];var v=f.subarray(32),p=f.subarray(16);return F(v,v),O(p,p,v),L(r,p),0}function G(r,t){return Z(r,t,o)}function q(r,t){return n(t,32),G(r,t)}function D(r,t,n){var o=new Uint8Array(32);return Z(o,n,t),g(r,e,o,A)}x.prototype.blocks=function(r,t,n){for(var e,o,i,h,a,f,s,u,c,y,l,w,v,p,b,g,A,_,U,d=this.fin?0:2048,E=this.h[0],x=this.h[1],M=this.h[2],m=this.h[3],B=this.h[4],S=this.h[5],k=this.h[6],K=this.h[7],Y=this.h[8],L=this.h[9],T=this.r[0],z=this.r[1],R=this.r[2],P=this.r[3],N=this.r[4],O=this.r[5],C=this.r[6],F=this.r[7],I=this.r[8],Z=this.r[9];n>=16;)y=c=0,y+=(E+=8191&(e=255&r[t+0]|(255&r[t+1])<<8))*T,y+=(x+=8191&(e>>>13|(o=255&r[t+2]|(255&r[t+3])<<8)<<3))*(5*Z),y+=(M+=8191&(o>>>10|(i=255&r[t+4]|(255&r[t+5])<<8)<<6))*(5*I),y+=(m+=8191&(i>>>7|(h=255&r[t+6]|(255&r[t+7])<<8)<<9))*(5*F),c=(y+=(B+=8191&(h>>>4|(a=255&r[t+8]|(255&r[t+9])<<8)<<12))*(5*C))>>>13,y&=8191,y+=(S+=a>>>1&8191)*(5*O),y+=(k+=8191&(a>>>14|(f=255&r[t+10]|(255&r[t+11])<<8)<<2))*(5*N),y+=(K+=8191&(f>>>11|(s=255&r[t+12]|(255&r[t+13])<<8)<<5))*(5*P),y+=(Y+=8191&(s>>>8|(u=255&r[t+14]|(255&r[t+15])<<8)<<8))*(5*R),l=c+=(y+=(L+=u>>>5|d)*(5*z))>>>13,l+=E*z,l+=x*T,l+=M*(5*Z),l+=m*(5*I),c=(l+=B*(5*F))>>>13,l&=8191,l+=S*(5*C),l+=k*(5*O),l+=K*(5*N),l+=Y*(5*P),c+=(l+=L*(5*R))>>>13,l&=8191,w=c,w+=E*R,w+=x*z,w+=M*T,w+=m*(5*Z),c=(w+=B*(5*I))>>>13,w&=8191,w+=S*(5*F),w+=k*(5*C),w+=K*(5*O),w+=Y*(5*N),v=c+=(w+=L*(5*P))>>>13,v+=E*P,v+=x*R,v+=M*z,v+=m*T,c=(v+=B*(5*Z))>>>13,v&=8191,v+=S*(5*I),v+=k*(5*F),v+=K*(5*C),v+=Y*(5*O),p=c+=(v+=L*(5*N))>>>13,p+=E*N,p+=x*P,p+=M*R,p+=m*z,c=(p+=B*T)>>>13,p&=8191,p+=S*(5*Z),p+=k*(5*I),p+=K*(5*F),p+=Y*(5*C),b=c+=(p+=L*(5*O))>>>13,b+=E*O,b+=x*N,b+=M*P,b+=m*R,c=(b+=B*z)>>>13,b&=8191,b+=S*T,b+=k*(5*Z),b+=K*(5*I),b+=Y*(5*F),g=c+=(b+=L*(5*C))>>>13,g+=E*C,g+=x*O,g+=M*N,g+=m*P,c=(g+=B*R)>>>13,g&=8191,g+=S*z,g+=k*T,g+=K*(5*Z),g+=Y*(5*I),A=c+=(g+=L*(5*F))>>>13,A+=E*F,A+=x*C,A+=M*O,A+=m*N,c=(A+=B*P)>>>13,A&=8191,A+=S*R,A+=k*z,A+=K*T,A+=Y*(5*Z),_=c+=(A+=L*(5*I))>>>13,_+=E*I,_+=x*F,_+=M*C,_+=m*O,c=(_+=B*N)>>>13,_&=8191,_+=S*P,_+=k*R,_+=K*z,_+=Y*T,U=c+=(_+=L*(5*Z))>>>13,U+=E*Z,U+=x*I,U+=M*F,U+=m*C,c=(U+=B*O)>>>13,U&=8191,U+=S*N,U+=k*P,U+=K*R,U+=Y*z,E=y=8191&(c=(c=((c+=(U+=L*T)>>>13)<<2)+c|0)+(y&=8191)|0),x=l+=c>>>=13,M=w&=8191,m=v&=8191,B=p&=8191,S=b&=8191,k=g&=8191,K=A&=8191,Y=_&=8191,L=U&=8191,t+=16,n-=16;this.h[0]=E,this.h[1]=x,this.h[2]=M,this.h[3]=m,this.h[4]=B,this.h[5]=S,this.h[6]=k,this.h[7]=K,this.h[8]=Y,this.h[9]=L},x.prototype.finish=function(r,t){var n,e,o,i,h=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,h[0]=this.h[0]+5,n=h[0]>>>13,h[0]&=8191,i=1;i<10;i++)h[i]=this.h[i]+n,n=h[i]>>>13,h[i]&=8191;for(h[9]-=8192,e=(1^n)-1,i=0;i<10;i++)h[i]&=e;for(e=~e,i=0;i<10;i++)this.h[i]=this.h[i]&e|h[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;r[t+0]=this.h[0]>>>0&255,r[t+1]=this.h[0]>>>8&255,r[t+2]=this.h[1]>>>0&255,r[t+3]=this.h[1]>>>8&255,r[t+4]=this.h[2]>>>0&255,r[t+5]=this.h[2]>>>8&255,r[t+6]=this.h[3]>>>0&255,r[t+7]=this.h[3]>>>8&255,r[t+8]=this.h[4]>>>0&255,r[t+9]=this.h[4]>>>8&255,r[t+10]=this.h[5]>>>0&255,r[t+11]=this.h[5]>>>8&255,r[t+12]=this.h[6]>>>0&255,r[t+13]=this.h[6]>>>8&255,r[t+14]=this.h[7]>>>0&255,r[t+15]=this.h[7]>>>8&255},x.prototype.update=function(r,t,n){var e,o;if(this.leftover){for((o=16-this.leftover)>n&&(o=n),e=0;e<o;e++)this.buffer[this.leftover+e]=r[t+e];if(n-=o,t+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(o=n-n%16,this.blocks(r,t,o),t+=o,n-=o),n){for(e=0;e<n;e++)this.buffer[this.leftover+e]=r[t+e];this.leftover+=n}};var V=B,X=S;var j=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function H(r,t,n,e){for(var o,i,h,a,f,s,u,c,y,l,w,v,p,b,g,A,_,U,d,E,x,M,m,B,S,k,K=new Int32Array(16),Y=new Int32Array(16),L=r[0],T=r[1],z=r[2],R=r[3],P=r[4],N=r[5],O=r[6],C=r[7],F=t[0],I=t[1],Z=t[2],G=t[3],q=t[4],D=t[5],V=t[6],X=t[7],H=0;e>=128;){for(d=0;d<16;d++)E=8*d+H,K[d]=n[E+0]<<24|n[E+1]<<16|n[E+2]<<8|n[E+3],Y[d]=n[E+4]<<24|n[E+5]<<16|n[E+6]<<8|n[E+7];for(d=0;d<80;d++)if(o=L,i=T,h=z,a=R,f=P,s=N,u=O,C,y=F,l=I,w=Z,v=G,p=q,b=D,g=V,X,m=65535&(M=X),B=M>>>16,S=65535&(x=C),k=x>>>16,m+=65535&(M=(q>>>14|P<<18)^(q>>>18|P<<14)^(P>>>9|q<<23)),B+=M>>>16,S+=65535&(x=(P>>>14|q<<18)^(P>>>18|q<<14)^(q>>>9|P<<23)),k+=x>>>16,m+=65535&(M=q&D^~q&V),B+=M>>>16,S+=65535&(x=P&N^~P&O),k+=x>>>16,x=j[2*d],m+=65535&(M=j[2*d+1]),B+=M>>>16,S+=65535&x,k+=x>>>16,x=K[d%16],B+=(M=Y[d%16])>>>16,S+=65535&x,k+=x>>>16,S+=(B+=(m+=65535&M)>>>16)>>>16,m=65535&(M=U=65535&m|B<<16),B=M>>>16,S=65535&(x=_=65535&S|(k+=S>>>16)<<16),k=x>>>16,m+=65535&(M=(F>>>28|L<<4)^(L>>>2|F<<30)^(L>>>7|F<<25)),B+=M>>>16,S+=65535&(x=(L>>>28|F<<4)^(F>>>2|L<<30)^(F>>>7|L<<25)),k+=x>>>16,B+=(M=F&I^F&Z^I&Z)>>>16,S+=65535&(x=L&T^L&z^T&z),k+=x>>>16,c=65535&(S+=(B+=(m+=65535&M)>>>16)>>>16)|(k+=S>>>16)<<16,A=65535&m|B<<16,m=65535&(M=v),B=M>>>16,S=65535&(x=a),k=x>>>16,B+=(M=U)>>>16,S+=65535&(x=_),k+=x>>>16,T=o,z=i,R=h,P=a=65535&(S+=(B+=(m+=65535&M)>>>16)>>>16)|(k+=S>>>16)<<16,N=f,O=s,C=u,L=c,I=y,Z=l,G=w,q=v=65535&m|B<<16,D=p,V=b,X=g,F=A,d%16==15)for(E=0;E<16;E++)x=K[E],m=65535&(M=Y[E]),B=M>>>16,S=65535&x,k=x>>>16,x=K[(E+9)%16],m+=65535&(M=Y[(E+9)%16]),B+=M>>>16,S+=65535&x,k+=x>>>16,_=K[(E+1)%16],m+=65535&(M=((U=Y[(E+1)%16])>>>1|_<<31)^(U>>>8|_<<24)^(U>>>7|_<<25)),B+=M>>>16,S+=65535&(x=(_>>>1|U<<31)^(_>>>8|U<<24)^_>>>7),k+=x>>>16,_=K[(E+14)%16],B+=(M=((U=Y[(E+14)%16])>>>19|_<<13)^(_>>>29|U<<3)^(U>>>6|_<<26))>>>16,S+=65535&(x=(_>>>19|U<<13)^(U>>>29|_<<3)^_>>>6),k+=x>>>16,k+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,K[E]=65535&S|k<<16,Y[E]=65535&m|B<<16;m=65535&(M=F),B=M>>>16,S=65535&(x=L),k=x>>>16,x=r[0],B+=(M=t[0])>>>16,S+=65535&x,k+=x>>>16,k+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[0]=L=65535&S|k<<16,t[0]=F=65535&m|B<<16,m=65535&(M=I),B=M>>>16,S=65535&(x=T),k=x>>>16,x=r[1],B+=(M=t[1])>>>16,S+=65535&x,k+=x>>>16,k+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[1]=T=65535&S|k<<16,t[1]=I=65535&m|B<<16,m=65535&(M=Z),B=M>>>16,S=65535&(x=z),k=x>>>16,x=r[2],B+=(M=t[2])>>>16,S+=65535&x,k+=x>>>16,k+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[2]=z=65535&S|k<<16,t[2]=Z=65535&m|B<<16,m=65535&(M=G),B=M>>>16,S=65535&(x=R),k=x>>>16,x=r[3],B+=(M=t[3])>>>16,S+=65535&x,k+=x>>>16,k+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[3]=R=65535&S|k<<16,t[3]=G=65535&m|B<<16,m=65535&(M=q),B=M>>>16,S=65535&(x=P),k=x>>>16,x=r[4],B+=(M=t[4])>>>16,S+=65535&x,k+=x>>>16,k+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[4]=P=65535&S|k<<16,t[4]=q=65535&m|B<<16,m=65535&(M=D),B=M>>>16,S=65535&(x=N),k=x>>>16,x=r[5],B+=(M=t[5])>>>16,S+=65535&x,k+=x>>>16,k+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[5]=N=65535&S|k<<16,t[5]=D=65535&m|B<<16,m=65535&(M=V),B=M>>>16,S=65535&(x=O),k=x>>>16,x=r[6],B+=(M=t[6])>>>16,S+=65535&x,k+=x>>>16,k+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[6]=O=65535&S|k<<16,t[6]=V=65535&m|B<<16,m=65535&(M=X),B=M>>>16,S=65535&(x=C),k=x>>>16,x=r[7],B+=(M=t[7])>>>16,S+=65535&x,k+=x>>>16,k+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[7]=C=65535&S|k<<16,t[7]=X=65535&m|B<<16,H+=128,e-=128}return e}function J(r,t,n){var e,o=new Int32Array(8),i=new Int32Array(8),h=new Uint8Array(256),a=n;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,H(o,i,t,n),n%=128,e=0;e<n;e++)h[e]=t[a-n+e];for(h[n]=128,h[(n=256-128*(n<112?1:0))-9]=0,l(h,n-8,a/536870912|0,a<<3),H(o,i,h,n),e=0;e<8;e++)l(r,8*e,o[e],i[e]);return 0}function Q(r,n){var e=t(),o=t(),i=t(),h=t(),a=t(),f=t(),u=t(),c=t(),y=t();N(e,r[1],r[0]),N(y,n[1],n[0]),O(e,e,y),P(o,r[0],r[1]),P(y,n[0],n[1]),O(o,o,y),O(i,r[3],n[3]),O(i,i,s),O(h,r[2],n[2]),P(h,h,h),N(a,o,e),N(f,h,i),P(u,h,i),P(c,o,e),O(r[0],a,f),O(r[1],c,u),O(r[2],u,f),O(r[3],a,c)}function W(r,t,n){var e;for(e=0;e<4;e++)Y(r[e],t[e],n)}function $(r,n){var e=t(),o=t(),i=t();F(i,n[2]),O(e,n[0],i),O(o,n[1],i),L(r,o),r[31]^=z(e)<<7}function rr(r,t,n){var e,o;for(k(r[0],i),k(r[1],h),k(r[2],h),k(r[3],i),o=255;o>=0;--o)W(r,t,e=n[o/8|0]>>(7&o)&1),Q(t,r),Q(r,r),W(r,t,e)}function tr(r,n){var e=[t(),t(),t(),t()];k(e[0],u),k(e[1],c),k(e[2],h),O(e[3],u,c),rr(r,e,n)}function nr(r,e,o){var i,h=new Uint8Array(64),a=[t(),t(),t(),t()];for(o||n(e,32),J(h,e,32),h[0]&=248,h[31]&=127,h[31]|=64,tr(a,h),$(r,a),i=0;i<32;i++)e[i+32]=r[i];return 0}var er=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function or(r,t){var n,e,o,i;for(e=63;e>=32;--e){for(n=0,o=e-32,i=e-12;o<i;++o)t[o]+=n-16*t[e]*er[o-(e-32)],n=Math.floor((t[o]+128)/256),t[o]-=256*n;t[o]+=n,t[e]=0}for(n=0,o=0;o<32;o++)t[o]+=n-(t[31]>>4)*er[o],n=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=n*er[o];for(e=0;e<32;e++)t[e+1]+=t[e]>>8,r[e]=255&t[e]}function ir(r){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=r[t];for(t=0;t<64;t++)r[t]=0;or(r,n)}function hr(r,n,e,o){var i,h,a=new Uint8Array(64),f=new Uint8Array(64),s=new Uint8Array(64),u=new Float64Array(64),c=[t(),t(),t(),t()];J(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64;var y=e+64;for(i=0;i<e;i++)r[64+i]=n[i];for(i=0;i<32;i++)r[32+i]=a[32+i];for(J(s,r.subarray(32),e+32),ir(s),tr(c,s),$(r,c),i=32;i<64;i++)r[i]=o[i];for(J(f,r,e+64),ir(f),i=0;i<64;i++)u[i]=0;for(i=0;i<32;i++)u[i]=s[i];for(i=0;i<32;i++)for(h=0;h<32;h++)u[i+h]+=f[i]*a[h];return or(r.subarray(32),u),y}function ar(r,n,e,o){var a,s=new Uint8Array(32),u=new Uint8Array(64),c=[t(),t(),t(),t()],l=[t(),t(),t(),t()];if(e<64)return-1;if(function(r,n){var e=t(),o=t(),a=t(),s=t(),u=t(),c=t(),l=t();return k(r[2],h),R(r[1],n),C(a,r[1]),O(s,a,f),N(a,a,r[2]),P(s,r[2],s),C(u,s),C(c,u),O(l,c,u),O(e,l,a),O(e,e,s),I(e,e),O(e,e,a),O(e,e,s),O(e,e,s),O(r[0],e,s),C(o,r[0]),O(o,o,s),T(o,a)&&O(r[0],r[0],y),C(o,r[0]),O(o,o,s),T(o,a)?-1:(z(r[0])===n[31]>>7&&N(r[0],i,r[0]),O(r[3],r[0],r[1]),0)}(l,o))return-1;for(a=0;a<e;a++)r[a]=n[a];for(a=0;a<32;a++)r[a+32]=o[a];if(J(u,r,e),ir(u),rr(c,l,u),tr(l,n.subarray(32)),Q(c,l),$(s,c),e-=64,p(n,0,s,0)){for(a=0;a<e;a++)r[a]=0;return-1}for(a=0;a<e;a++)r[a]=n[a+64];return e}var fr=32,sr=24,ur=32,cr=32,yr=sr;function lr(r,t){if(r.length!==fr)throw new Error("bad key size");if(t.length!==sr)throw new Error("bad nonce size")}function wr(){for(var r=0;r<arguments.length;r++)if(!(arguments[r]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function vr(r){for(var t=0;t<r.length;t++)r[t]=0}r.lowlevel={crypto_core_hsalsa20:g,crypto_stream_xor:E,crypto_stream:d,crypto_stream_salsa20_xor:_,crypto_stream_salsa20:U,crypto_onetimeauth:M,crypto_onetimeauth_verify:m,crypto_verify_16:v,crypto_verify_32:p,crypto_secretbox:B,crypto_secretbox_open:S,crypto_scalarmult:Z,crypto_scalarmult_base:G,crypto_box_beforenm:D,crypto_box_afternm:V,crypto_box:function(r,t,n,e,o,i){var h=new Uint8Array(32);return D(h,o,i),V(r,t,n,e,h)},crypto_box_open:function(r,t,n,e,o,i){var h=new Uint8Array(32);return D(h,o,i),X(r,t,n,e,h)},crypto_box_keypair:q,crypto_hash:J,crypto_sign:hr,crypto_sign_keypair:nr,crypto_sign_open:ar,crypto_secretbox_KEYBYTES:fr,crypto_secretbox_NONCEBYTES:sr,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:ur,crypto_box_SECRETKEYBYTES:cr,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:yr,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:f,L:er,pack25519:L,unpack25519:R,M:O,A:P,S:C,Z:N,pow2523:I,add:Q,set25519:k,modL:or,scalarmult:rr,scalarbase:tr},r.randomBytes=function(r){var t=new Uint8Array(r);return n(t,r),t},r.secretbox=function(r,t,n){wr(r,t,n),lr(n,t);for(var e=new Uint8Array(32+r.length),o=new Uint8Array(e.length),i=0;i<r.length;i++)e[i+32]=r[i];return B(o,e,e.length,t,n),o.subarray(16)},r.secretbox.open=function(r,t,n){wr(r,t,n),lr(n,t);for(var e=new Uint8Array(16+r.length),o=new Uint8Array(e.length),i=0;i<r.length;i++)e[i+16]=r[i];return e.length<32?null:0!==S(o,e,e.length,t,n)?null:o.subarray(32)},r.secretbox.keyLength=fr,r.secretbox.nonceLength=sr,r.secretbox.overheadLength=16,r.scalarMult=function(r,t){if(wr(r,t),32!==r.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return Z(n,r,t),n},r.scalarMult.base=function(r){if(wr(r),32!==r.length)throw new Error("bad n size");var t=new Uint8Array(32);return G(t,r),t},r.scalarMult.scalarLength=32,r.scalarMult.groupElementLength=32,r.box=function(t,n,e,o){var i=r.box.before(e,o);return r.secretbox(t,n,i)},r.box.before=function(r,t){wr(r,t),function(r,t){if(r.length!==ur)throw new Error("bad public key size");if(t.length!==cr)throw new Error("bad secret key size")}(r,t);var n=new Uint8Array(32);return D(n,r,t),n},r.box.after=r.secretbox,r.box.open=function(t,n,e,o){var i=r.box.before(e,o);return r.secretbox.open(t,n,i)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var r=new Uint8Array(ur),t=new Uint8Array(cr);return q(r,t),{publicKey:r,secretKey:t}},r.box.keyPair.fromSecretKey=function(r){if(wr(r),r.length!==cr)throw new Error("bad secret key size");var t=new Uint8Array(ur);return G(t,r),{publicKey:t,secretKey:new Uint8Array(r)}},r.box.publicKeyLength=ur,r.box.secretKeyLength=cr,r.box.sharedKeyLength=32,r.box.nonceLength=yr,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(r,t){if(wr(r,t),64!==t.length)throw new Error("bad secret key size");var n=new Uint8Array(64+r.length);return hr(n,r,r.length,t),n},r.sign.open=function(r,t){if(wr(r,t),32!==t.length)throw new Error("bad public key size");var n=new Uint8Array(r.length),e=ar(n,r,r.length,t);if(e<0)return null;for(var o=new Uint8Array(e),i=0;i<o.length;i++)o[i]=n[i];return o},r.sign.detached=function(t,n){for(var e=r.sign(t,n),o=new Uint8Array(64),i=0;i<o.length;i++)o[i]=e[i];return o},r.sign.detached.verify=function(r,t,n){if(wr(r,t,n),64!==t.length)throw new Error("bad signature size");if(32!==n.length)throw new Error("bad public key size");var e,o=new Uint8Array(64+r.length),i=new Uint8Array(64+r.length);for(e=0;e<64;e++)o[e]=t[e];for(e=0;e<r.length;e++)o[e+64]=r[e];return ar(i,o,o.length,n)>=0},r.sign.keyPair=function(){var r=new Uint8Array(32),t=new Uint8Array(64);return nr(r,t),{publicKey:r,secretKey:t}},r.sign.keyPair.fromSecretKey=function(r){if(wr(r),64!==r.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),n=0;n<t.length;n++)t[n]=r[32+n];return{publicKey:t,secretKey:new Uint8Array(r)}},r.sign.keyPair.fromSeed=function(r){if(wr(r),32!==r.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),n=new Uint8Array(64),e=0;e<32;e++)n[e]=r[e];return nr(t,n,!0),{publicKey:t,secretKey:n}},r.sign.publicKeyLength=32,r.sign.secretKeyLength=64,r.sign.seedLength=32,r.sign.signatureLength=64,r.hash=function(r){wr(r);var t=new Uint8Array(64);return J(t,r,r.length),t},r.hash.hashLength=64,r.verify=function(r,t){return wr(r,t),0!==r.length&&0!==t.length&&(r.length===t.length&&0===w(r,0,t,0,r.length))},r.setPRNG=function(r){n=r},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){r.setPRNG(function(r,n){var e,o=new Uint8Array(n);for(e=0;e<n;e+=65536)t.getRandomValues(o.subarray(e,e+Math.min(n-e,65536)));for(e=0;e<n;e++)r[e]=o[e];vr(o)})}else"undefined"!=typeof require&&(t=require("crypto"))&&t.randomBytes&&r.setPRNG(function(r,n){var e,o=t.randomBytes(n);for(e=0;e<n;e++)r[e]=o[e];vr(o)})}()}("undefined"!=typeof module&&module.exports?module.exports:self.nacl=self.nacl||{});

},{"crypto":71}],138:[function(require,module,exports){
module.exports=require("./lib");

},{"./lib":141}],139:[function(require,module,exports){
var cache=function(n){var c,t=!1;return n instanceof Function||(t=!0,c=n,n=null),function(){return t||(t=!0,c=n.apply(this,arguments),n=null),c}};module.exports=cache;

},{}],140:[function(require,module,exports){
module.exports=function l(e,n,t){if(t||(t=[]),t.length<e.length){var g=e[t.length];for(var h in g)t[t.length]=g[h],l(e,n,t),--t.length}else n.apply(null,t)};

},{}],141:[function(require,module,exports){
module.exports={cache:require("./cache"),eachCombination:require("./eachCombination")};

},{"./cache":139,"./eachCombination":140}],142:[function(require,module,exports){
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.URI=e.URI||{})}(this,function(e){"use strict";function r(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];if(r.length>1){r[0]=r[0].slice(0,-1);for(var o=r.length-1,n=1;n<o;++n)r[n]=r[n].slice(1,-1);return r[o]=r[o].slice(1),r.join("")}return r[0]}function t(e){return"(?:"+e+")"}function o(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function n(e){return e.toUpperCase()}function a(e){var o=r("[0-9]","[A-Fa-f]"),n=t(t("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+t("%[89A-Fa-f]"+o+"%"+o+o)+"|"+t("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",i=r("[\\:\\/\\?\\#\\[\\]\\@]",a),s=e?"[\\uE000-\\uF8FF]":"[]",u=r("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),c=t("[A-Za-z]"+r("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),p=t(t(n+"|"+r(u,a,"[\\:]"))+"*"),h=(t(t("25[0-5]")+"|"+t("2[0-4][0-9]")+"|"+t("1[0-9][0-9]")+"|"+t("[1-9][0-9]")+"|[0-9]"),t(t("25[0-5]")+"|"+t("2[0-4][0-9]")+"|"+t("1[0-9][0-9]")+"|"+t("0?[1-9][0-9]")+"|0?0?[0-9]")),f=t(h+"\\."+h+"\\."+h+"\\."+h),l=t(o+"{1,4}"),v=t(t(l+"\\:"+l)+"|"+f),d=t(t(l+"\\:")+"{6}"+v),m=t("\\:\\:"+t(l+"\\:")+"{5}"+v),g=t(t(l)+"?\\:\\:"+t(l+"\\:")+"{4}"+v),E=t(t(t(l+"\\:")+"{0,1}"+l)+"?\\:\\:"+t(l+"\\:")+"{3}"+v),C=t(t(t(l+"\\:")+"{0,2}"+l)+"?\\:\\:"+t(l+"\\:")+"{2}"+v),y=t(t(t(l+"\\:")+"{0,3}"+l)+"?\\:\\:"+l+"\\:"+v),S=t(t(t(l+"\\:")+"{0,4}"+l)+"?\\:\\:"+v),A=t(t(t(l+"\\:")+"{0,5}"+l)+"?\\:\\:"+l),D=t(t(t(l+"\\:")+"{0,6}"+l)+"?\\:\\:"),w=t([d,m,g,E,C,y,S,A,D].join("|")),b=t(t(u+"|"+n)+"+"),x=(t(w+"\\%25"+b),t(w+t("\\%25|\\%(?!"+o+"{2})")+b)),O=t("[vV]"+o+"+\\."+r(u,a,"[\\:]")+"+"),N=t("\\["+t(x+"|"+w+"|"+O)+"\\]"),I=t(t(n+"|"+r(u,a))+"*"),F=t(N+"|"+f+"(?!"+I+")|"+I),R=t("[0-9]*"),T=t(t(p+"@")+"?"+F+t("\\:"+R)+"?"),_=t(n+"|"+r(u,a,"[\\:\\@]")),P=t(_+"*"),q=t(_+"+"),U=t(t(n+"|"+r(u,a,"[\\@]"))+"+"),j=t(t("\\/"+P)+"*"),H=t("\\/"+t(q+j)+"?"),z=t(U+j),L=t(q+j),$="(?!"+_+")",V=(t(j+"|"+H+"|"+z+"|"+L+"|"+$),t(t(_+"|"+r("[\\/\\?]",s))+"*")),M=t(t(_+"|[\\/\\?]")+"*"),Z=t(t("\\/\\/"+T+j)+"|"+H+"|"+L+"|"+$),k=t(c+"\\:"+Z+t("\\?"+V)+"?"+t("\\#"+M)+"?"),G=t(t("\\/\\/"+T+j)+"|"+H+"|"+z+"|"+$),Q=t(G+t("\\?"+V)+"?"+t("\\#"+M)+"?");t(k+"|"+Q),t(c+"\\:"+Z+t("\\?"+V)+"?"),t(t("\\/\\/("+t("("+p+")@")+"?("+F+")"+t("\\:("+R+")")+"?)")+"?("+j+"|"+H+"|"+L+"|"+$+")"),t("\\?("+V+")"),t("\\#("+M+")"),t(t("\\/\\/("+t("("+p+")@")+"?("+F+")"+t("\\:("+R+")")+"?)")+"?("+j+"|"+H+"|"+z+"|"+$+")"),t("\\?("+V+")"),t("\\#("+M+")"),t(t("\\/\\/("+t("("+p+")@")+"?("+F+")"+t("\\:("+R+")")+"?)")+"?("+j+"|"+H+"|"+L+"|"+$+")"),t("\\?("+V+")"),t("\\#("+M+")"),t("("+p+")@"),t("\\:("+R+")");return{NOT_SCHEME:new RegExp(r("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(r("[^\\%]",u,a,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",u,i),"g"),PCT_ENCODED:new RegExp(n,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+w+")"+t(t("\\%25|\\%(?!"+o+"{2})")+"("+b+")")+"?\\]?$")}}var i=a(!1),s=a(!0),u=function(){return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],o=!0,n=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(t.push(i.value),!r||t.length!==r);o=!0);}catch(e){n=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(n)throw a}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=2147483647,p=/^xn--/,h=/[^\0-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,d=String.fromCharCode;function m(e){throw new RangeError(l[e])}function g(e,r){var t=e.split("@"),o="";t.length>1&&(o=t[0]+"@",e=t[1]);var n=function(e,r){for(var t=[],o=e.length;o--;)t[o]=r(e[o]);return t}((e=e.replace(f,".")).split("."),r).join(".");return o+n}function E(e){for(var r=[],t=0,o=e.length;t<o;){var n=e.charCodeAt(t++);if(n>=55296&&n<=56319&&t<o){var a=e.charCodeAt(t++);56320==(64512&a)?r.push(((1023&n)<<10)+(1023&a)+65536):(r.push(n),t--)}else r.push(n)}return r}var C=function(e,r){return e+22+75*(e<26)-((0!=r)<<5)},y=function(e,r,t){var o=0;for(e=t?v(e/700):e>>1,e+=v(e/r);e>455;o+=36)e=v(e/35);return v(o+36*e/(e+38))},S=function(e){var r,t=[],o=e.length,n=0,a=128,i=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&m("not-basic"),t.push(e.charCodeAt(u));for(var p=s>0?s+1:0;p<o;){for(var h=n,f=1,l=36;;l+=36){p>=o&&m("invalid-input");var d=(r=e.charCodeAt(p++))-48<10?r-22:r-65<26?r-65:r-97<26?r-97:36;(d>=36||d>v((c-n)/f))&&m("overflow"),n+=d*f;var g=l<=i?1:l>=i+26?26:l-i;if(d<g)break;var E=36-g;f>v(c/E)&&m("overflow"),f*=E}var C=t.length+1;i=y(n-h,C,0==h),v(n/C)>c-a&&m("overflow"),a+=v(n/C),n%=C,t.splice(n++,0,a)}return String.fromCodePoint.apply(String,t)},A=function(e){var r=[],t=(e=E(e)).length,o=128,n=0,a=72,i=!0,s=!1,u=void 0;try{for(var p,h=e[Symbol.iterator]();!(i=(p=h.next()).done);i=!0){var f=p.value;f<128&&r.push(d(f))}}catch(e){s=!0,u=e}finally{try{!i&&h.return&&h.return()}finally{if(s)throw u}}var l=r.length,g=l;for(l&&r.push("-");g<t;){var S=c,A=!0,D=!1,w=void 0;try{for(var b,x=e[Symbol.iterator]();!(A=(b=x.next()).done);A=!0){var O=b.value;O>=o&&O<S&&(S=O)}}catch(e){D=!0,w=e}finally{try{!A&&x.return&&x.return()}finally{if(D)throw w}}var N=g+1;S-o>v((c-n)/N)&&m("overflow"),n+=(S-o)*N,o=S;var I=!0,F=!1,R=void 0;try{for(var T,_=e[Symbol.iterator]();!(I=(T=_.next()).done);I=!0){var P=T.value;if(P<o&&++n>c&&m("overflow"),P==o){for(var q=n,U=36;;U+=36){var j=U<=a?1:U>=a+26?26:U-a;if(q<j)break;var H=q-j,z=36-j;r.push(d(C(j+H%z,0))),q=v(H/z)}r.push(d(C(q,0))),a=y(n,N,g==l),n=0,++g}}}catch(e){F=!0,R=e}finally{try{!I&&_.return&&_.return()}finally{if(F)throw R}}++n,++o}return r.join("")},D={version:"2.1.0",ucs2:{decode:E,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}(e))}},decode:S,encode:A,toASCII:function(e){return g(e,function(e){return h.test(e)?"xn--"+A(e):e})},toUnicode:function(e){return g(e,function(e){return p.test(e)?S(e.slice(4).toLowerCase()):e})}},w={};function b(e){var r=e.charCodeAt(0);return r<16?"%0"+r.toString(16).toUpperCase():r<128?"%"+r.toString(16).toUpperCase():r<2048?"%"+(r>>6|192).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase():"%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase()}function x(e){for(var r="",t=0,o=e.length;t<o;){var n=parseInt(e.substr(t+1,2),16);if(n<128)r+=String.fromCharCode(n),t+=3;else if(n>=194&&n<224){if(o-t>=6){var a=parseInt(e.substr(t+4,2),16);r+=String.fromCharCode((31&n)<<6|63&a)}else r+=e.substr(t,6);t+=6}else if(n>=224){if(o-t>=9){var i=parseInt(e.substr(t+4,2),16),s=parseInt(e.substr(t+7,2),16);r+=String.fromCharCode((15&n)<<12|(63&i)<<6|63&s)}else r+=e.substr(t,9);t+=9}else r+=e.substr(t,3),t+=3}return r}function O(e,r){function t(e){var t=x(e);return t.match(r.UNRESERVED)?t:e}return e.scheme&&(e.scheme=String(e.scheme).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(r.PCT_ENCODED,t).replace(r.NOT_USERINFO,b).replace(r.PCT_ENCODED,n)),void 0!==e.host&&(e.host=String(e.host).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_HOST,b).replace(r.PCT_ENCODED,n)),void 0!==e.path&&(e.path=String(e.path).replace(r.PCT_ENCODED,t).replace(e.scheme?r.NOT_PATH:r.NOT_PATH_NOSCHEME,b).replace(r.PCT_ENCODED,n)),void 0!==e.query&&(e.query=String(e.query).replace(r.PCT_ENCODED,t).replace(r.NOT_QUERY,b).replace(r.PCT_ENCODED,n)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(r.PCT_ENCODED,t).replace(r.NOT_FRAGMENT,b).replace(r.PCT_ENCODED,n)),e}function N(e){return e.replace(/^0*(.*)/,"$1")||"0"}function I(e,r){var t=e.match(r.IPV4ADDRESS)||[],o=u(t,2)[1];return o?o.split(".").map(N).join("."):e}function F(e,r){var t=e.match(r.IPV6ADDRESS)||[],o=u(t,3),n=o[1],a=o[2];if(n){for(var i=n.toLowerCase().split("::").reverse(),s=u(i,2),c=s[0],p=s[1],h=p?p.split(":").map(N):[],f=c.split(":").map(N),l=r.IPV4ADDRESS.test(f[f.length-1]),v=l?7:8,d=f.length-v,m=Array(v),g=0;g<v;++g)m[g]=h[g]||f[d+g]||"";l&&(m[v-1]=I(m[v-1],r));var E=m.reduce(function(e,r,t){if(!r||"0"===r){var o=e[e.length-1];o&&o.index+o.length===t?o.length++:e.push({index:t,length:1})}return e},[]).sort(function(e,r){return r.length-e.length})[0],C=void 0;if(E&&E.length>1){var y=m.slice(0,E.index),S=m.slice(E.index+E.length);C=y.join(":")+"::"+S.join(":")}else C=m.join(":");return a&&(C+="%"+a),C}return e}var R=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,T=void 0==="".match(/(){0}/)[1];function _(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={},o=!1!==r.iri?s:i;"suffix"===r.reference&&(e=(r.scheme?r.scheme+":":"")+"//"+e);var n=e.match(R);if(n){T?(t.scheme=n[1],t.userinfo=n[3],t.host=n[4],t.port=parseInt(n[5],10),t.path=n[6]||"",t.query=n[7],t.fragment=n[8],isNaN(t.port)&&(t.port=n[5])):(t.scheme=n[1]||void 0,t.userinfo=-1!==e.indexOf("@")?n[3]:void 0,t.host=-1!==e.indexOf("//")?n[4]:void 0,t.port=parseInt(n[5],10),t.path=n[6]||"",t.query=-1!==e.indexOf("?")?n[7]:void 0,t.fragment=-1!==e.indexOf("#")?n[8]:void 0,isNaN(t.port)&&(t.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?n[4]:void 0)),t.host&&(t.host=F(I(t.host,o),o)),void 0!==t.scheme||void 0!==t.userinfo||void 0!==t.host||void 0!==t.port||t.path||void 0!==t.query?void 0===t.scheme?t.reference="relative":void 0===t.fragment?t.reference="absolute":t.reference="uri":t.reference="same-document",r.reference&&"suffix"!==r.reference&&r.reference!==t.reference&&(t.error=t.error||"URI is not a "+r.reference+" reference.");var a=w[(r.scheme||t.scheme||"").toLowerCase()];if(r.unicodeSupport||a&&a.unicodeSupport)O(t,o);else{if(t.host&&(r.domainHost||a&&a.domainHost))try{t.host=D.toASCII(t.host.replace(o.PCT_ENCODED,x).toLowerCase())}catch(e){t.error=t.error||"Host's domain name can not be converted to ASCII via punycode: "+e}O(t,i)}a&&a.parse&&a.parse(t,r)}else t.error=t.error||"URI can not be parsed.";return t}var P=/^\.\.?\//,q=/^\/\.(\/|$)/,U=/^\/\.\.(\/|$)/,j=/^\/?(?:.|\n)*?(?=\/|$)/;function H(e){for(var r=[];e.length;)if(e.match(P))e=e.replace(P,"");else if(e.match(q))e=e.replace(q,"/");else if(e.match(U))e=e.replace(U,"/"),r.pop();else if("."===e||".."===e)e="";else{var t=e.match(j);if(!t)throw new Error("Unexpected dot segment condition");var o=t[0];e=e.slice(o.length),r.push(o)}return r.join("")}function z(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.iri?s:i,o=[],n=w[(r.scheme||e.scheme||"").toLowerCase()];if(n&&n.serialize&&n.serialize(e,r),e.host)if(t.IPV6ADDRESS.test(e.host));else if(r.domainHost||n&&n.domainHost)try{e.host=r.iri?D.toUnicode(e.host):D.toASCII(e.host.replace(t.PCT_ENCODED,x).toLowerCase())}catch(t){e.error=e.error||"Host's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+t}O(e,t),"suffix"!==r.reference&&e.scheme&&(o.push(e.scheme),o.push(":"));var a=function(e,r){var t=!1!==r.iri?s:i,o=[];return void 0!==e.userinfo&&(o.push(e.userinfo),o.push("@")),void 0!==e.host&&o.push(F(I(String(e.host),t),t).replace(t.IPV6ADDRESS,function(e,r,t){return"["+r+(t?"%25"+t:"")+"]"})),"number"!=typeof e.port&&"string"!=typeof e.port||(o.push(":"),o.push(String(e.port))),o.length?o.join(""):void 0}(e,r);if(void 0!==a&&("suffix"!==r.reference&&o.push("//"),o.push(a),e.path&&"/"!==e.path.charAt(0)&&o.push("/")),void 0!==e.path){var u=e.path;r.absolutePath||n&&n.absolutePath||(u=H(u)),void 0===a&&(u=u.replace(/^\/\//,"/%2F")),o.push(u)}return void 0!==e.query&&(o.push("?"),o.push(e.query)),void 0!==e.fragment&&(o.push("#"),o.push(e.fragment)),o.join("")}function L(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={};return arguments[3]||(e=_(z(e,t),t),r=_(z(r,t),t)),!(t=t||{}).tolerant&&r.scheme?(o.scheme=r.scheme,o.userinfo=r.userinfo,o.host=r.host,o.port=r.port,o.path=H(r.path||""),o.query=r.query):(void 0!==r.userinfo||void 0!==r.host||void 0!==r.port?(o.userinfo=r.userinfo,o.host=r.host,o.port=r.port,o.path=H(r.path||""),o.query=r.query):(r.path?("/"===r.path.charAt(0)?o.path=H(r.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+r.path:o.path=r.path:o.path="/"+r.path,o.path=H(o.path)),o.query=r.query):(o.path=e.path,void 0!==r.query?o.query=r.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=r.fragment,o}function $(e,r){return e&&e.toString().replace(r&&r.iri?s.PCT_ENCODED:i.PCT_ENCODED,x)}var V={scheme:"http",domainHost:!0,parse:function(e,r){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,r){var t="https"===String(e.scheme).toLowerCase();return e.port!==(t?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},M={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize};function Z(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var k={scheme:"ws",domainHost:!0,parse:function(e,r){var t=e;return t.secure=Z(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t},serialize:function(e,r){if(e.port!==(Z(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var t=e.resourceName.split("?"),o=u(t,2),n=o[0],a=o[1];e.path=n&&"/"!==n?n:void 0,e.query=a,e.resourceName=void 0}return e.fragment=void 0,e}},G={scheme:"wss",domainHost:k.domainHost,parse:k.parse,serialize:k.serialize},Q={},Y="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",B="[0-9A-Fa-f]",J=t(t("%[EFef][0-9A-Fa-f]%"+B+B+"%"+B+B)+"|"+t("%[89A-Fa-f][0-9A-Fa-f]%"+B+B)+"|"+t("%"+B+B)),K=r("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),W=new RegExp(Y,"g"),X=new RegExp(J,"g"),ee=new RegExp(r("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',K),"g"),re=new RegExp(r("[^]",Y,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),te=re;function oe(e){var r=x(e);return r.match(W)?r:e}var ne={scheme:"mailto",parse:function(e,r){var t=e,o=t.to=t.path?t.path.split(","):[];if(t.path=void 0,t.query){for(var n=!1,a={},i=t.query.split("&"),s=0,u=i.length;s<u;++s){var c=i[s].split("=");switch(c[0]){case"to":for(var p=c[1].split(","),h=0,f=p.length;h<f;++h)o.push(p[h]);break;case"subject":t.subject=$(c[1],r);break;case"body":t.body=$(c[1],r);break;default:n=!0,a[$(c[0],r)]=$(c[1],r)}}n&&(t.headers=a)}t.query=void 0;for(var l=0,v=o.length;l<v;++l){var d=o[l].split("@");if(d[0]=$(d[0]),r.unicodeSupport)d[1]=$(d[1],r).toLowerCase();else try{d[1]=D.toASCII($(d[1],r).toLowerCase())}catch(e){t.error=t.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}o[l]=d.join("@")}return t},serialize:function(e,r){var t,o=e,a=null!=(t=e.to)?t instanceof Array?t:"number"!=typeof t.length||t.split||t.setInterval||t.call?[t]:Array.prototype.slice.call(t):[];if(a){for(var i=0,s=a.length;i<s;++i){var u=String(a[i]),c=u.lastIndexOf("@"),p=u.slice(0,c).replace(X,oe).replace(X,n).replace(ee,b),h=u.slice(c+1);try{h=r.iri?D.toUnicode(h):D.toASCII($(h,r).toLowerCase())}catch(e){o.error=o.error||"Email address's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+e}a[i]=p+"@"+h}o.path=a.join(",")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var l=[];for(var v in f)f[v]!==Q[v]&&l.push(v.replace(X,oe).replace(X,n).replace(re,b)+"="+f[v].replace(X,oe).replace(X,n).replace(te,b));return l.length&&(o.query=l.join("&")),o}},ae=/^([^\:]+)\:(.*)/,ie={scheme:"urn",parse:function(e,r){var t=e.path&&e.path.match(ae),o=e;if(t){var n=r.scheme||o.scheme||"urn",a=t[1].toLowerCase(),i=t[2],s=n+":"+(r.nid||a),u=w[s];o.nid=a,o.nss=i,o.path=void 0,u&&(o=u.parse(o,r))}else o.error=o.error||"URN can not be parsed.";return o},serialize:function(e,r){var t=r.scheme||e.scheme||"urn",o=e.nid,n=t+":"+(r.nid||o),a=w[n];a&&(e=a.serialize(e,r));var i=e,s=e.nss;return i.path=(o||r.nid)+":"+s,i}},se=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ue={scheme:"urn:uuid",parse:function(e,r){var t=e;return t.uuid=t.nss,t.nss=void 0,r.tolerant||t.uuid&&t.uuid.match(se)||(t.error=t.error||"UUID is not valid."),t},serialize:function(e,r){var t=e;return t.nss=(e.uuid||"").toLowerCase(),t}};w[V.scheme]=V,w[M.scheme]=M,w[k.scheme]=k,w[G.scheme]=G,w[ne.scheme]=ne,w[ie.scheme]=ie,w[ue.scheme]=ue,e.SCHEMES=w,e.pctEncChar=b,e.pctDecChars=x,e.parse=_,e.removeDotSegments=H,e.serialize=z,e.resolveComponents=L,e.resolve=function(e,r,t){var o=function(e,r){var t=e;if(r)for(var o in r)t[o]=r[o];return t}({scheme:"null"},t);return z(L(_(e,o),_(r,o),o,!0),o)},e.normalize=function(e,r){return"string"==typeof e?e=z(_(e,r),r):"object"===o(e)&&(e=_(z(e,r),r)),e},e.equal=function(e,r,t){return"string"==typeof e?e=z(_(e,t),t):"object"===o(e)&&(e=z(e,t)),"string"==typeof r?r=z(_(r,t),t):"object"===o(r)&&(r=z(r,t)),e===r},e.escapeComponent=function(e,r){return e&&e.toString().replace(r&&r.iri?s.ESCAPE:i.ESCAPE,b)},e.unescapeComponent=$,Object.defineProperty(e,"__esModule",{value:!0})});

},{}],143:[function(require,module,exports){
"use strict";var punycode=require("punycode"),util=require("./util");function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");function urlParse(t,s,e){if(t&&util.isObject(t)&&t instanceof Url)return t;var h=new Url;return h.parse(t,s,e),h}function urlFormat(t){return util.isString(t)&&(t=urlParse(t)),t instanceof Url?t.format():Url.prototype.format.call(t)}function urlResolve(t,s){return urlParse(t,!1,!0).resolve(s)}function urlResolveObject(t,s){return t?urlParse(t,!1,!0).resolveObject(s):s}Url.prototype.parse=function(t,s,e){if(!util.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var h=t.indexOf("?"),r=-1!==h&&h<t.indexOf("#")?"?":"#",a=t.split(r);a[0]=a[0].replace(/\\/g,"/");var o=t=a.join(r);if(o=o.trim(),!e&&1===t.split("#").length){var n=simplePathPattern.exec(o);if(n)return this.path=o,this.href=o,this.pathname=n[1],n[2]?(this.search=n[2],this.query=s?querystring.parse(this.search.substr(1)):this.search.substr(1)):s&&(this.search="",this.query={}),this}var i=protocolPattern.exec(o);if(i){var l=(i=i[0]).toLowerCase();this.protocol=l,o=o.substr(i.length)}if(e||i||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var u="//"===o.substr(0,2);!u||i&&hostlessProtocol[i]||(o=o.substr(2),this.slashes=!0)}if(!hostlessProtocol[i]&&(u||i&&!slashedProtocol[i])){for(var p,c,f=-1,m=0;m<hostEndingChars.length;m++){-1!==(v=o.indexOf(hostEndingChars[m]))&&(-1===f||v<f)&&(f=v)}-1!==(c=-1===f?o.lastIndexOf("@"):o.lastIndexOf("@",f))&&(p=o.slice(0,c),o=o.slice(c+1),this.auth=decodeURIComponent(p)),f=-1;for(m=0;m<nonHostChars.length;m++){var v;-1!==(v=o.indexOf(nonHostChars[m]))&&(-1===f||v<f)&&(f=v)}-1===f&&(f=o.length),this.host=o.slice(0,f),o=o.slice(f),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var y=this.hostname.split(/\./),P=(m=0,y.length);m<P;m++){var d=y[m];if(d&&!d.match(hostnamePartPattern)){for(var b="",q=0,O=d.length;q<O;q++)d.charCodeAt(q)>127?b+="x":b+=d[q];if(!b.match(hostnamePartPattern)){var j=y.slice(0,m),x=y.slice(m+1),U=d.match(hostnamePartStart);U&&(j.push(U[1]),x.unshift(U[2])),x.length&&(o="/"+x.join(".")+o),this.hostname=j.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=punycode.toASCII(this.hostname));var C=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+C,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!unsafeProtocol[l])for(m=0,P=autoEscape.length;m<P;m++){var w=autoEscape[m];if(-1!==o.indexOf(w)){var E=encodeURIComponent(w);E===w&&(E=escape(w)),o=o.split(w).join(E)}}var I=o.indexOf("#");-1!==I&&(this.hash=o.substr(I),o=o.slice(0,I));var R=o.indexOf("?");if(-1!==R?(this.search=o.substr(R),this.query=o.substr(R+1),s&&(this.query=querystring.parse(this.query)),o=o.slice(0,R)):s&&(this.search="",this.query={}),o&&(this.pathname=o),slashedProtocol[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){C=this.pathname||"";var S=this.search||"";this.path=C+S}return this.href=this.format(),this},Url.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var s=this.protocol||"",e=this.pathname||"",h=this.hash||"",r=!1,a="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(a=querystring.stringify(this.query));var o=this.search||a&&"?"+a||"";return s&&":"!==s.substr(-1)&&(s+=":"),this.slashes||(!s||slashedProtocol[s])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),h&&"#"!==h.charAt(0)&&(h="#"+h),o&&"?"!==o.charAt(0)&&(o="?"+o),s+r+(e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(o=o.replace("#","%23"))+h},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(util.isString(t)){var s=new Url;s.parse(t,!1,!0),t=s}for(var e=new Url,h=Object.keys(this),r=0;r<h.length;r++){var a=h[r];e[a]=this[a]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),n=0;n<o.length;n++){var i=o[n];"protocol"!==i&&(e[i]=t[i])}return slashedProtocol[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!slashedProtocol[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var p=l[u];e[p]=t[p]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||hostlessProtocol[t.protocol])e.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),e.pathname=c.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var f=e.pathname||"",m=e.search||"";e.path=f+m}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var v=e.pathname&&"/"===e.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=g||v||e.host&&t.pathname,P=y,d=e.pathname&&e.pathname.split("/")||[],b=(c=t.pathname&&t.pathname.split("/")||[],e.protocol&&!slashedProtocol[e.protocol]);if(b&&(e.hostname="",e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),y=y&&(""===c[0]||""===d[0])),g)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,d=c;else if(c.length)d||(d=[]),d.pop(),d=d.concat(c),e.search=t.search,e.query=t.query;else if(!util.isNullOrUndefined(t.search)){if(b)e.hostname=e.host=d.shift(),(U=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=U.shift(),e.host=e.hostname=U.shift());return e.search=t.search,e.query=t.query,util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!d.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var q=d.slice(-1)[0],O=(e.host||t.host||d.length>1)&&("."===q||".."===q)||""===q,j=0,x=d.length;x>=0;x--)"."===(q=d[x])?d.splice(x,1):".."===q?(d.splice(x,1),j++):j&&(d.splice(x,1),j--);if(!y&&!P)for(;j--;j)d.unshift("..");!y||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),O&&"/"!==d.join("/").substr(-1)&&d.push("");var U,C=""===d[0]||d[0]&&"/"===d[0].charAt(0);b&&(e.hostname=e.host=C?"":d.length?d.shift():"",(U=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=U.shift(),e.host=e.hostname=U.shift()));return(y=y||e.host&&d.length)&&!C&&d.unshift(""),d.length?e.pathname=d.join("/"):(e.pathname=null,e.path=null),util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Url.prototype.parseHost=function(){var t=this.host,s=portPattern.exec(t);s&&(":"!==(s=s[0])&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};

},{"./util":144,"punycode":107,"querystring":110}],144:[function(require,module,exports){
"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}};

},{}],145:[function(require,module,exports){
(function (global){(function (){
function deprecate(r,e){if(config("noDeprecation"))return r;var o=!1;return function(){if(!o){if(config("throwDeprecation"))throw new Error(e);config("traceDeprecation")?console.trace(e):console.warn(e),o=!0}return r.apply(this,arguments)}}function config(r){try{if(!global.localStorage)return!1}catch(r){return!1}var e=global.localStorage[r];return null!=e&&"true"===String(e).toLowerCase()}module.exports=deprecate;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],146:[function(require,module,exports){
module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}

},{}],147:[function(require,module,exports){
(function (process,Buffer){(function (){
"use strict";var __awaiter=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,s){function o(e){try{a(i.next(e))}catch(e){s(e)}}function c(e){try{a(i.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,c)}a((i=i.apply(e,t||[])).next())})},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Account=void 0;const crypto_1=require("@near-js/crypto"),providers_1=require("@near-js/providers"),transactions_1=require("@near-js/transactions"),types_1=require("@near-js/types"),utils_1=require("@near-js/utils"),bn_js_1=__importDefault(require("bn.js")),borsh_1=require("borsh"),{addKey:addKey,createAccount:createAccount,deleteAccount:deleteAccount,deleteKey:deleteKey,deployContract:deployContract,fullAccessKey:fullAccessKey,functionCall:functionCall,functionCallAccessKey:functionCallAccessKey,stake:stake,transfer:transfer}=transactions_1.actionCreators,TX_NONCE_RETRY_NUMBER=12,TX_NONCE_RETRY_WAIT=500,TX_NONCE_RETRY_WAIT_BACKOFF=1.5;function parseJsonFromRawResponse(e){return JSON.parse(Buffer.from(e).toString())}function bytesJsonStringify(e){return Buffer.from(JSON.stringify(e))}class Account{constructor(e,t){this.accessKeyByPublicKeyCache={},this.connection=e,this.accountId=t}state(){return __awaiter(this,void 0,void 0,function*(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})})}signTransaction(e,t){return __awaiter(this,void 0,void 0,function*(){const n=yield this.findAccessKey(e,t);if(!n)throw new types_1.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`,"KeyNotFound");const{accessKey:i}=n,r=(yield this.connection.provider.block({finality:"final"})).header.hash,s=i.nonce.add(new bn_js_1.default(1));return yield(0,transactions_1.signTransaction)(e,s,t,(0,borsh_1.baseDecode)(r),this.connection.signer,this.accountId,this.connection.networkId)})}signAndSendTransaction({receiverId:e,actions:t,returnError:n}){return __awaiter(this,void 0,void 0,function*(){let i,r;const s=yield(0,providers_1.exponentialBackoff)(TX_NONCE_RETRY_WAIT,TX_NONCE_RETRY_NUMBER,TX_NONCE_RETRY_WAIT_BACKOFF,()=>__awaiter(this,void 0,void 0,function*(){[i,r]=yield this.signTransaction(e,t);const n=r.transaction.publicKey;try{return yield this.connection.provider.sendTransaction(r)}catch(t){if("InvalidNonce"===t.type)return(0,utils_1.logWarning)(`Retrying transaction ${e}:${(0,borsh_1.baseEncode)(i)} with new nonce.`),delete this.accessKeyByPublicKeyCache[n.toString()],null;if("Expired"===t.type)return(0,utils_1.logWarning)(`Retrying transaction ${e}:${(0,borsh_1.baseEncode)(i)} due to expired block hash`),null;throw t.context=new types_1.ErrorContext((0,borsh_1.baseEncode)(i)),t}}));if(!s)throw new types_1.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,utils_1.printTxOutcomeLogsAndFailures)({contractId:r.transaction.receiverId,outcome:s}),!n&&"object"==typeof s.status&&"object"==typeof s.status.Failure&&null!==s.status.Failure)throw s.status.Failure.error_message&&s.status.Failure.error_type?new types_1.TypedError(`Transaction ${s.transaction_outcome.id} failed. ${s.status.Failure.error_message}`,s.status.Failure.error_type):(0,utils_1.parseResultError)(s);return s})}findAccessKey(e,t){return __awaiter(this,void 0,void 0,function*(){const e=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!e)throw new types_1.TypedError(`no matching key pair found in ${this.connection.signer}`,"PublicKeyNotFound");const t=this.accessKeyByPublicKeyCache[e.toString()];if(void 0!==t)return{publicKey:e,accessKey:t};try{const t=yield this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:e.toString(),finality:"optimistic"}),n=Object.assign(Object.assign({},t),{nonce:new bn_js_1.default(t.nonce)});return this.accessKeyByPublicKeyCache[e.toString()]?{publicKey:e,accessKey:this.accessKeyByPublicKeyCache[e.toString()]}:(this.accessKeyByPublicKeyCache[e.toString()]=n,{publicKey:e,accessKey:n})}catch(e){if("AccessKeyDoesNotExist"==e.type)return null;throw e}})}createAndDeployContract(e,t,n,i){return __awaiter(this,void 0,void 0,function*(){const r=fullAccessKey();return yield this.signAndSendTransaction({receiverId:e,actions:[createAccount(),transfer(i),addKey(crypto_1.PublicKey.from(t),r),deployContract(n)]}),new Account(this.connection,e)})}sendMoney(e,t){return __awaiter(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:e,actions:[transfer(t)]})})}createAccount(e,t,n){return __awaiter(this,void 0,void 0,function*(){const i=fullAccessKey();return this.signAndSendTransaction({receiverId:e,actions:[createAccount(),transfer(n),addKey(crypto_1.PublicKey.from(t),i)]})})}deleteAccount(e){return __awaiter(this,void 0,void 0,function*(){return process.env.NEAR_NO_LOGS||console.log("Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting."),this.signAndSendTransaction({receiverId:this.accountId,actions:[deleteAccount(e)]})})}deployContract(e){return __awaiter(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[deployContract(e)]})})}encodeJSContractArgs(e,t,n){return Buffer.concat([Buffer.from(e),Buffer.from([0]),Buffer.from(t),Buffer.from([0]),Buffer.from(n)])}functionCall({contractId:e,methodName:t,args:n={},gas:i=utils_1.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:r,walletMeta:s,walletCallbackUrl:o,stringify:c,jsContract:a}){return __awaiter(this,void 0,void 0,function*(){let d;if(this.validateArgs(n),a){d=["call_js_contract",this.encodeJSContractArgs(e,t,JSON.stringify(n)),i,r,null,!0]}else{const e=void 0===c?transactions_1.stringifyJsonOrBytes:c;d=[t,n,i,r,e,!1]}return this.signAndSendTransaction({receiverId:a?this.connection.jsvmAccountId:e,actions:[functionCall.apply(void 0,d)],walletMeta:s,walletCallbackUrl:o})})}addKey(e,t,n,i){return __awaiter(this,void 0,void 0,function*(){let r;return n||(n=[]),Array.isArray(n)||(n=[n]),r=t?functionCallAccessKey(t,n,i):fullAccessKey(),this.signAndSendTransaction({receiverId:this.accountId,actions:[addKey(crypto_1.PublicKey.from(e),r)]})})}deleteKey(e){return __awaiter(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[deleteKey(crypto_1.PublicKey.from(e))]})})}stake(e,t){return __awaiter(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[stake(t,crypto_1.PublicKey.from(e))]})})}signedDelegate({actions:e,blockHeightTtl:t,receiverId:n}){return __awaiter(this,void 0,void 0,function*(){const{provider:i,signer:r}=this.connection,{header:s}=yield i.block({finality:"final"}),{accessKey:o,publicKey:c}=yield this.findAccessKey(null,null),a=(0,transactions_1.buildDelegateAction)({actions:e,maxBlockHeight:new bn_js_1.default(s.height).add(new bn_js_1.default(t)),nonce:new bn_js_1.default(o.nonce).add(new bn_js_1.default(1)),publicKey:c,receiverId:n,senderId:this.accountId}),{signedDelegateAction:d}=yield(0,transactions_1.signDelegateAction)({delegateAction:a,signer:{sign:e=>__awaiter(this,void 0,void 0,function*(){const{signature:t}=yield r.signMessage(e,a.senderId,this.connection.networkId);return t})}});return d})}validateArgs(e){if(!(void 0!==e.byteLength&&e.byteLength===e.length)&&(Array.isArray(e)||"object"!=typeof e))throw new types_1.PositionalArgsError}viewFunction({contractId:e,methodName:t,args:n={},parse:i=parseJsonFromRawResponse,stringify:r=bytesJsonStringify,jsContract:s=!1,blockQuery:o={finality:"optimistic"}}){return __awaiter(this,void 0,void 0,function*(){let c;this.validateArgs(n),c=s?this.encodeJSContractArgs(e,t,Object.keys(n).length>0?JSON.stringify(n):""):r(n);const a=yield this.connection.provider.query(Object.assign(Object.assign({request_type:"call_function"},o),{account_id:s?this.connection.jsvmAccountId:e,method_name:s?"view_js_contract":t,args_base64:c.toString("base64")}));return a.logs&&(0,utils_1.printTxOutcomeLogs)({contractId:e,logs:a.logs}),a.result&&a.result.length>0&&i(Buffer.from(a.result))})}viewState(e,t={finality:"optimistic"}){return __awaiter(this,void 0,void 0,function*(){const{values:n}=yield this.connection.provider.query(Object.assign(Object.assign({request_type:"view_state"},t),{account_id:this.accountId,prefix_base64:Buffer.from(e).toString("base64")}));return n.map(({key:e,value:t})=>({key:Buffer.from(e,"base64"),value:Buffer.from(t,"base64")}))})}getAccessKeys(){var e;return __awaiter(this,void 0,void 0,function*(){const t=yield this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return null===(e=null==t?void 0:t.keys)||void 0===e?void 0:e.map(e=>Object.assign(Object.assign({},e),{access_key:Object.assign(Object.assign({},e.access_key),{nonce:new bn_js_1.default(e.access_key.nonce)})}))})}getAccountDetails(){return __awaiter(this,void 0,void 0,function*(){return{authorizedApps:(yield this.getAccessKeys()).filter(e=>"FullAccess"!==e.access_key.permission).map(e=>{const t=e.access_key.permission;return{contractId:t.FunctionCall.receiver_id,amount:t.FunctionCall.allowance,publicKey:e.public_key}})}})}getAccountBalance(){return __awaiter(this,void 0,void 0,function*(){const e=yield this.connection.provider.experimental_protocolConfig({finality:"final"}),t=yield this.state(),n=new bn_js_1.default(e.runtime_config.storage_amount_per_byte),i=new bn_js_1.default(t.storage_usage).mul(n),r=new bn_js_1.default(t.locked),s=new bn_js_1.default(t.amount).add(r),o=s.sub(bn_js_1.default.max(r,i));return{total:s.toString(),stateStaked:i.toString(),staked:r.toString(),available:o.toString()}})}getActiveDelegatedStakeBalance(){return __awaiter(this,void 0,void 0,function*(){const e=yield this.connection.provider.block({finality:"final"}),t=e.header.hash,n=e.header.epoch_id,{current_validators:i,next_validators:r,current_proposals:s}=yield this.connection.provider.validators(n),o=new Set;[...i,...r,...s].forEach(e=>o.add(e.account_id));const c=[...o],a=c.map(e=>this.viewFunction({contractId:e,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:t}})),d=yield Promise.allSettled(a);if(d.some(e=>"rejected"===e.status&&"TimeoutError"===e.reason.type))throw new Error("Failed to get delegated stake balance");const u=d.reduce((e,t,n)=>{const i=c[n];if("fulfilled"===t.status){const n=new bn_js_1.default(t.value);if(!n.isZero())return Object.assign(Object.assign({},e),{stakedValidators:[...e.stakedValidators,{validatorId:i,amount:n.toString()}],total:e.total.add(n)})}return"rejected"===t.status?Object.assign(Object.assign({},e),{failedValidators:[...e.failedValidators,{validatorId:i,error:t.reason}]}):e},{stakedValidators:[],failedValidators:[],total:new bn_js_1.default(0)});return Object.assign(Object.assign({},u),{total:u.total.toString()})})}}exports.Account=Account;

}).call(this)}).call(this,require('_process'),require("buffer").Buffer)
},{"@near-js/crypto":158,"@near-js/providers":202,"@near-js/transactions":212,"@near-js/types":219,"@near-js/utils":230,"_process":106,"bn.js":69,"borsh":70,"buffer":74}],148:[function(require,module,exports){
(function (Buffer){(function (){
"use strict";var __awaiter=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,s){function c(t){try{a(i.next(t))}catch(t){s(t)}}function r(t){try{a(i.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,r)}a((i=i.apply(t,e||[])).next())})},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Account2FA=void 0;const crypto_1=require("@near-js/crypto"),types_1=require("@near-js/types"),providers_1=require("@near-js/providers"),transactions_1=require("@near-js/transactions"),bn_js_1=__importDefault(require("bn.js")),account_multisig_1=require("./account_multisig"),constants_1=require("./constants"),types_2=require("./types"),{addKey:addKey,deleteKey:deleteKey,deployContract:deployContract,fullAccessKey:fullAccessKey,functionCall:functionCall,functionCallAccessKey:functionCallAccessKey}=transactions_1.actionCreators;class Account2FA extends account_multisig_1.AccountMultisig{constructor(t,e,n){super(t,e,n),this.helperUrl="https://helper.testnet.near.org",this.helperUrl=n.helperUrl||this.helperUrl,this.storage=n.storage,this.sendCode=n.sendCode||this.sendCodeDefault,this.getCode=n.getCode||this.getCodeDefault,this.verifyCode=n.verifyCode||this.verifyCodeDefault,this.onConfirmResult=n.onConfirmResult}signAndSendTransaction({receiverId:t,actions:e}){const n=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter(this,void 0,void 0,function*(){yield n.signAndSendTransaction.call(this,{receiverId:t,actions:e}),yield this.sendCode();const i=yield this.promptAndVerify();return this.onConfirmResult&&(yield this.onConfirmResult(i)),i})}deployMultisig(t){const e=Object.create(null,{signAndSendTransactionWithAccount:{get:()=>super.signAndSendTransactionWithAccount}});return __awaiter(this,void 0,void 0,function*(){const{accountId:n}=this,i=(yield this.getRecoveryMethods()).data.filter(({kind:t,publicKey:e})=>("phrase"===t||"ledger"===t)&&null!==e).map(t=>t.publicKey),o=(yield this.getAccessKeys()).filter(({public_key:t,access_key:{permission:e}})=>"FullAccess"===e&&!i.includes(t)).map(t=>t.public_key).map(toPK),s=toPK((yield this.postSignedJson("/2fa/getAccessKey",{accountId:n})).publicKey),c=Buffer.from(JSON.stringify({num_confirmations:2})),r=[...o.map(t=>deleteKey(t)),...o.map(t=>addKey(t,functionCallAccessKey(n,constants_1.MULTISIG_CHANGE_METHODS,null))),addKey(s,functionCallAccessKey(n,constants_1.MULTISIG_CONFIRM_METHODS,null)),deployContract(t)],a=r.concat(functionCall("new",c,constants_1.MULTISIG_GAS,constants_1.MULTISIG_DEPOSIT));console.log("deploying multisig contract for",n);const{stateStatus:d}=yield this.checkMultisigCodeAndStateStatus(t);switch(d){case types_2.MultisigStateStatus.STATE_NOT_INITIALIZED:return yield e.signAndSendTransactionWithAccount.call(this,n,a);case types_2.MultisigStateStatus.VALID_STATE:return yield e.signAndSendTransactionWithAccount.call(this,n,r);case types_2.MultisigStateStatus.INVALID_STATE:throw new types_1.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new types_1.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}})}disableWithFAK({contractBytes:t,cleanupContractBytes:e}){return __awaiter(this,void 0,void 0,function*(){let n=[];e&&(yield this.deleteAllRequests().catch(t=>t),n=yield this.get2faDisableCleanupActions(e));const i=yield this.get2faDisableKeyConversionActions(),o=[...n,...i,deployContract(t)],s=yield this.findAccessKey(this.accountId,o);if(s&&s.accessKey&&"FullAccess"!==s.accessKey.permission)throw new types_1.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,o)})}get2faDisableCleanupActions(t){return __awaiter(this,void 0,void 0,function*(){const e=yield this.viewState("").catch(t=>{const e=t.cause&&t.cause.name;if("NO_CONTRACT_CODE"==e)return[];throw"TOO_LARGE_CONTRACT_STATE"==e?new types_1.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):t}),n=e.map(({key:t})=>t.toString("base64"));return e.length?[deployContract(t),functionCall("clean",{keys:n},constants_1.MULTISIG_GAS,new bn_js_1.default("0"))]:[]})}get2faDisableKeyConversionActions(){return __awaiter(this,void 0,void 0,function*(){const{accountId:t}=this,e=(yield this.getAccessKeys()).filter(({access_key:t})=>"FullAccess"!==t.permission).filter(({access_key:e})=>{const n=e.permission.FunctionCall;return n.receiver_id===t&&4===n.method_names.length&&n.method_names.includes("add_request_and_confirm")}),n=crypto_1.PublicKey.from((yield this.postSignedJson("/2fa/getAccessKey",{accountId:t})).publicKey);return[deleteKey(n),...e.map(({public_key:t})=>deleteKey(crypto_1.PublicKey.from(t))),...e.map(({public_key:t})=>addKey(crypto_1.PublicKey.from(t),fullAccessKey()))]})}disable(t,e){return __awaiter(this,void 0,void 0,function*(){const{stateStatus:n}=yield this.checkMultisigCodeAndStateStatus();if(n!==types_2.MultisigStateStatus.VALID_STATE&&n!==types_2.MultisigStateStatus.STATE_NOT_INITIALIZED)throw new types_1.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");let i;yield this.deleteAllRequests().catch(t=>i=t);const o=[...yield this.get2faDisableCleanupActions(e).catch(t=>{if("ContractHasExistingState"===t.type)throw i||t;throw t}),...yield this.get2faDisableKeyConversionActions(),deployContract(t)];return console.log("disabling 2fa for",this.accountId),yield this.signAndSendTransaction({receiverId:this.accountId,actions:o})})}sendCodeDefault(){return __awaiter(this,void 0,void 0,function*(){const{accountId:t}=this,{requestId:e}=this.getRequest(),n=yield this.get2faMethod();return yield this.postSignedJson("/2fa/send",{accountId:t,method:n,requestId:e}),e})}getCodeDefault(){return __awaiter(this,void 0,void 0,function*(){throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')})}promptAndVerify(){return __awaiter(this,void 0,void 0,function*(){const t=yield this.get2faMethod(),e=yield this.getCode(t);try{return yield this.verifyCode(e)}catch(t){if(console.warn("Error validating security code:",t),t.toString().includes("invalid 2fa code provided")||t.toString().includes("2fa code not valid"))return yield this.promptAndVerify();throw t}})}verifyCodeDefault(t){return __awaiter(this,void 0,void 0,function*(){const{accountId:e}=this,n=this.getRequest();if(!n)throw new Error("no request pending");const{requestId:i}=n;return yield this.postSignedJson("/2fa/verify",{accountId:e,securityCode:t,requestId:i})})}getRecoveryMethods(){return __awaiter(this,void 0,void 0,function*(){const{accountId:t}=this;return{accountId:t,data:yield this.postSignedJson("/account/recoveryMethods",{accountId:t})}})}get2faMethod(){return __awaiter(this,void 0,void 0,function*(){let{data:t}=yield this.getRecoveryMethods();if(t&&t.length&&(t=t.find(t=>0===t.kind.indexOf("2fa-"))),!t)return null;const{kind:e,detail:n}=t;return{kind:e,detail:n}})}signatureFor(){return __awaiter(this,void 0,void 0,function*(){const{accountId:t}=this,e=(yield this.connection.provider.block({finality:"final"})).header.height.toString(),n=yield this.connection.signer.signMessage(Buffer.from(e),t,this.connection.networkId);return{blockNumber:e,blockNumberSignature:Buffer.from(n.signature).toString("base64")}})}postSignedJson(t,e){return __awaiter(this,void 0,void 0,function*(){return yield(0,providers_1.fetchJson)(this.helperUrl+t,JSON.stringify(Object.assign(Object.assign({},e),yield this.signatureFor())))})}}exports.Account2FA=Account2FA;const toPK=t=>crypto_1.PublicKey.from(t);

}).call(this)}).call(this,require("buffer").Buffer)
},{"./account_multisig":150,"./constants":152,"./types":156,"@near-js/crypto":158,"@near-js/providers":202,"@near-js/transactions":212,"@near-js/types":219,"bn.js":69,"buffer":74}],149:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(t,r,c,e){return new(c||(c=Promise))(function(o,n){function a(t){try{s(e.next(t))}catch(t){n(t)}}function i(t){try{s(e.throw(t))}catch(t){n(t)}}function s(t){var r;t.done?o(t.value):(r=t.value,r instanceof c?r:new c(function(t){t(r)})).then(a,i)}s((e=e.apply(t,r||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.UrlAccountCreator=exports.LocalAccountCreator=exports.AccountCreator=void 0;const providers_1=require("@near-js/providers");class AccountCreator{}exports.AccountCreator=AccountCreator;class LocalAccountCreator extends AccountCreator{constructor(t,r){super(),this.masterAccount=t,this.initialBalance=r}createAccount(t,r){return __awaiter(this,void 0,void 0,function*(){yield this.masterAccount.createAccount(t,r,this.initialBalance)})}}exports.LocalAccountCreator=LocalAccountCreator;class UrlAccountCreator extends AccountCreator{constructor(t,r){super(),this.connection=t,this.helperUrl=r}createAccount(t,r){return __awaiter(this,void 0,void 0,function*(){yield(0,providers_1.fetchJson)(`${this.helperUrl}/account`,JSON.stringify({newAccountId:t,newAccountPublicKey:r.toString()}))})}}exports.UrlAccountCreator=UrlAccountCreator;

},{"@near-js/providers":202}],150:[function(require,module,exports){
(function (Buffer){(function (){
"use strict";var __awaiter=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))(function(i,o){function r(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s(function(t){t(e)})).then(r,a)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AccountMultisig=void 0;const transactions_1=require("@near-js/transactions"),account_1=require("./account"),constants_1=require("./constants"),types_1=require("./types"),{deployContract:deployContract,functionCall:functionCall}=transactions_1.actionCreators;var MultisigCodeStatus;!function(t){t[t.INVALID_CODE=0]="INVALID_CODE",t[t.VALID_CODE=1]="VALID_CODE",t[t.UNKNOWN_CODE=2]="UNKNOWN_CODE"}(MultisigCodeStatus||(MultisigCodeStatus={}));const storageFallback={[constants_1.MULTISIG_STORAGE_KEY]:null};class AccountMultisig extends account_1.Account{constructor(t,e,s){super(t,e),this.storage=s.storage,this.onAddRequestResult=s.onAddRequestResult}signAndSendTransactionWithAccount(t,e){const s=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter(this,void 0,void 0,function*(){return s.signAndSendTransaction.call(this,{receiverId:t,actions:e})})}signAndSendTransaction({receiverId:t,actions:e}){const s=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter(this,void 0,void 0,function*(){const{accountId:n}=this,i=Buffer.from(JSON.stringify({request:{receiver_id:t,actions:convertActions(e,n,t)}}));let o;try{o=yield s.signAndSendTransaction.call(this,{receiverId:n,actions:[functionCall("add_request_and_confirm",i,constants_1.MULTISIG_GAS,constants_1.MULTISIG_DEPOSIT)]})}catch(s){if(s.toString().includes("Account has too many active requests. Confirm or delete some"))return yield this.deleteUnconfirmedRequests(),yield this.signAndSendTransaction({receiverId:t,actions:e});throw s}if(!o.status)throw new Error("Request failed");const r=Object.assign({},o.status);if(!r.SuccessValue||"string"!=typeof r.SuccessValue)throw new Error("Request failed");return this.setRequest({accountId:n,actions:e,requestId:parseInt(Buffer.from(r.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&(yield this.onAddRequestResult(o)),this.deleteUnconfirmedRequests(),o})}checkMultisigCodeAndStateStatus(t){const e=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter(this,void 0,void 0,function*(){const s=t?MultisigCodeStatus.UNKNOWN_CODE:MultisigCodeStatus.VALID_CODE;try{return t?yield e.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[deployContract(t),functionCall("delete_request",{request_id:4294967295},constants_1.MULTISIG_GAS,constants_1.MULTISIG_DEPOSIT)]}):yield this.deleteRequest(4294967295),{codeStatus:MultisigCodeStatus.VALID_CODE,stateStatus:types_1.MultisigStateStatus.VALID_STATE}}catch(t){if(new RegExp(types_1.MultisigDeleteRequestRejectionError.CANNOT_DESERIALIZE_STATE).test(t&&t.kind&&t.kind.ExecutionError))return{codeStatus:s,stateStatus:types_1.MultisigStateStatus.INVALID_STATE};if(new RegExp(types_1.MultisigDeleteRequestRejectionError.MULTISIG_NOT_INITIALIZED).test(t&&t.kind&&t.kind.ExecutionError))return{codeStatus:s,stateStatus:types_1.MultisigStateStatus.STATE_NOT_INITIALIZED};if(new RegExp(types_1.MultisigDeleteRequestRejectionError.NO_SUCH_REQUEST).test(t&&t.kind&&t.kind.ExecutionError))return{codeStatus:s,stateStatus:types_1.MultisigStateStatus.VALID_STATE};if(new RegExp(types_1.MultisigDeleteRequestRejectionError.METHOD_NOT_FOUND).test(t&&t.message))return{codeStatus:MultisigCodeStatus.INVALID_CODE,stateStatus:types_1.MultisigStateStatus.UNKNOWN_STATE};throw t}})}deleteRequest(t){return super.signAndSendTransaction({receiverId:this.accountId,actions:[functionCall("delete_request",{request_id:t},constants_1.MULTISIG_GAS,constants_1.MULTISIG_DEPOSIT)]})}deleteAllRequests(){return __awaiter(this,void 0,void 0,function*(){const t=yield this.getRequestIds();t.length&&(yield Promise.all(t.map(t=>this.deleteRequest(t))))})}deleteUnconfirmedRequests(){const t=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter(this,void 0,void 0,function*(){const e=yield this.getRequestIds(),{requestId:s}=this.getRequest();for(const n of e)if(n!=s)try{yield t.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[functionCall("delete_request",{request_id:n},constants_1.MULTISIG_GAS,constants_1.MULTISIG_DEPOSIT)]})}catch(t){console.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}})}getRequestIds(){return __awaiter(this,void 0,void 0,function*(){return this.viewFunction({contractId:this.accountId,methodName:"list_request_ids"})})}getRequest(){return this.storage?JSON.parse(this.storage.getItem(constants_1.MULTISIG_STORAGE_KEY)||"{}"):storageFallback[constants_1.MULTISIG_STORAGE_KEY]}setRequest(t){if(this.storage)return this.storage.setItem(constants_1.MULTISIG_STORAGE_KEY,JSON.stringify(t));storageFallback[constants_1.MULTISIG_STORAGE_KEY]=t}}exports.AccountMultisig=AccountMultisig;const convertPKForContract=t=>t.toString().replace("ed25519:",""),convertActions=(t,e,s)=>t.map(t=>{const n=t.enum,{gas:i,publicKey:o,methodName:r,args:a,deposit:c,accessKey:u,code:d}=t[n],l={type:n[0].toUpperCase()+n.substr(1),gas:i&&i.toString()||void 0,public_key:o&&convertPKForContract(o)||void 0,method_name:r,args:a&&Buffer.from(a).toString("base64")||void 0,code:d&&Buffer.from(d).toString("base64")||void 0,amount:c&&c.toString()||void 0,deposit:c&&c.toString()||"0",permission:void 0};if(u&&(s===e&&"fullAccess"!==u.permission.enum&&(l.permission={receiver_id:e,allowance:constants_1.MULTISIG_ALLOWANCE.toString(),method_names:constants_1.MULTISIG_CHANGE_METHODS}),"functionCall"===u.permission.enum)){const{receiverId:t,methodNames:e,allowance:s}=u.permission.functionCall;l.permission={receiver_id:t,allowance:s&&s.toString()||void 0,method_names:e}}return l});

}).call(this)}).call(this,require("buffer").Buffer)
},{"./account":147,"./constants":152,"./types":156,"@near-js/transactions":212,"buffer":74}],151:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Connection=void 0;const signers_1=require("@near-js/signers"),providers_1=require("@near-js/providers");function getProvider(e){switch(e.type){case void 0:return e;case"JsonRpcProvider":return new providers_1.JsonRpcProvider(Object.assign({},e.args));default:throw new Error(`Unknown provider type ${e.type}`)}}function getSigner(e){switch(e.type){case void 0:return e;case"InMemorySigner":return new signers_1.InMemorySigner(e.keyStore);default:throw new Error(`Unknown signer type ${e.type}`)}}class Connection{constructor(e,r,n,o){this.networkId=e,this.provider=r,this.signer=n,this.jsvmAccountId=o}static fromConfig(e){const r=getProvider(e.provider),n=getSigner(e.signer);return new Connection(e.networkId,r,n,e.jsvmAccountId)}}exports.Connection=Connection;

},{"@near-js/providers":202,"@near-js/signers":206}],152:[function(require,module,exports){
"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.MULTISIG_CONFIRM_METHODS=exports.MULTISIG_CHANGE_METHODS=exports.MULTISIG_DEPOSIT=exports.MULTISIG_GAS=exports.MULTISIG_ALLOWANCE=exports.MULTISIG_STORAGE_KEY=void 0;const utils_1=require("@near-js/utils"),bn_js_1=__importDefault(require("bn.js"));exports.MULTISIG_STORAGE_KEY="__multisigRequest",exports.MULTISIG_ALLOWANCE=new bn_js_1.default((0,utils_1.parseNearAmount)("1")),exports.MULTISIG_GAS=new bn_js_1.default("100000000000000"),exports.MULTISIG_DEPOSIT=new bn_js_1.default("0"),exports.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],exports.MULTISIG_CONFIRM_METHODS=["confirm"];

},{"@near-js/utils":230,"bn.js":69}],153:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(t,e,a,r){return new(a||(a=Promise))(function(n,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(o,s)}c((r=r.apply(t,e||[])).next())})},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Contract=void 0;const utils_1=require("@near-js/utils"),types_1=require("@near-js/types"),ajv_1=__importDefault(require("ajv")),ajv_formats_1=__importDefault(require("ajv-formats")),bn_js_1=__importDefault(require("bn.js")),depd_1=__importDefault(require("depd")),near_abi_1=require("near-abi"),errors_1=require("./errors");function nameFunction(t,e){return{[t]:(...t)=>e(...t)}[t]}function validateArguments(t,e,a,r){var n;if(!isObject(t))return;if(e.params&&e.params.serialization_type!==near_abi_1.AbiSerializationType.Json)throw new errors_1.UnsupportedSerializationError(e.name,e.params.serialization_type);if(e.result&&e.result.serialization_type!==near_abi_1.AbiSerializationType.Json)throw new errors_1.UnsupportedSerializationError(e.name,e.result.serialization_type);const i=(null===(n=e.params)||void 0===n?void 0:n.args)||[];for(const e of i){const n=t[e.name],i=e.type_schema;i.definitions=r.body.root_schema.definitions;const o=a.compile(i);if(!o(n))throw new errors_1.ArgumentSchemaError(e.name,o.errors)}for(const e of Object.keys(t)){if(!i.find(t=>t.name===e))throw new errors_1.UnknownArgumentError(e,i.map(t=>t.name))}}function createAjv(){const t=new ajv_1.default({strictSchema:!1,formats:{uint32:!0,uint64:!0}});return(0,ajv_formats_1.default)(t),t}const isUint8Array=t=>t&&void 0!==t.byteLength&&t.byteLength===t.length,isObject=t=>"[object Object]"===Object.prototype.toString.call(t);class Contract{constructor(t,e,a){this.account=t,this.contractId=e;const{viewMethods:r=[],changeMethods:n=[],abi:i}=a;let o=r.map(t=>({name:t,abi:null})),s=n.map(t=>({name:t,abi:null}));if(i){if(o.length>0||s.length>0)throw new errors_1.ConflictingOptions;o=i.body.functions.filter(t=>t.kind===near_abi_1.AbiFunctionKind.View).map(t=>({name:t.name,abi:t})),s=i.body.functions.filter(t=>t.kind===near_abi_1.AbiFunctionKind.Call).map(t=>({name:t.name,abi:t}))}const c=createAjv();o.forEach(({name:t,abi:e})=>{Object.defineProperty(this,t,{writable:!1,enumerable:!0,value:nameFunction(t,(a={},r={},...n)=>__awaiter(this,void 0,void 0,function*(){if(n.length||!isObject(a)&&!isUint8Array(a)||!isObject(r))throw new types_1.PositionalArgsError;return e&&validateArguments(a,e,c,i),this.account.viewFunction(Object.assign({contractId:this.contractId,methodName:t,args:a},r))}))})}),s.forEach(({name:t,abi:e})=>{Object.defineProperty(this,t,{writable:!1,enumerable:!0,value:nameFunction(t,(...a)=>__awaiter(this,void 0,void 0,function*(){if(a.length&&(a.length>3||!isObject(a[0])&&!isUint8Array(a[0])))throw new types_1.PositionalArgsError;if(a.length>1||!a[0]||!a[0].args){(0,depd_1.default)("contract.methodName(args, gas, amount)")("use `contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })` instead"),a[0]={args:a[0],gas:a[1],amount:a[2]}}return e&&validateArguments(a[0].args,e,c,i),this._changeMethod(Object.assign({methodName:t},a[0]))}))})})}_changeMethod({args:t,methodName:e,gas:a,amount:r,meta:n,callbackUrl:i}){return __awaiter(this,void 0,void 0,function*(){validateBNLike({gas:a,amount:r});const o=yield this.account.functionCall({contractId:this.contractId,methodName:e,args:t,gas:a,attachedDeposit:r,walletMeta:n,walletCallbackUrl:i});return(0,utils_1.getTransactionLastResult)(o)})}}function validateBNLike(t){for(const e of Object.keys(t)){const a=t[e];if(a&&!bn_js_1.default.isBN(a)&&isNaN(a))throw new types_1.ArgumentTypeError(e,"number, decimal string or BN",a)}}exports.Contract=Contract;

},{"./errors":154,"@near-js/types":219,"@near-js/utils":230,"ajv":4,"ajv-formats":2,"bn.js":69,"depd":82,"near-abi":101}],154:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConflictingOptions=exports.ArgumentSchemaError=exports.UnknownArgumentError=exports.UnsupportedSerializationError=void 0;class UnsupportedSerializationError extends Error{constructor(r,e){super(`Contract method '${r}' is using an unsupported serialization type ${e}`)}}exports.UnsupportedSerializationError=UnsupportedSerializationError;class UnknownArgumentError extends Error{constructor(r,e){super(`Unrecognized argument '${r}', expected '${JSON.stringify(e)}'`)}}exports.UnknownArgumentError=UnknownArgumentError;class ArgumentSchemaError extends Error{constructor(r,e){super(`Argument '${r}' does not conform to the specified ABI schema: '${JSON.stringify(e)}'`)}}exports.ArgumentSchemaError=ArgumentSchemaError;class ConflictingOptions extends Error{constructor(){super("Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.")}}exports.ConflictingOptions=ConflictingOptions;

},{}],155:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MultisigStateStatus=exports.MultisigDeleteRequestRejectionError=exports.UnsupportedSerializationError=exports.UnknownArgumentError=exports.ConflictingOptions=exports.ArgumentSchemaError=exports.Contract=exports.MULTISIG_CONFIRM_METHODS=exports.MULTISIG_CHANGE_METHODS=exports.MULTISIG_DEPOSIT=exports.MULTISIG_GAS=exports.MULTISIG_ALLOWANCE=exports.MULTISIG_STORAGE_KEY=exports.Connection=exports.AccountMultisig=exports.UrlAccountCreator=exports.LocalAccountCreator=exports.AccountCreator=exports.Account2FA=exports.Account=void 0;var account_1=require("./account");Object.defineProperty(exports,"Account",{enumerable:!0,get:function(){return account_1.Account}});var account_2fa_1=require("./account_2fa");Object.defineProperty(exports,"Account2FA",{enumerable:!0,get:function(){return account_2fa_1.Account2FA}});var account_creator_1=require("./account_creator");Object.defineProperty(exports,"AccountCreator",{enumerable:!0,get:function(){return account_creator_1.AccountCreator}}),Object.defineProperty(exports,"LocalAccountCreator",{enumerable:!0,get:function(){return account_creator_1.LocalAccountCreator}}),Object.defineProperty(exports,"UrlAccountCreator",{enumerable:!0,get:function(){return account_creator_1.UrlAccountCreator}});var account_multisig_1=require("./account_multisig");Object.defineProperty(exports,"AccountMultisig",{enumerable:!0,get:function(){return account_multisig_1.AccountMultisig}});var connection_1=require("./connection");Object.defineProperty(exports,"Connection",{enumerable:!0,get:function(){return connection_1.Connection}});var constants_1=require("./constants");Object.defineProperty(exports,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return constants_1.MULTISIG_STORAGE_KEY}}),Object.defineProperty(exports,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return constants_1.MULTISIG_ALLOWANCE}}),Object.defineProperty(exports,"MULTISIG_GAS",{enumerable:!0,get:function(){return constants_1.MULTISIG_GAS}}),Object.defineProperty(exports,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return constants_1.MULTISIG_DEPOSIT}}),Object.defineProperty(exports,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return constants_1.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(exports,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return constants_1.MULTISIG_CONFIRM_METHODS}});var contract_1=require("./contract");Object.defineProperty(exports,"Contract",{enumerable:!0,get:function(){return contract_1.Contract}});var errors_1=require("./errors");Object.defineProperty(exports,"ArgumentSchemaError",{enumerable:!0,get:function(){return errors_1.ArgumentSchemaError}}),Object.defineProperty(exports,"ConflictingOptions",{enumerable:!0,get:function(){return errors_1.ConflictingOptions}}),Object.defineProperty(exports,"UnknownArgumentError",{enumerable:!0,get:function(){return errors_1.UnknownArgumentError}}),Object.defineProperty(exports,"UnsupportedSerializationError",{enumerable:!0,get:function(){return errors_1.UnsupportedSerializationError}});var types_1=require("./types");Object.defineProperty(exports,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return types_1.MultisigDeleteRequestRejectionError}}),Object.defineProperty(exports,"MultisigStateStatus",{enumerable:!0,get:function(){return types_1.MultisigStateStatus}});

},{"./account":147,"./account_2fa":148,"./account_creator":149,"./account_multisig":150,"./connection":151,"./constants":152,"./contract":153,"./errors":154,"./types":156}],156:[function(require,module,exports){
"use strict";var MultisigDeleteRequestRejectionError,MultisigStateStatus;Object.defineProperty(exports,"__esModule",{value:!0}),exports.MultisigStateStatus=exports.MultisigDeleteRequestRejectionError=void 0,function(t){t.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",t.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",t.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",t.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",t.METHOD_NOT_FOUND="Contract method is not found"}(MultisigDeleteRequestRejectionError=exports.MultisigDeleteRequestRejectionError||(exports.MultisigDeleteRequestRejectionError={})),function(t){t[t.INVALID_STATE=0]="INVALID_STATE",t[t.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",t[t.VALID_STATE=2]="VALID_STATE",t[t.UNKNOWN_STATE=3]="UNKNOWN_STATE"}(MultisigStateStatus=exports.MultisigStateStatus||(exports.MultisigStateStatus={}));

},{}],157:[function(require,module,exports){
"use strict";var KeyType;Object.defineProperty(exports,"__esModule",{value:!0}),exports.KeyType=void 0,function(e){e[e.ED25519=0]="ED25519"}(KeyType=exports.KeyType||(exports.KeyType={}));

},{}],158:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PublicKey=exports.KeyPairEd25519=exports.KeyPair=exports.KeyType=void 0;var constants_1=require("./constants");Object.defineProperty(exports,"KeyType",{enumerable:!0,get:function(){return constants_1.KeyType}});var key_pair_1=require("./key_pair");Object.defineProperty(exports,"KeyPair",{enumerable:!0,get:function(){return key_pair_1.KeyPair}});var key_pair_ed25519_1=require("./key_pair_ed25519");Object.defineProperty(exports,"KeyPairEd25519",{enumerable:!0,get:function(){return key_pair_ed25519_1.KeyPairEd25519}});var public_key_1=require("./public_key");Object.defineProperty(exports,"PublicKey",{enumerable:!0,get:function(){return public_key_1.PublicKey}});

},{"./constants":157,"./key_pair":159,"./key_pair_ed25519":161,"./public_key":162}],159:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KeyPair=void 0;const key_pair_base_1=require("./key_pair_base"),key_pair_ed25519_1=require("./key_pair_ed25519");class KeyPair extends key_pair_base_1.KeyPairBase{static fromRandom(e){switch(e.toUpperCase()){case"ED25519":return key_pair_ed25519_1.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${e}`)}}static fromString(e){const r=e.split(":");if(1===r.length)return new key_pair_ed25519_1.KeyPairEd25519(r[0]);if(2!==r.length)throw new Error("Invalid encoded key format, must be <curve>:<encoded key>");switch(r[0].toUpperCase()){case"ED25519":return new key_pair_ed25519_1.KeyPairEd25519(r[1]);default:throw new Error(`Unknown curve: ${r[0]}`)}}}exports.KeyPair=KeyPair;

},{"./key_pair_base":160,"./key_pair_ed25519":161}],160:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KeyPairBase=void 0;class KeyPairBase{}exports.KeyPairBase=KeyPairBase;

},{}],161:[function(require,module,exports){
"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.KeyPairEd25519=void 0;const borsh_1=require("borsh"),tweetnacl_1=__importDefault(require("tweetnacl")),constants_1=require("./constants"),key_pair_base_1=require("./key_pair_base"),public_key_1=require("./public_key");class KeyPairEd25519 extends key_pair_base_1.KeyPairBase{constructor(e){super();const t=tweetnacl_1.default.sign.keyPair.fromSecretKey((0,borsh_1.baseDecode)(e));this.publicKey=new public_key_1.PublicKey({keyType:constants_1.KeyType.ED25519,data:t.publicKey}),this.secretKey=e}static fromRandom(){const e=tweetnacl_1.default.sign.keyPair();return new KeyPairEd25519((0,borsh_1.baseEncode)(e.secretKey))}sign(e){return{signature:tweetnacl_1.default.sign.detached(e,(0,borsh_1.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(e,t){return this.publicKey.verify(e,t)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}exports.KeyPairEd25519=KeyPairEd25519;

},{"./constants":157,"./key_pair_base":160,"./public_key":162,"borsh":70,"tweetnacl":137}],162:[function(require,module,exports){
"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PublicKey=void 0;const types_1=require("@near-js/types"),borsh_1=require("borsh"),tweetnacl_1=__importDefault(require("tweetnacl")),constants_1=require("./constants");function key_type_to_str(e){switch(e){case constants_1.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${e}`)}}function str_to_key_type(e){switch(e.toLowerCase()){case"ed25519":return constants_1.KeyType.ED25519;default:throw new Error(`Unknown key type ${e}`)}}class PublicKey extends types_1.Assignable{static from(e){return"string"==typeof e?PublicKey.fromString(e):e}static fromString(e){const t=e.split(":");if(1===t.length)return new PublicKey({keyType:constants_1.KeyType.ED25519,data:(0,borsh_1.baseDecode)(t[0])});if(2===t.length)return new PublicKey({keyType:str_to_key_type(t[0]),data:(0,borsh_1.baseDecode)(t[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${key_type_to_str(this.keyType)}:${(0,borsh_1.baseEncode)(this.data)}`}verify(e,t){switch(this.keyType){case constants_1.KeyType.ED25519:return tweetnacl_1.default.sign.detached.verify(e,t,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}}exports.PublicKey=PublicKey;

},{"./constants":157,"@near-js/types":219,"borsh":70,"tweetnacl":137}],163:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(t,e,r,o){return new(r||(r=Promise))(function(s,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function n(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(a,n)}c((o=o.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BrowserLocalStorageKeyStore=void 0;const crypto_1=require("@near-js/crypto"),keystores_1=require("@near-js/keystores"),LOCAL_STORAGE_KEY_PREFIX="near-api-js:keystore:";class BrowserLocalStorageKeyStore extends keystores_1.KeyStore{constructor(t=window.localStorage,e=LOCAL_STORAGE_KEY_PREFIX){super(),this.localStorage=t,this.prefix=e}setKey(t,e,r){return __awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(t,e),r.toString())})}getKey(t,e){return __awaiter(this,void 0,void 0,function*(){const r=this.localStorage.getItem(this.storageKeyForSecretKey(t,e));return r?crypto_1.KeyPair.fromString(r):null})}removeKey(t,e){return __awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(t,e))})}clear(){return __awaiter(this,void 0,void 0,function*(){for(const t of this.storageKeys())t.startsWith(this.prefix)&&this.localStorage.removeItem(t)})}getNetworks(){return __awaiter(this,void 0,void 0,function*(){const t=new Set;for(const e of this.storageKeys())if(e.startsWith(this.prefix)){const r=e.substring(this.prefix.length).split(":");t.add(r[1])}return Array.from(t.values())})}getAccounts(t){return __awaiter(this,void 0,void 0,function*(){const e=new Array;for(const r of this.storageKeys())if(r.startsWith(this.prefix)){const o=r.substring(this.prefix.length).split(":");o[1]===t&&e.push(o[0])}return e})}storageKeyForSecretKey(t,e){return`${this.prefix}${e}:${t}`}*storageKeys(){for(let t=0;t<this.localStorage.length;t++)yield this.localStorage.key(t)}}exports.BrowserLocalStorageKeyStore=BrowserLocalStorageKeyStore;

},{"@near-js/crypto":158,"@near-js/keystores":166}],164:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BrowserLocalStorageKeyStore=void 0;var browser_local_storage_key_store_1=require("./browser_local_storage_key_store");Object.defineProperty(exports,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return browser_local_storage_key_store_1.BrowserLocalStorageKeyStore}});

},{"./browser_local_storage_key_store":163}],165:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))(function(n,i){function s(e){try{u(o.next(e))}catch(e){i(e)}}function c(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,c)}u((o=o.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.InMemoryKeyStore=void 0;const crypto_1=require("@near-js/crypto"),keystore_1=require("./keystore");class InMemoryKeyStore extends keystore_1.KeyStore{constructor(){super(),this.keys={}}setKey(e,t,r){return __awaiter(this,void 0,void 0,function*(){this.keys[`${t}:${e}`]=r.toString()})}getKey(e,t){return __awaiter(this,void 0,void 0,function*(){const r=this.keys[`${t}:${e}`];return r?crypto_1.KeyPair.fromString(r):null})}removeKey(e,t){return __awaiter(this,void 0,void 0,function*(){delete this.keys[`${t}:${e}`]})}clear(){return __awaiter(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return __awaiter(this,void 0,void 0,function*(){const e=new Set;return Object.keys(this.keys).forEach(t=>{const r=t.split(":");e.add(r[1])}),Array.from(e.values())})}getAccounts(e){return __awaiter(this,void 0,void 0,function*(){const t=new Array;return Object.keys(this.keys).forEach(r=>{const o=r.split(":");o[o.length-1]===e&&t.push(o.slice(0,o.length-1).join(":"))}),t})}toString(){return"InMemoryKeyStore"}}exports.InMemoryKeyStore=InMemoryKeyStore;

},{"./keystore":167,"@near-js/crypto":158}],166:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MergeKeyStore=exports.KeyStore=exports.InMemoryKeyStore=void 0;var in_memory_key_store_1=require("./in_memory_key_store");Object.defineProperty(exports,"InMemoryKeyStore",{enumerable:!0,get:function(){return in_memory_key_store_1.InMemoryKeyStore}});var keystore_1=require("./keystore");Object.defineProperty(exports,"KeyStore",{enumerable:!0,get:function(){return keystore_1.KeyStore}});var merge_key_store_1=require("./merge_key_store");Object.defineProperty(exports,"MergeKeyStore",{enumerable:!0,get:function(){return merge_key_store_1.MergeKeyStore}});

},{"./in_memory_key_store":165,"./keystore":167,"./merge_key_store":168}],167:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KeyStore=void 0;class KeyStore{}exports.KeyStore=KeyStore;

},{}],168:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))(function(i,n){function s(e){try{y(o.next(e))}catch(e){n(e)}}function c(e){try{y(o.throw(e))}catch(e){n(e)}}function y(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,c)}y((o=o.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.MergeKeyStore=void 0;const keystore_1=require("./keystore");class MergeKeyStore extends keystore_1.KeyStore{constructor(e,t={writeKeyStoreIndex:0}){super(),this.options=t,this.keyStores=e}setKey(e,t,r){return __awaiter(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(e,t,r)})}getKey(e,t){return __awaiter(this,void 0,void 0,function*(){for(const r of this.keyStores){const o=yield r.getKey(e,t);if(o)return o}return null})}removeKey(e,t){return __awaiter(this,void 0,void 0,function*(){for(const r of this.keyStores)yield r.removeKey(e,t)})}clear(){return __awaiter(this,void 0,void 0,function*(){for(const e of this.keyStores)yield e.clear()})}getNetworks(){return __awaiter(this,void 0,void 0,function*(){const e=new Set;for(const t of this.keyStores)for(const r of yield t.getNetworks())e.add(r);return Array.from(e)})}getAccounts(e){return __awaiter(this,void 0,void 0,function*(){const t=new Set;for(const r of this.keyStores)for(const o of yield r.getAccounts(e))t.add(o);return Array.from(t)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}exports.MergeKeyStore=MergeKeyStore;

},{"./keystore":167}],169:[function(require,module,exports){
(function (Buffer){(function (){
window.nearApi=require("./lib/browser-index"),window.Buffer=Buffer;

}).call(this)}).call(this,require("buffer").Buffer)
},{"./lib/browser-index":174,"buffer":74}],170:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Account=void 0;var accounts_1=require("@near-js/accounts");Object.defineProperty(exports,"Account",{enumerable:!0,get:function(){return accounts_1.Account}});

},{"@near-js/accounts":155}],171:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UrlAccountCreator=exports.LocalAccountCreator=exports.AccountCreator=void 0;var accounts_1=require("@near-js/accounts");Object.defineProperty(exports,"AccountCreator",{enumerable:!0,get:function(){return accounts_1.AccountCreator}}),Object.defineProperty(exports,"LocalAccountCreator",{enumerable:!0,get:function(){return accounts_1.LocalAccountCreator}}),Object.defineProperty(exports,"UrlAccountCreator",{enumerable:!0,get:function(){return accounts_1.UrlAccountCreator}});

},{"@near-js/accounts":155}],172:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MultisigStateStatus=exports.MultisigDeleteRequestRejectionError=exports.MULTISIG_CONFIRM_METHODS=exports.MULTISIG_CHANGE_METHODS=exports.MULTISIG_DEPOSIT=exports.MULTISIG_GAS=exports.MULTISIG_ALLOWANCE=exports.MULTISIG_STORAGE_KEY=exports.AccountMultisig=exports.Account2FA=void 0;var accounts_1=require("@near-js/accounts");Object.defineProperty(exports,"Account2FA",{enumerable:!0,get:function(){return accounts_1.Account2FA}}),Object.defineProperty(exports,"AccountMultisig",{enumerable:!0,get:function(){return accounts_1.AccountMultisig}}),Object.defineProperty(exports,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return accounts_1.MULTISIG_STORAGE_KEY}}),Object.defineProperty(exports,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return accounts_1.MULTISIG_ALLOWANCE}}),Object.defineProperty(exports,"MULTISIG_GAS",{enumerable:!0,get:function(){return accounts_1.MULTISIG_GAS}}),Object.defineProperty(exports,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return accounts_1.MULTISIG_DEPOSIT}}),Object.defineProperty(exports,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return accounts_1.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(exports,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return accounts_1.MULTISIG_CONFIRM_METHODS}}),Object.defineProperty(exports,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return accounts_1.MultisigDeleteRequestRejectionError}}),Object.defineProperty(exports,"MultisigStateStatus",{enumerable:!0,get:function(){return accounts_1.MultisigStateStatus}});

},{"@near-js/accounts":155}],173:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(n,e,t,r){return new(t||(t=Promise))(function(o,c){function i(n){try{u(r.next(n))}catch(n){c(n)}}function a(n){try{u(r.throw(n))}catch(n){c(n)}}function u(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t(function(n){n(e)})).then(i,a)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.connect=void 0;const near_1=require("./near");function connect(n){return __awaiter(this,void 0,void 0,function*(){return new near_1.Near(n)})}exports.connect=connect;

},{"./near":183}],174:[function(require,module,exports){
"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,i)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__exportStar=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||__createBinding(t,e,r)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.keyStores=void 0,exports.keyStores=__importStar(require("./key_stores/browser-index")),__exportStar(require("./common-index"),exports),__exportStar(require("./browser-connect"),exports),require("error-polyfill");

},{"./browser-connect":173,"./common-index":175,"./key_stores/browser-index":178,"error-polyfill":83}],175:[function(require,module,exports){
"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalletConnection=exports.ConnectedWalletAccount=exports.Near=exports.KeyPair=exports.Signer=exports.InMemorySigner=exports.Contract=exports.Connection=exports.Account=exports.multisig=exports.validators=exports.transactions=exports.utils=exports.providers=exports.accountCreator=void 0;const providers=__importStar(require("./providers"));exports.providers=providers;const utils=__importStar(require("./utils"));exports.utils=utils;const transactions=__importStar(require("./transaction"));exports.transactions=transactions;const validators=__importStar(require("./validators"));exports.validators=validators;const account_1=require("./account");Object.defineProperty(exports,"Account",{enumerable:!0,get:function(){return account_1.Account}});const multisig=__importStar(require("./account_multisig"));exports.multisig=multisig;const accountCreator=__importStar(require("./account_creator"));exports.accountCreator=accountCreator;const connection_1=require("./connection");Object.defineProperty(exports,"Connection",{enumerable:!0,get:function(){return connection_1.Connection}});const signer_1=require("./signer");Object.defineProperty(exports,"Signer",{enumerable:!0,get:function(){return signer_1.Signer}}),Object.defineProperty(exports,"InMemorySigner",{enumerable:!0,get:function(){return signer_1.InMemorySigner}});const contract_1=require("./contract");Object.defineProperty(exports,"Contract",{enumerable:!0,get:function(){return contract_1.Contract}});const key_pair_1=require("./utils/key_pair");Object.defineProperty(exports,"KeyPair",{enumerable:!0,get:function(){return key_pair_1.KeyPair}});const near_1=require("./near");Object.defineProperty(exports,"Near",{enumerable:!0,get:function(){return near_1.Near}});const wallet_account_1=require("./wallet-account");Object.defineProperty(exports,"ConnectedWalletAccount",{enumerable:!0,get:function(){return wallet_account_1.ConnectedWalletAccount}}),Object.defineProperty(exports,"WalletConnection",{enumerable:!0,get:function(){return wallet_account_1.WalletConnection}});

},{"./account":170,"./account_creator":171,"./account_multisig":172,"./connection":176,"./contract":177,"./near":183,"./providers":184,"./signer":187,"./transaction":188,"./utils":192,"./utils/key_pair":193,"./validators":197,"./wallet-account":198}],176:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Connection=void 0;var accounts_1=require("@near-js/accounts");Object.defineProperty(exports,"Connection",{enumerable:!0,get:function(){return accounts_1.Connection}});

},{"@near-js/accounts":155}],177:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Contract=void 0;var accounts_1=require("@near-js/accounts");Object.defineProperty(exports,"Contract",{enumerable:!0,get:function(){return accounts_1.Contract}});

},{"@near-js/accounts":155}],178:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MergeKeyStore=exports.BrowserLocalStorageKeyStore=exports.InMemoryKeyStore=exports.KeyStore=void 0;const keystore_1=require("./keystore");Object.defineProperty(exports,"KeyStore",{enumerable:!0,get:function(){return keystore_1.KeyStore}});const in_memory_key_store_1=require("./in_memory_key_store");Object.defineProperty(exports,"InMemoryKeyStore",{enumerable:!0,get:function(){return in_memory_key_store_1.InMemoryKeyStore}});const browser_local_storage_key_store_1=require("./browser_local_storage_key_store");Object.defineProperty(exports,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return browser_local_storage_key_store_1.BrowserLocalStorageKeyStore}});const merge_key_store_1=require("./merge_key_store");Object.defineProperty(exports,"MergeKeyStore",{enumerable:!0,get:function(){return merge_key_store_1.MergeKeyStore}});

},{"./browser_local_storage_key_store":179,"./in_memory_key_store":180,"./keystore":181,"./merge_key_store":182}],179:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BrowserLocalStorageKeyStore=void 0;var keystores_browser_1=require("@near-js/keystores-browser");Object.defineProperty(exports,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return keystores_browser_1.BrowserLocalStorageKeyStore}});

},{"@near-js/keystores-browser":164}],180:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InMemoryKeyStore=void 0;var keystores_1=require("@near-js/keystores");Object.defineProperty(exports,"InMemoryKeyStore",{enumerable:!0,get:function(){return keystores_1.InMemoryKeyStore}});

},{"@near-js/keystores":166}],181:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KeyStore=void 0;var keystores_1=require("@near-js/keystores");Object.defineProperty(exports,"KeyStore",{enumerable:!0,get:function(){return keystores_1.KeyStore}});

},{"@near-js/keystores":166}],182:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MergeKeyStore=void 0;var keystores_1=require("@near-js/keystores");Object.defineProperty(exports,"MergeKeyStore",{enumerable:!0,get:function(){return keystores_1.MergeKeyStore}});

},{"@near-js/keystores":166}],183:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Near=void 0;var wallet_account_1=require("@near-js/wallet-account");Object.defineProperty(exports,"Near",{enumerable:!0,get:function(){return wallet_account_1.Near}});

},{"@near-js/wallet-account":234}],184:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ErrorContext=exports.TypedError=exports.getTransactionLastResult=exports.FinalExecutionStatusBasic=exports.JsonRpcProvider=exports.Provider=void 0;const provider_1=require("./provider");Object.defineProperty(exports,"Provider",{enumerable:!0,get:function(){return provider_1.Provider}}),Object.defineProperty(exports,"getTransactionLastResult",{enumerable:!0,get:function(){return provider_1.getTransactionLastResult}}),Object.defineProperty(exports,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return provider_1.FinalExecutionStatusBasic}});const json_rpc_provider_1=require("./json-rpc-provider");Object.defineProperty(exports,"JsonRpcProvider",{enumerable:!0,get:function(){return json_rpc_provider_1.JsonRpcProvider}}),Object.defineProperty(exports,"TypedError",{enumerable:!0,get:function(){return json_rpc_provider_1.TypedError}}),Object.defineProperty(exports,"ErrorContext",{enumerable:!0,get:function(){return json_rpc_provider_1.ErrorContext}});

},{"./json-rpc-provider":185,"./provider":186}],185:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.JsonRpcProvider=exports.TypedError=exports.ErrorContext=void 0;var types_1=require("@near-js/types");Object.defineProperty(exports,"ErrorContext",{enumerable:!0,get:function(){return types_1.ErrorContext}}),Object.defineProperty(exports,"TypedError",{enumerable:!0,get:function(){return types_1.TypedError}});var providers_1=require("@near-js/providers");Object.defineProperty(exports,"JsonRpcProvider",{enumerable:!0,get:function(){return providers_1.JsonRpcProvider}});

},{"@near-js/providers":202,"@near-js/types":219}],186:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FinalExecutionStatusBasic=exports.ExecutionStatusBasic=exports.IdType=exports.Provider=exports.getTransactionLastResult=void 0;var utils_1=require("@near-js/utils");Object.defineProperty(exports,"getTransactionLastResult",{enumerable:!0,get:function(){return utils_1.getTransactionLastResult}});var providers_1=require("@near-js/providers");Object.defineProperty(exports,"Provider",{enumerable:!0,get:function(){return providers_1.Provider}});var types_1=require("@near-js/types");Object.defineProperty(exports,"IdType",{enumerable:!0,get:function(){return types_1.IdType}}),Object.defineProperty(exports,"ExecutionStatusBasic",{enumerable:!0,get:function(){return types_1.ExecutionStatusBasic}}),Object.defineProperty(exports,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return types_1.FinalExecutionStatusBasic}});

},{"@near-js/providers":202,"@near-js/types":219,"@near-js/utils":230}],187:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Signer=exports.InMemorySigner=void 0;var signers_1=require("@near-js/signers");Object.defineProperty(exports,"InMemorySigner",{enumerable:!0,get:function(){return signers_1.InMemorySigner}}),Object.defineProperty(exports,"Signer",{enumerable:!0,get:function(){return signers_1.Signer}});

},{"@near-js/signers":206}],188:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transfer=exports.stake=exports.functionCallAccessKey=exports.functionCall=exports.fullAccessKey=exports.deployContract=exports.deleteKey=exports.deleteAccount=exports.createAccount=exports.addKey=exports.encodeDelegateAction=exports.encodeSignedDelegate=exports.Transaction=exports.SignedTransaction=exports.Signature=exports.signTransaction=exports.createTransaction=exports.SCHEMA=exports.Transfer=exports.Stake=exports.FunctionCallPermission=exports.FunctionCall=exports.FullAccessPermission=exports.DeployContract=exports.DeleteKey=exports.DeleteAccount=exports.CreateAccount=exports.AddKey=exports.AccessKeyPermission=exports.AccessKey=exports.Action=exports.stringifyJsonOrBytes=void 0;var transactions_1=require("@near-js/transactions");Object.defineProperty(exports,"stringifyJsonOrBytes",{enumerable:!0,get:function(){return transactions_1.stringifyJsonOrBytes}}),Object.defineProperty(exports,"Action",{enumerable:!0,get:function(){return transactions_1.Action}}),Object.defineProperty(exports,"AccessKey",{enumerable:!0,get:function(){return transactions_1.AccessKey}}),Object.defineProperty(exports,"AccessKeyPermission",{enumerable:!0,get:function(){return transactions_1.AccessKeyPermission}}),Object.defineProperty(exports,"AddKey",{enumerable:!0,get:function(){return transactions_1.AddKey}}),Object.defineProperty(exports,"CreateAccount",{enumerable:!0,get:function(){return transactions_1.CreateAccount}}),Object.defineProperty(exports,"DeleteAccount",{enumerable:!0,get:function(){return transactions_1.DeleteAccount}}),Object.defineProperty(exports,"DeleteKey",{enumerable:!0,get:function(){return transactions_1.DeleteKey}}),Object.defineProperty(exports,"DeployContract",{enumerable:!0,get:function(){return transactions_1.DeployContract}}),Object.defineProperty(exports,"FullAccessPermission",{enumerable:!0,get:function(){return transactions_1.FullAccessPermission}}),Object.defineProperty(exports,"FunctionCall",{enumerable:!0,get:function(){return transactions_1.FunctionCall}}),Object.defineProperty(exports,"FunctionCallPermission",{enumerable:!0,get:function(){return transactions_1.FunctionCallPermission}}),Object.defineProperty(exports,"Stake",{enumerable:!0,get:function(){return transactions_1.Stake}}),Object.defineProperty(exports,"Transfer",{enumerable:!0,get:function(){return transactions_1.Transfer}}),Object.defineProperty(exports,"SCHEMA",{enumerable:!0,get:function(){return transactions_1.SCHEMA}}),Object.defineProperty(exports,"createTransaction",{enumerable:!0,get:function(){return transactions_1.createTransaction}}),Object.defineProperty(exports,"signTransaction",{enumerable:!0,get:function(){return transactions_1.signTransaction}}),Object.defineProperty(exports,"Signature",{enumerable:!0,get:function(){return transactions_1.Signature}}),Object.defineProperty(exports,"SignedTransaction",{enumerable:!0,get:function(){return transactions_1.SignedTransaction}}),Object.defineProperty(exports,"Transaction",{enumerable:!0,get:function(){return transactions_1.Transaction}}),Object.defineProperty(exports,"encodeSignedDelegate",{enumerable:!0,get:function(){return transactions_1.encodeSignedDelegate}}),Object.defineProperty(exports,"encodeDelegateAction",{enumerable:!0,get:function(){return transactions_1.encodeDelegateAction}});const transactions_2=require("@near-js/transactions"),addKey=(e,t)=>transactions_2.actionCreators.addKey(e,t);exports.addKey=addKey;const createAccount=()=>transactions_2.actionCreators.createAccount();exports.createAccount=createAccount;const deleteAccount=e=>transactions_2.actionCreators.deleteAccount(e);exports.deleteAccount=deleteAccount;const deleteKey=e=>transactions_2.actionCreators.deleteKey(e);exports.deleteKey=deleteKey;const deployContract=e=>transactions_2.actionCreators.deployContract(e);exports.deployContract=deployContract;const fullAccessKey=()=>transactions_2.actionCreators.fullAccessKey();exports.fullAccessKey=fullAccessKey;const functionCall=(e,t,n,r,o,s)=>transactions_2.actionCreators.functionCall(e,t,n,r,o,s);exports.functionCall=functionCall;const functionCallAccessKey=(e,t,n)=>transactions_2.actionCreators.functionCallAccessKey(e,t,n);exports.functionCallAccessKey=functionCallAccessKey;const stake=(e,t)=>transactions_2.actionCreators.stake(e,t);exports.stake=stake;const transfer=e=>transactions_2.actionCreators.transfer(e);exports.transfer=transfer;

},{"@near-js/transactions":212}],189:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Enum=exports.Assignable=void 0;var types_1=require("@near-js/types");Object.defineProperty(exports,"Assignable",{enumerable:!0,get:function(){return types_1.Assignable}});class Enum{constructor(e){if(1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map(s=>{this[s]=e[s],this.enum=s})}}exports.Enum=Enum;

},{"@near-js/types":219}],190:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.logWarning=exports.TypedError=exports.PositionalArgsError=exports.ErrorContext=exports.ArgumentTypeError=exports.UnsupportedSerializationError=exports.UnknownArgumentError=exports.ConflictingOptions=exports.ArgumentSchemaError=void 0;var accounts_1=require("@near-js/accounts");Object.defineProperty(exports,"ArgumentSchemaError",{enumerable:!0,get:function(){return accounts_1.ArgumentSchemaError}}),Object.defineProperty(exports,"ConflictingOptions",{enumerable:!0,get:function(){return accounts_1.ConflictingOptions}}),Object.defineProperty(exports,"UnknownArgumentError",{enumerable:!0,get:function(){return accounts_1.UnknownArgumentError}}),Object.defineProperty(exports,"UnsupportedSerializationError",{enumerable:!0,get:function(){return accounts_1.UnsupportedSerializationError}});var types_1=require("@near-js/types");Object.defineProperty(exports,"ArgumentTypeError",{enumerable:!0,get:function(){return types_1.ArgumentTypeError}}),Object.defineProperty(exports,"ErrorContext",{enumerable:!0,get:function(){return types_1.ErrorContext}}),Object.defineProperty(exports,"PositionalArgsError",{enumerable:!0,get:function(){return types_1.PositionalArgsError}}),Object.defineProperty(exports,"TypedError",{enumerable:!0,get:function(){return types_1.TypedError}});var utils_1=require("@near-js/utils");Object.defineProperty(exports,"logWarning",{enumerable:!0,get:function(){return utils_1.logWarning}});

},{"@near-js/accounts":155,"@near-js/types":219,"@near-js/utils":230}],191:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseNearAmount=exports.formatNearAmount=exports.NEAR_NOMINATION_EXP=exports.NEAR_NOMINATION=void 0;var utils_1=require("@near-js/utils");Object.defineProperty(exports,"NEAR_NOMINATION",{enumerable:!0,get:function(){return utils_1.NEAR_NOMINATION}}),Object.defineProperty(exports,"NEAR_NOMINATION_EXP",{enumerable:!0,get:function(){return utils_1.NEAR_NOMINATION_EXP}}),Object.defineProperty(exports,"formatNearAmount",{enumerable:!0,get:function(){return utils_1.formatNearAmount}}),Object.defineProperty(exports,"parseNearAmount",{enumerable:!0,get:function(){return utils_1.parseNearAmount}});

},{"@near-js/utils":230}],192:[function(require,module,exports){
"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,r,t,i){void 0===i&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);o&&("get"in o?r.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,i,o)}:function(e,r,t,i){void 0===i&&(i=t),e[i]=r[t]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&__createBinding(r,e,t);return __setModuleDefault(r,e),r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.logWarning=exports.rpc_errors=exports.KeyPairEd25519=exports.KeyPair=exports.PublicKey=exports.format=exports.enums=exports.web=exports.serialize=exports.key_pair=void 0;const key_pair=__importStar(require("./key_pair"));exports.key_pair=key_pair;const serialize=__importStar(require("./serialize"));exports.serialize=serialize;const web=__importStar(require("./web"));exports.web=web;const enums=__importStar(require("./enums"));exports.enums=enums;const format=__importStar(require("./format"));exports.format=format;const rpc_errors=__importStar(require("./rpc_errors"));exports.rpc_errors=rpc_errors;const key_pair_1=require("./key_pair");Object.defineProperty(exports,"PublicKey",{enumerable:!0,get:function(){return key_pair_1.PublicKey}}),Object.defineProperty(exports,"KeyPair",{enumerable:!0,get:function(){return key_pair_1.KeyPair}}),Object.defineProperty(exports,"KeyPairEd25519",{enumerable:!0,get:function(){return key_pair_1.KeyPairEd25519}});const errors_1=require("./errors");Object.defineProperty(exports,"logWarning",{enumerable:!0,get:function(){return errors_1.logWarning}});

},{"./enums":189,"./errors":190,"./format":191,"./key_pair":193,"./rpc_errors":194,"./serialize":195,"./web":196}],193:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PublicKey=exports.KeyType=exports.KeyPairEd25519=exports.KeyPair=void 0;var crypto_1=require("@near-js/crypto");Object.defineProperty(exports,"KeyPair",{enumerable:!0,get:function(){return crypto_1.KeyPair}}),Object.defineProperty(exports,"KeyPairEd25519",{enumerable:!0,get:function(){return crypto_1.KeyPairEd25519}}),Object.defineProperty(exports,"KeyType",{enumerable:!0,get:function(){return crypto_1.KeyType}}),Object.defineProperty(exports,"PublicKey",{enumerable:!0,get:function(){return crypto_1.PublicKey}});

},{"@near-js/crypto":158}],194:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ServerError=exports.getErrorTypeFromErrorMessage=exports.formatError=exports.parseResultError=exports.parseRpcError=void 0;var utils_1=require("@near-js/utils");Object.defineProperty(exports,"parseRpcError",{enumerable:!0,get:function(){return utils_1.parseRpcError}}),Object.defineProperty(exports,"parseResultError",{enumerable:!0,get:function(){return utils_1.parseResultError}}),Object.defineProperty(exports,"formatError",{enumerable:!0,get:function(){return utils_1.formatError}}),Object.defineProperty(exports,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return utils_1.getErrorTypeFromErrorMessage}}),Object.defineProperty(exports,"ServerError",{enumerable:!0,get:function(){return utils_1.ServerError}});

},{"@near-js/utils":230}],195:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BinaryReader=exports.BinaryWriter=exports.BorshError=exports.deserialize=exports.serialize=exports.base_decode=exports.base_encode=void 0;var borsh_1=require("borsh");Object.defineProperty(exports,"base_encode",{enumerable:!0,get:function(){return borsh_1.baseEncode}}),Object.defineProperty(exports,"base_decode",{enumerable:!0,get:function(){return borsh_1.baseDecode}}),Object.defineProperty(exports,"serialize",{enumerable:!0,get:function(){return borsh_1.serialize}}),Object.defineProperty(exports,"deserialize",{enumerable:!0,get:function(){return borsh_1.deserialize}}),Object.defineProperty(exports,"BorshError",{enumerable:!0,get:function(){return borsh_1.BorshError}}),Object.defineProperty(exports,"BinaryWriter",{enumerable:!0,get:function(){return borsh_1.BinaryWriter}}),Object.defineProperty(exports,"BinaryReader",{enumerable:!0,get:function(){return borsh_1.BinaryReader}});

},{"borsh":70}],196:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchJson=void 0;var providers_1=require("@near-js/providers");Object.defineProperty(exports,"fetchJson",{enumerable:!0,get:function(){return providers_1.fetchJson}});

},{"@near-js/providers":202}],197:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.findSeatPrice=exports.diffEpochValidators=void 0;var utils_1=require("@near-js/utils");Object.defineProperty(exports,"diffEpochValidators",{enumerable:!0,get:function(){return utils_1.diffEpochValidators}}),Object.defineProperty(exports,"findSeatPrice",{enumerable:!0,get:function(){return utils_1.findSeatPrice}});

},{"@near-js/utils":230}],198:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalletConnection=exports.ConnectedWalletAccount=void 0;var wallet_account_1=require("@near-js/wallet-account");Object.defineProperty(exports,"ConnectedWalletAccount",{enumerable:!0,get:function(){return wallet_account_1.ConnectedWalletAccount}}),Object.defineProperty(exports,"WalletConnection",{enumerable:!0,get:function(){return wallet_account_1.WalletConnection}});

},{"@near-js/wallet-account":234}],199:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{f(o.next(e))}catch(e){r(e)}}function c(e){try{f(o.throw(e))}catch(e){r(e)}}function f(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}f((o=o.apply(e,t||[])).next())})};function exponentialBackoff(e,t,n,o){return __awaiter(this,void 0,void 0,function*(){let i=e;for(let e=0;e<t;e++){const e=yield o();if(e)return e;yield sleep(i),i*=n}return null})}function sleep(e){return new Promise(t=>setTimeout(t,e))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.exponentialBackoff=void 0,exports.exponentialBackoff=exponentialBackoff;

},{}],200:[function(require,module,exports){
"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const node_fetch_1=__importDefault(require("node-fetch")),http_1=__importDefault(require("http")),https_1=__importDefault(require("https")),httpAgent=new http_1.default.Agent({keepAlive:!0}),httpsAgent=new https_1.default.Agent({keepAlive:!0});function agent(t){return"http:"===t.protocol?httpAgent:httpsAgent}function default_1(t,e){return(0,node_fetch_1.default)(t,Object.assign({agent:agent(new URL(t.toString()))},e))}exports.default=default_1;

},{"http":130,"https":95,"node-fetch":72}],201:[function(require,module,exports){
(function (process,global){(function (){
"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function u(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,u)}l((n=n.apply(e,t||[])).next())})},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchJson=void 0;const types_1=require("@near-js/types"),http_errors_1=__importDefault(require("http-errors")),exponential_backoff_1=require("./exponential-backoff"),START_WAIT_TIME_MS=1e3,BACKOFF_MULTIPLIER=1.5,RETRY_NUMBER=10,logWarning=(...e)=>!process.env.NEAR_NO_LOGS&&console.warn(...e);function fetchJson(e,t){return __awaiter(this,void 0,void 0,function*(){let r={url:null};"string"==typeof e?r.url=e:r=e;const n=yield(0,exponential_backoff_1.exponentialBackoff)(START_WAIT_TIME_MS,RETRY_NUMBER,BACKOFF_MULTIPLIER,()=>__awaiter(this,void 0,void 0,function*(){try{global.fetch||(global.fetch=(yield Promise.resolve().then(()=>__importStar(require("./fetch")))).default);const e=yield global.fetch(r.url,{method:t?"POST":"GET",body:t||void 0,headers:Object.assign(Object.assign({},r.headers),{"Content-Type":"application/json"})});if(!e.ok){if(503===e.status)return logWarning(`Retrying HTTP request for ${r.url} as it's not available now`),null;throw(0,http_errors_1.default)(e.status,yield e.text())}return e}catch(e){if(e.toString().includes("FetchError")||e.toString().includes("Failed to fetch"))return logWarning(`Retrying HTTP request for ${r.url} because of error: ${e}`),null;throw e}}));if(!n)throw new types_1.TypedError(`Exceeded ${RETRY_NUMBER} attempts for ${r.url}.`,"RetriesExceeded");return yield n.json()})}exports.fetchJson=fetchJson;

}).call(this)}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./exponential-backoff":199,"./fetch":200,"@near-js/types":219,"_process":106,"http-errors":94}],202:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchJson=exports.Provider=exports.JsonRpcProvider=exports.exponentialBackoff=void 0;var exponential_backoff_1=require("./exponential-backoff");Object.defineProperty(exports,"exponentialBackoff",{enumerable:!0,get:function(){return exponential_backoff_1.exponentialBackoff}});var json_rpc_provider_1=require("./json-rpc-provider");Object.defineProperty(exports,"JsonRpcProvider",{enumerable:!0,get:function(){return json_rpc_provider_1.JsonRpcProvider}});var provider_1=require("./provider");Object.defineProperty(exports,"Provider",{enumerable:!0,get:function(){return provider_1.Provider}});var fetch_json_1=require("./fetch_json");Object.defineProperty(exports,"fetchJson",{enumerable:!0,get:function(){return fetch_json_1.fetchJson}});

},{"./exponential-backoff":199,"./fetch_json":201,"./json-rpc-provider":203,"./provider":204}],203:[function(require,module,exports){
(function (process,Buffer){(function (){
"use strict";var __awaiter=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{a(n.next(t))}catch(t){o(t)}}function c(t){try{a(n.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(s,c)}a((n=n.apply(t,e||[])).next())})},__rest=this&&this.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JsonRpcProvider=void 0;const utils_1=require("@near-js/utils"),types_1=require("@near-js/types"),transactions_1=require("@near-js/transactions"),borsh_1=require("borsh"),exponential_backoff_1=require("./exponential-backoff"),provider_1=require("./provider"),fetch_json_1=require("./fetch_json"),REQUEST_RETRY_NUMBER=12,REQUEST_RETRY_WAIT=500,REQUEST_RETRY_WAIT_BACKOFF=1.5;let _nextId=123;class JsonRpcProvider extends provider_1.Provider{constructor(t){super(),this.connection=t||{url:""}}status(){return __awaiter(this,void 0,void 0,function*(){return this.sendJsonRpc("status",[])})}sendTransaction(t){return __awaiter(this,void 0,void 0,function*(){const e=(0,transactions_1.encodeTransaction)(t);return this.sendJsonRpc("broadcast_tx_commit",[Buffer.from(e).toString("base64")])})}sendTransactionAsync(t){return __awaiter(this,void 0,void 0,function*(){const e=(0,transactions_1.encodeTransaction)(t);return this.sendJsonRpc("broadcast_tx_async",[Buffer.from(e).toString("base64")])})}txStatus(t,e){return __awaiter(this,void 0,void 0,function*(){return"string"==typeof t?this.txStatusString(t,e):this.txStatusUint8Array(t,e)})}txStatusUint8Array(t,e){return __awaiter(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",[(0,borsh_1.baseEncode)(t),e])})}txStatusString(t,e){return __awaiter(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",[t,e])})}txStatusReceipts(t,e){return __awaiter(this,void 0,void 0,function*(){return"string"==typeof t?this.sendJsonRpc("EXPERIMENTAL_tx_status",[t,e]):this.sendJsonRpc("EXPERIMENTAL_tx_status",[(0,borsh_1.baseEncode)(t),e])})}query(...t){return __awaiter(this,void 0,void 0,function*(){let e;if(1===t.length){const r=t[0],{block_id:n,blockId:i}=r,o=__rest(r,["block_id","blockId"]);e=yield this.sendJsonRpc("query",Object.assign(Object.assign({},o),{block_id:n||i}))}else{const[r,n]=t;e=yield this.sendJsonRpc("query",[r,n])}if(e&&e.error)throw new types_1.TypedError(`Querying failed: ${e.error}.\n${JSON.stringify(e,null,2)}`,(0,utils_1.getErrorTypeFromErrorMessage)(e.error,e.error.name));return e})}block(t){return __awaiter(this,void 0,void 0,function*(){const{finality:e}=t,{blockId:r}=t;return this.sendJsonRpc("block",{block_id:r,finality:e})})}blockChanges(t){return __awaiter(this,void 0,void 0,function*(){const{finality:e}=t,{blockId:r}=t;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:r,finality:e})})}chunk(t){return __awaiter(this,void 0,void 0,function*(){return this.sendJsonRpc("chunk",[t])})}validators(t){return __awaiter(this,void 0,void 0,function*(){return this.sendJsonRpc("validators",[t])})}experimental_protocolConfig(t){return __awaiter(this,void 0,void 0,function*(){const e=t,{blockId:r}=e,n=__rest(e,["blockId"]);return yield this.sendJsonRpc("EXPERIMENTAL_protocol_config",Object.assign(Object.assign({},n),{block_id:r}))})}lightClientProof(t){return __awaiter(this,void 0,void 0,function*(){return yield this.sendJsonRpc("EXPERIMENTAL_light_client_proof",t)})}nextLightClientBlock(t){return __awaiter(this,void 0,void 0,function*(){return yield this.sendJsonRpc("next_light_client_block",t)})}accessKeyChanges(t,e){return __awaiter(this,void 0,void 0,function*(){const{finality:r}=e,{blockId:n}=e;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:t,block_id:n,finality:r})})}singleAccessKeyChanges(t,e){return __awaiter(this,void 0,void 0,function*(){const{finality:r}=e,{blockId:n}=e;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:t,block_id:n,finality:r})})}accountChanges(t,e){return __awaiter(this,void 0,void 0,function*(){const{finality:r}=e,{blockId:n}=e;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:t,block_id:n,finality:r})})}contractStateChanges(t,e,r=""){return __awaiter(this,void 0,void 0,function*(){const{finality:n}=e,{blockId:i}=e;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:t,key_prefix_base64:r,block_id:i,finality:n})})}contractCodeChanges(t,e){return __awaiter(this,void 0,void 0,function*(){const{finality:r}=e,{blockId:n}=e;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:t,block_id:n,finality:r})})}gasPrice(t){return __awaiter(this,void 0,void 0,function*(){return yield this.sendJsonRpc("gas_price",[t])})}sendJsonRpc(t,e){return __awaiter(this,void 0,void 0,function*(){const r=yield(0,exponential_backoff_1.exponentialBackoff)(REQUEST_RETRY_WAIT,REQUEST_RETRY_NUMBER,REQUEST_RETRY_WAIT_BACKOFF,()=>__awaiter(this,void 0,void 0,function*(){try{const r={method:t,params:e,id:_nextId++,jsonrpc:"2.0"},n=yield(0,fetch_json_1.fetchJson)(this.connection,JSON.stringify(r));if(n.error){if("object"==typeof n.error.data){if("string"==typeof n.error.data.error_message&&"string"==typeof n.error.data.error_type)throw new types_1.TypedError(n.error.data.error_message,n.error.data.error_type);throw(0,utils_1.parseRpcError)(n.error.data)}{const t=`[${n.error.code}] ${n.error.message}: ${n.error.data}`;if("Timeout"===n.error.data||t.includes("Timeout error")||t.includes("query has timed out"))throw new types_1.TypedError(t,"TimeoutError");throw new types_1.TypedError(t,(0,utils_1.getErrorTypeFromErrorMessage)(n.error.data,n.error.name))}}return n}catch(r){if("TimeoutError"===r.type)return process.env.NEAR_NO_LOGS||console.warn(`Retrying request to ${t} as it has timed out`,e),null;throw r}})),{result:n}=r;if(void 0===n)throw new types_1.TypedError(`Exceeded ${REQUEST_RETRY_NUMBER} attempts for request to ${t}.`,"RetriesExceeded");return n})}}exports.JsonRpcProvider=JsonRpcProvider;

}).call(this)}).call(this,require('_process'),require("buffer").Buffer)
},{"./exponential-backoff":199,"./fetch_json":201,"./provider":204,"@near-js/transactions":212,"@near-js/types":219,"@near-js/utils":230,"_process":106,"borsh":70,"buffer":74}],204:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Provider=void 0;class Provider{}exports.Provider=Provider;

},{}],205:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))(function(i,o){function s(e){try{a(n.next(e))}catch(e){o(e)}}function u(e){try{a(n.throw(e))}catch(e){o(e)}}function a(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(s,u)}a((n=n.apply(e,r||[])).next())})},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.InMemorySigner=void 0;const crypto_1=require("@near-js/crypto"),keystores_1=require("@near-js/keystores"),js_sha256_1=__importDefault(require("js-sha256")),signer_1=require("./signer");class InMemorySigner extends signer_1.Signer{constructor(e){super(),this.keyStore=e}static fromKeyPair(e,r,t){return __awaiter(this,void 0,void 0,function*(){const n=new keystores_1.InMemoryKeyStore;return yield n.setKey(e,r,t),new InMemorySigner(n)})}createKey(e,r){return __awaiter(this,void 0,void 0,function*(){const t=crypto_1.KeyPair.fromRandom("ed25519");return yield this.keyStore.setKey(r,e,t),t.getPublicKey()})}getPublicKey(e,r){return __awaiter(this,void 0,void 0,function*(){const t=yield this.keyStore.getKey(r,e);return null===t?null:t.getPublicKey()})}signMessage(e,r,t){return __awaiter(this,void 0,void 0,function*(){const n=new Uint8Array(js_sha256_1.default.sha256.array(e));if(!r)throw new Error("InMemorySigner requires provided account id");const i=yield this.keyStore.getKey(t,r);if(null===i)throw new Error(`Key for ${r} not found in ${t}`);return i.sign(n)})}toString(){return`InMemorySigner(${this.keyStore})`}}exports.InMemorySigner=InMemorySigner;

},{"./signer":207,"@near-js/crypto":158,"@near-js/keystores":166,"js-sha256":98}],206:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Signer=exports.InMemorySigner=void 0;var in_memory_signer_1=require("./in_memory_signer");Object.defineProperty(exports,"InMemorySigner",{enumerable:!0,get:function(){return in_memory_signer_1.InMemorySigner}});var signer_1=require("./signer");Object.defineProperty(exports,"Signer",{enumerable:!0,get:function(){return signer_1.Signer}});

},{"./in_memory_signer":205,"./signer":207}],207:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Signer=void 0;class Signer{}exports.Signer=Signer;

},{}],208:[function(require,module,exports){
(function (Buffer){(function (){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.actionCreators=exports.stringifyJsonOrBytes=void 0;const actions_1=require("./actions");function fullAccessKey(){return new actions_1.AccessKey({permission:new actions_1.AccessKeyPermission({fullAccess:new actions_1.FullAccessPermission({})})})}function functionCallAccessKey(e,n,t){return new actions_1.AccessKey({permission:new actions_1.AccessKeyPermission({functionCall:new actions_1.FunctionCallPermission({receiverId:e,allowance:t,methodNames:n})})})}function createAccount(){return new actions_1.Action({createAccount:new actions_1.CreateAccount({})})}function deployContract(e){return new actions_1.Action({deployContract:new actions_1.DeployContract({code:e})})}function stringifyJsonOrBytes(e){return void 0!==e.byteLength&&e.byteLength===e.length?e:Buffer.from(JSON.stringify(e))}function functionCall(e,n,t,c,o=stringifyJsonOrBytes,s=!1){return s?new actions_1.Action({functionCall:new actions_1.FunctionCall({methodName:e,args:n,gas:t,deposit:c})}):new actions_1.Action({functionCall:new actions_1.FunctionCall({methodName:e,args:o(n),gas:t,deposit:c})})}function transfer(e){return new actions_1.Action({transfer:new actions_1.Transfer({deposit:e})})}function stake(e,n){return new actions_1.Action({stake:new actions_1.Stake({stake:e,publicKey:n})})}function addKey(e,n){return new actions_1.Action({addKey:new actions_1.AddKey({publicKey:e,accessKey:n})})}function deleteKey(e){return new actions_1.Action({deleteKey:new actions_1.DeleteKey({publicKey:e})})}function deleteAccount(e){return new actions_1.Action({deleteAccount:new actions_1.DeleteAccount({beneficiaryId:e})})}function signedDelegate({delegateAction:e,signature:n}){return new actions_1.Action({signedDelegate:new actions_1.SignedDelegate({delegateAction:e,signature:n})})}exports.stringifyJsonOrBytes=stringifyJsonOrBytes,exports.actionCreators={addKey:addKey,createAccount:createAccount,deleteAccount:deleteAccount,deleteKey:deleteKey,deployContract:deployContract,fullAccessKey:fullAccessKey,functionCall:functionCall,functionCallAccessKey:functionCallAccessKey,signedDelegate:signedDelegate,stake:stake,transfer:transfer};

}).call(this)}).call(this,require("buffer").Buffer)
},{"./actions":209,"buffer":74}],209:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Action=exports.SignedDelegate=exports.DeleteAccount=exports.DeleteKey=exports.AddKey=exports.Stake=exports.Transfer=exports.FunctionCall=exports.DeployContract=exports.CreateAccount=exports.IAction=exports.AccessKey=exports.AccessKeyPermission=exports.FullAccessPermission=exports.FunctionCallPermission=void 0;const types_1=require("@near-js/types");class Enum{constructor(e){if(1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map(s=>{this[s]=e[s],this.enum=s})}}class FunctionCallPermission extends types_1.Assignable{}exports.FunctionCallPermission=FunctionCallPermission;class FullAccessPermission extends types_1.Assignable{}exports.FullAccessPermission=FullAccessPermission;class AccessKeyPermission extends Enum{}exports.AccessKeyPermission=AccessKeyPermission;class AccessKey extends types_1.Assignable{}exports.AccessKey=AccessKey;class IAction extends types_1.Assignable{}exports.IAction=IAction;class CreateAccount extends IAction{}exports.CreateAccount=CreateAccount;class DeployContract extends IAction{}exports.DeployContract=DeployContract;class FunctionCall extends IAction{}exports.FunctionCall=FunctionCall;class Transfer extends IAction{}exports.Transfer=Transfer;class Stake extends IAction{}exports.Stake=Stake;class AddKey extends IAction{}exports.AddKey=AddKey;class DeleteKey extends IAction{}exports.DeleteKey=DeleteKey;class DeleteAccount extends IAction{}exports.DeleteAccount=DeleteAccount;class SignedDelegate extends IAction{}exports.SignedDelegate=SignedDelegate;class Action extends Enum{}exports.Action=Action;

},{"@near-js/types":219}],210:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createTransaction=void 0;const schema_1=require("./schema");function createTransaction(e,r,c,a,n,t){return new schema_1.Transaction({signerId:e,publicKey:r,nonce:a,receiverId:c,actions:n,blockHash:t})}exports.createTransaction=createTransaction;

},{"./schema":214}],211:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildDelegateAction=exports.DelegateAction=void 0;const types_1=require("@near-js/types"),action_creators_1=require("./action_creators"),{addKey:addKey,createAccount:createAccount,deleteAccount:deleteAccount,deleteKey:deleteKey,deployContract:deployContract,functionCall:functionCall,stake:stake,transfer:transfer}=action_creators_1.actionCreators;class DelegateAction extends types_1.Assignable{}function buildDelegateAction({actions:e,maxBlockHeight:t,nonce:a,publicKey:c,receiverId:r,senderId:n}){return new DelegateAction({senderId:n,receiverId:r,actions:e.map(e=>{if(!e.type&&!e.params)return e;switch(e.type){case"AddKey":{const{publicKey:t,accessKey:a}=e.params;return addKey(t,a)}case"CreateAccount":return createAccount(e.params.createAccount);case"DeleteAccount":return deleteAccount(e.params.deleteAccount);case"DeleteKey":return deleteKey(e.params.publicKey);case"DeployContract":return deployContract(e.params.code);case"FunctionCall":{const{methodName:t,args:a,gas:c,deposit:r}=e.params;return functionCall(t,a,c,r)}case"Stake":return stake(e.params.stake,e.params.publicKey);case"Transfer":{const{deposit:t}=e.params;return transfer(t)}}throw new Error("Unrecognized action")}),nonce:a,maxBlockHeight:t,publicKey:c})}exports.DelegateAction=DelegateAction,exports.buildDelegateAction=buildDelegateAction;

},{"./action_creators":208,"@near-js/types":219}],212:[function(require,module,exports){
"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,r,t,o){void 0===o&&(o=t);var i=Object.getOwnPropertyDescriptor(r,t);i&&("get"in i?r.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,o,i)}:function(e,r,t,o){void 0===o&&(o=t),e[o]=r[t]}),__exportStar=this&&this.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||__createBinding(r,e,t)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(require("./action_creators"),exports),__exportStar(require("./actions"),exports),__exportStar(require("./create_transaction"),exports),__exportStar(require("./delegate"),exports),__exportStar(require("./schema"),exports),__exportStar(require("./sign"),exports),__exportStar(require("./signature"),exports);

},{"./action_creators":208,"./actions":209,"./create_transaction":210,"./delegate":211,"./schema":214,"./sign":215,"./signature":216}],213:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DelegateActionPrefix=void 0;const types_1=require("@near-js/types"),ACTIONABLE_MESSAGE_BASE=Math.pow(2,30),NEP={MetaTransactions:366};class NEPPrefix extends types_1.Assignable{}class ActionableMessagePrefix extends NEPPrefix{constructor(e){super({prefix:ACTIONABLE_MESSAGE_BASE+e})}}class DelegateActionPrefix extends ActionableMessagePrefix{constructor(){super(NEP.MetaTransactions)}}exports.DelegateActionPrefix=DelegateActionPrefix;

},{"@near-js/types":219}],214:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SCHEMA=exports.SignedTransaction=exports.Transaction=exports.decodeSignedTransaction=exports.decodeTransaction=exports.encodeTransaction=exports.encodeSignedDelegate=exports.encodeDelegateAction=void 0;const crypto_1=require("@near-js/crypto"),types_1=require("@near-js/types"),borsh_1=require("borsh"),actions_1=require("./actions"),delegate_1=require("./delegate"),prefix_1=require("./prefix"),signature_1=require("./signature");function encodeDelegateAction(e){return new Uint8Array([...(0,borsh_1.serialize)(exports.SCHEMA,new prefix_1.DelegateActionPrefix),...(0,borsh_1.serialize)(exports.SCHEMA,e)])}function encodeSignedDelegate(e){return(0,borsh_1.serialize)(exports.SCHEMA,e)}function encodeTransaction(e){return(0,borsh_1.serialize)(exports.SCHEMA,e)}function decodeTransaction(e){return(0,borsh_1.deserialize)(exports.SCHEMA,Transaction,e)}function decodeSignedTransaction(e){return(0,borsh_1.deserialize)(exports.SCHEMA,SignedTransaction,e)}exports.encodeDelegateAction=encodeDelegateAction,exports.encodeSignedDelegate=encodeSignedDelegate,exports.encodeTransaction=encodeTransaction,exports.decodeTransaction=decodeTransaction,exports.decodeSignedTransaction=decodeSignedTransaction;class Transaction extends types_1.Assignable{encode(){return encodeTransaction(this)}static decode(e){return decodeTransaction(e)}}exports.Transaction=Transaction;class SignedTransaction extends types_1.Assignable{encode(){return encodeTransaction(this)}static decode(e){return decodeSignedTransaction(e)}}exports.SignedTransaction=SignedTransaction,exports.SCHEMA=new Map([[signature_1.Signature,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[SignedTransaction,{kind:"struct",fields:[["transaction",Transaction],["signature",signature_1.Signature]]}],[Transaction,{kind:"struct",fields:[["signerId","string"],["publicKey",crypto_1.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[actions_1.Action]]]}],[crypto_1.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[actions_1.AccessKey,{kind:"struct",fields:[["nonce","u64"],["permission",actions_1.AccessKeyPermission]]}],[actions_1.AccessKeyPermission,{kind:"enum",field:"enum",values:[["functionCall",actions_1.FunctionCallPermission],["fullAccess",actions_1.FullAccessPermission]]}],[actions_1.FunctionCallPermission,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[actions_1.FullAccessPermission,{kind:"struct",fields:[]}],[actions_1.Action,{kind:"enum",field:"enum",values:[["createAccount",actions_1.CreateAccount],["deployContract",actions_1.DeployContract],["functionCall",actions_1.FunctionCall],["transfer",actions_1.Transfer],["stake",actions_1.Stake],["addKey",actions_1.AddKey],["deleteKey",actions_1.DeleteKey],["deleteAccount",actions_1.DeleteAccount],["signedDelegate",actions_1.SignedDelegate]]}],[actions_1.CreateAccount,{kind:"struct",fields:[]}],[actions_1.DeployContract,{kind:"struct",fields:[["code",["u8"]]]}],[actions_1.FunctionCall,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[actions_1.Transfer,{kind:"struct",fields:[["deposit","u128"]]}],[actions_1.Stake,{kind:"struct",fields:[["stake","u128"],["publicKey",crypto_1.PublicKey]]}],[actions_1.AddKey,{kind:"struct",fields:[["publicKey",crypto_1.PublicKey],["accessKey",actions_1.AccessKey]]}],[actions_1.DeleteKey,{kind:"struct",fields:[["publicKey",crypto_1.PublicKey]]}],[actions_1.DeleteAccount,{kind:"struct",fields:[["beneficiaryId","string"]]}],[delegate_1.DelegateAction,{kind:"struct",fields:[["senderId","string"],["receiverId","string"],["actions",[actions_1.Action]],["nonce","u64"],["maxBlockHeight","u64"],["publicKey",crypto_1.PublicKey]]}],[prefix_1.DelegateActionPrefix,{kind:"struct",fields:[["prefix","u32"]]}],[actions_1.SignedDelegate,{kind:"struct",fields:[["delegateAction",delegate_1.DelegateAction],["signature",signature_1.Signature]]}]]);

},{"./actions":209,"./delegate":211,"./prefix":213,"./signature":216,"@near-js/crypto":158,"@near-js/types":219,"borsh":70}],215:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,r){function s(e){try{o(i.next(e))}catch(e){r(e)}}function c(e){try{o(i.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,c)}o((i=i.apply(e,t||[])).next())})},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.signDelegateAction=exports.signTransaction=void 0;const js_sha256_1=__importDefault(require("js-sha256")),actions_1=require("./actions"),create_transaction_1=require("./create_transaction"),schema_1=require("./schema"),signature_1=require("./signature");function signTransactionObject(e,t,n,i){return __awaiter(this,void 0,void 0,function*(){const a=(0,schema_1.encodeTransaction)(e),r=new Uint8Array(js_sha256_1.default.sha256.array(a)),s=yield t.signMessage(a,n,i);return[r,new schema_1.SignedTransaction({transaction:e,signature:new signature_1.Signature({keyType:e.publicKey.keyType,data:s.signature})})]})}function signTransaction(...e){return __awaiter(this,void 0,void 0,function*(){if(e[0].constructor===schema_1.Transaction){const[t,n,i,a]=e;return signTransactionObject(t,n,i,a)}{const[t,n,i,a,r,s,c]=e,o=yield r.getPublicKey(s,c);return signTransactionObject((0,create_transaction_1.createTransaction)(s,o,t,n,i,a),r,s,c)}})}function signDelegateAction({delegateAction:e,signer:t}){return __awaiter(this,void 0,void 0,function*(){const n=(0,schema_1.encodeDelegateAction)(e),i=yield t.sign(n),a=new actions_1.SignedDelegate({delegateAction:e,signature:new signature_1.Signature({keyType:e.publicKey.keyType,data:i})});return{hash:new Uint8Array(js_sha256_1.default.sha256.array(n)),signedDelegateAction:a}})}exports.signTransaction=signTransaction,exports.signDelegateAction=signDelegateAction;

},{"./actions":209,"./create_transaction":210,"./schema":214,"./signature":216,"js-sha256":98}],216:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Signature=void 0;const types_1=require("@near-js/types");class Signature extends types_1.Assignable{}exports.Signature=Signature;

},{"@near-js/types":219}],217:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Assignable=void 0;class Assignable{constructor(s){Object.keys(s).map(e=>{this[e]=s[e]})}}exports.Assignable=Assignable;

},{}],218:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ErrorContext=exports.TypedError=exports.ArgumentTypeError=exports.PositionalArgsError=void 0;class PositionalArgsError extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}exports.PositionalArgsError=PositionalArgsError;class ArgumentTypeError extends Error{constructor(r,e,t){super(`Expected ${e} for '${r}' argument, but got '${JSON.stringify(t)}'`)}}exports.ArgumentTypeError=ArgumentTypeError;class TypedError extends Error{constructor(r,e,t){super(r),this.type=e||"UntypedError",this.context=t}}exports.TypedError=TypedError;class ErrorContext{constructor(r){this.transactionHash=r}}exports.ErrorContext=ErrorContext;

},{}],219:[function(require,module,exports){
"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,r,t,i){void 0===i&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);o&&("get"in o?r.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,i,o)}:function(e,r,t,i){void 0===i&&(i=t),e[i]=r[t]}),__exportStar=this&&this.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||__createBinding(r,e,t)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(require("./assignable"),exports),__exportStar(require("./errors"),exports),__exportStar(require("./provider"),exports);

},{"./assignable":217,"./errors":218,"./provider":220}],220:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FinalExecutionStatusBasic=exports.ExecutionStatusBasic=exports.IdType=void 0;var light_client_1=require("./light_client");Object.defineProperty(exports,"IdType",{enumerable:!0,get:function(){return light_client_1.IdType}});var response_1=require("./response");Object.defineProperty(exports,"ExecutionStatusBasic",{enumerable:!0,get:function(){return response_1.ExecutionStatusBasic}}),Object.defineProperty(exports,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return response_1.FinalExecutionStatusBasic}});

},{"./light_client":221,"./response":222}],221:[function(require,module,exports){
"use strict";var IdType;Object.defineProperty(exports,"__esModule",{value:!0}),exports.IdType=void 0,function(e){e.Transaction="transaction",e.Receipt="receipt"}(IdType=exports.IdType||(exports.IdType={}));

},{}],222:[function(require,module,exports){
"use strict";var ExecutionStatusBasic,FinalExecutionStatusBasic;Object.defineProperty(exports,"__esModule",{value:!0}),exports.FinalExecutionStatusBasic=exports.ExecutionStatusBasic=void 0,function(t){t.Unknown="Unknown",t.Pending="Pending",t.Failure="Failure"}(ExecutionStatusBasic=exports.ExecutionStatusBasic||(exports.ExecutionStatusBasic={})),function(t){t.NotStarted="NotStarted",t.Started="Started",t.Failure="Failure"}(FinalExecutionStatusBasic=exports.FinalExecutionStatusBasic||(exports.FinalExecutionStatusBasic={}));

},{}],223:[function(require,module,exports){
"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_FUNCTION_CALL_GAS=void 0;const bn_js_1=__importDefault(require("bn.js"));exports.DEFAULT_FUNCTION_CALL_GAS=new bn_js_1.default("30000000000000");

},{"bn.js":69}],224:[function(require,module,exports){
module.exports={
    "GasLimitExceeded": "Exceeded the maximum amount of gas allowed to burn per contract",
    "MethodEmptyName": "Method name is empty",
    "WasmerCompileError": "Wasmer compilation error: {{msg}}",
    "GuestPanic": "Smart contract panicked: {{panic_msg}}",
    "Memory": "Error creating Wasm memory",
    "GasExceeded": "Exceeded the prepaid gas",
    "MethodUTF8Error": "Method name is not valid UTF8 string",
    "BadUTF16": "String encoding is bad UTF-16 sequence",
    "WasmTrap": "WebAssembly trap: {{msg}}",
    "GasInstrumentation": "Gas instrumentation failed or contract has denied instructions.",
    "InvalidPromiseIndex": "{{promise_idx}} does not correspond to existing promises",
    "InvalidPromiseResultIndex": "Accessed invalid promise result index: {{result_idx}}",
    "Deserialization": "Error happened while deserializing the module",
    "MethodNotFound": "Contract method is not found",
    "InvalidRegisterId": "Accessed invalid register id: {{register_id}}",
    "InvalidReceiptIndex": "VM Logic returned an invalid receipt index: {{receipt_index}}",
    "EmptyMethodName": "Method name is empty in contract call",
    "CannotReturnJointPromise": "Returning joint promise is currently prohibited",
    "StackHeightInstrumentation": "Stack instrumentation failed",
    "CodeDoesNotExist": "Cannot find contract code for account {{account_id}}",
    "MethodInvalidSignature": "Invalid method signature",
    "IntegerOverflow": "Integer overflow happened during contract execution",
    "MemoryAccessViolation": "MemoryAccessViolation",
    "InvalidIteratorIndex": "Iterator index {{iterator_index}} does not exist",
    "IteratorWasInvalidated": "Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie",
    "InvalidAccountId": "VM Logic returned an invalid account id",
    "Serialization": "Error happened while serializing the module",
    "CannotAppendActionToJointPromise": "Actions can only be appended to non-joint promise.",
    "InternalMemoryDeclared": "Internal memory declaration has been found in the module",
    "Instantiate": "Error happened during instantiation",
    "ProhibitedInView": "{{method_name}} is not allowed in view calls",
    "InvalidMethodName": "VM Logic returned an invalid method name",
    "BadUTF8": "String encoding is bad UTF-8 sequence",
    "BalanceExceeded": "Exceeded the account balance",
    "LinkError": "Wasm contract link error: {{msg}}",
    "InvalidPublicKey": "VM Logic provided an invalid public key",
    "ActorNoPermission": "Actor {{actor_id}} doesn't have permission to account {{account_id}} to complete the action",
    "LackBalanceForState": "The account {{account_id}} wouldn't have enough balance to cover storage, required to have {{amount}} yoctoNEAR more",
    "ReceiverMismatch": "Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.",
    "CostOverflow": "Transaction gas or balance cost is too high",
    "InvalidSignature": "Transaction is not signed with the given public key",
    "AccessKeyNotFound": "Signer \"{{account_id}}\" doesn't have access key with the given public_key {{public_key}}",
    "NotEnoughBalance": "Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}",
    "NotEnoughAllowance": "Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}",
    "Expired": "Transaction has expired",
    "DeleteAccountStaking": "Account {{account_id}} is staking and can not be deleted",
    "SignerDoesNotExist": "Signer {{signer_id}} does not exist",
    "TriesToStake": "Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}",
    "AddKeyAlreadyExists": "The public key {{public_key}} is already used for an existing access key",
    "InvalidSigner": "Invalid signer account ID {{signer_id}} according to requirements",
    "CreateAccountNotAllowed": "The new account_id {{account_id}} can't be created by {{predecessor_id}}",
    "RequiresFullAccess": "The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key",
    "TriesToUnstake": "Account {{account_id}} is not yet staked, but tried to unstake",
    "InvalidNonce": "Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}",
    "AccountAlreadyExists": "Can't create a new account {{account_id}}, because it already exists",
    "InvalidChain": "Transaction parent block hash doesn't belong to the current chain",
    "AccountDoesNotExist": "Can't complete the action because account {{account_id}} doesn't exist",
    "MethodNameMismatch": "Transaction method name {{method_name}} isn't allowed by the access key",
    "DeleteAccountHasRent": "Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent",
    "DeleteAccountHasEnoughBalance": "Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it's storage",
    "InvalidReceiver": "Invalid receiver account ID {{receiver_id}} according to requirements",
    "DeleteKeyDoesNotExist": "Account {{account_id}} tries to remove an access key that doesn't exist",
    "Timeout": "Timeout exceeded",
    "Closed": "Connection closed"
}

},{}],225:[function(require,module,exports){
(function (process){(function (){
"use strict";function logWarning(...e){process.env.NEAR_NO_LOGS||console.warn(...e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.logWarning=void 0,exports.logWarning=logWarning;

}).call(this)}).call(this,require('_process'))
},{"_process":106}],226:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseRpcError=exports.parseResultError=exports.getErrorTypeFromErrorMessage=exports.formatError=exports.ServerError=exports.logWarning=void 0;var errors_1=require("./errors");Object.defineProperty(exports,"logWarning",{enumerable:!0,get:function(){return errors_1.logWarning}});var rpc_errors_1=require("./rpc_errors");Object.defineProperty(exports,"ServerError",{enumerable:!0,get:function(){return rpc_errors_1.ServerError}}),Object.defineProperty(exports,"formatError",{enumerable:!0,get:function(){return rpc_errors_1.formatError}}),Object.defineProperty(exports,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return rpc_errors_1.getErrorTypeFromErrorMessage}}),Object.defineProperty(exports,"parseResultError",{enumerable:!0,get:function(){return rpc_errors_1.parseResultError}}),Object.defineProperty(exports,"parseRpcError",{enumerable:!0,get:function(){return rpc_errors_1.parseRpcError}});

},{"./errors":225,"./rpc_errors":228}],227:[function(require,module,exports){
module.exports={
    "schema": {
        "BadUTF16": {
            "name": "BadUTF16",
            "subtypes": [],
            "props": {}
        },
        "BadUTF8": {
            "name": "BadUTF8",
            "subtypes": [],
            "props": {}
        },
        "BalanceExceeded": {
            "name": "BalanceExceeded",
            "subtypes": [],
            "props": {}
        },
        "BreakpointTrap": {
            "name": "BreakpointTrap",
            "subtypes": [],
            "props": {}
        },
        "CacheError": {
            "name": "CacheError",
            "subtypes": [
                "ReadError",
                "WriteError",
                "DeserializationError",
                "SerializationError"
            ],
            "props": {}
        },
        "CallIndirectOOB": {
            "name": "CallIndirectOOB",
            "subtypes": [],
            "props": {}
        },
        "CannotAppendActionToJointPromise": {
            "name": "CannotAppendActionToJointPromise",
            "subtypes": [],
            "props": {}
        },
        "CannotReturnJointPromise": {
            "name": "CannotReturnJointPromise",
            "subtypes": [],
            "props": {}
        },
        "CodeDoesNotExist": {
            "name": "CodeDoesNotExist",
            "subtypes": [],
            "props": {
                "account_id": ""
            }
        },
        "CompilationError": {
            "name": "CompilationError",
            "subtypes": [
                "CodeDoesNotExist",
                "PrepareError",
                "WasmerCompileError"
            ],
            "props": {}
        },
        "ContractSizeExceeded": {
            "name": "ContractSizeExceeded",
            "subtypes": [],
            "props": {
                "limit": "",
                "size": ""
            }
        },
        "Deprecated": {
            "name": "Deprecated",
            "subtypes": [],
            "props": {
                "method_name": ""
            }
        },
        "Deserialization": {
            "name": "Deserialization",
            "subtypes": [],
            "props": {}
        },
        "DeserializationError": {
            "name": "DeserializationError",
            "subtypes": [],
            "props": {}
        },
        "EmptyMethodName": {
            "name": "EmptyMethodName",
            "subtypes": [],
            "props": {}
        },
        "FunctionCallError": {
            "name": "FunctionCallError",
            "subtypes": [
                "CompilationError",
                "LinkError",
                "MethodResolveError",
                "WasmTrap",
                "WasmUnknownError",
                "HostError",
                "EvmError"
            ],
            "props": {}
        },
        "GasExceeded": {
            "name": "GasExceeded",
            "subtypes": [],
            "props": {}
        },
        "GasInstrumentation": {
            "name": "GasInstrumentation",
            "subtypes": [],
            "props": {}
        },
        "GasLimitExceeded": {
            "name": "GasLimitExceeded",
            "subtypes": [],
            "props": {}
        },
        "GenericTrap": {
            "name": "GenericTrap",
            "subtypes": [],
            "props": {}
        },
        "GuestPanic": {
            "name": "GuestPanic",
            "subtypes": [],
            "props": {
                "panic_msg": ""
            }
        },
        "HostError": {
            "name": "HostError",
            "subtypes": [
                "BadUTF16",
                "BadUTF8",
                "GasExceeded",
                "GasLimitExceeded",
                "BalanceExceeded",
                "EmptyMethodName",
                "GuestPanic",
                "IntegerOverflow",
                "InvalidPromiseIndex",
                "CannotAppendActionToJointPromise",
                "CannotReturnJointPromise",
                "InvalidPromiseResultIndex",
                "InvalidRegisterId",
                "IteratorWasInvalidated",
                "MemoryAccessViolation",
                "InvalidReceiptIndex",
                "InvalidIteratorIndex",
                "InvalidAccountId",
                "InvalidMethodName",
                "InvalidPublicKey",
                "ProhibitedInView",
                "NumberOfLogsExceeded",
                "KeyLengthExceeded",
                "ValueLengthExceeded",
                "TotalLogLengthExceeded",
                "NumberPromisesExceeded",
                "NumberInputDataDependenciesExceeded",
                "ReturnedValueLengthExceeded",
                "ContractSizeExceeded",
                "Deprecated"
            ],
            "props": {}
        },
        "IllegalArithmetic": {
            "name": "IllegalArithmetic",
            "subtypes": [],
            "props": {}
        },
        "IncorrectCallIndirectSignature": {
            "name": "IncorrectCallIndirectSignature",
            "subtypes": [],
            "props": {}
        },
        "Instantiate": {
            "name": "Instantiate",
            "subtypes": [],
            "props": {}
        },
        "IntegerOverflow": {
            "name": "IntegerOverflow",
            "subtypes": [],
            "props": {}
        },
        "InternalMemoryDeclared": {
            "name": "InternalMemoryDeclared",
            "subtypes": [],
            "props": {}
        },
        "InvalidAccountId": {
            "name": "InvalidAccountId",
            "subtypes": [],
            "props": {
                "account_id": ""
            }
        },
        "InvalidIteratorIndex": {
            "name": "InvalidIteratorIndex",
            "subtypes": [],
            "props": {
                "iterator_index": ""
            }
        },
        "InvalidMethodName": {
            "name": "InvalidMethodName",
            "subtypes": [],
            "props": {}
        },
        "InvalidPromiseIndex": {
            "name": "InvalidPromiseIndex",
            "subtypes": [],
            "props": {
                "promise_idx": ""
            }
        },
        "InvalidPromiseResultIndex": {
            "name": "InvalidPromiseResultIndex",
            "subtypes": [],
            "props": {
                "result_idx": ""
            }
        },
        "InvalidPublicKey": {
            "name": "InvalidPublicKey",
            "subtypes": [],
            "props": {}
        },
        "InvalidReceiptIndex": {
            "name": "InvalidReceiptIndex",
            "subtypes": [],
            "props": {
                "receipt_index": ""
            }
        },
        "InvalidRegisterId": {
            "name": "InvalidRegisterId",
            "subtypes": [],
            "props": {
                "register_id": ""
            }
        },
        "IteratorWasInvalidated": {
            "name": "IteratorWasInvalidated",
            "subtypes": [],
            "props": {
                "iterator_index": ""
            }
        },
        "KeyLengthExceeded": {
            "name": "KeyLengthExceeded",
            "subtypes": [],
            "props": {
                "length": "",
                "limit": ""
            }
        },
        "LinkError": {
            "name": "LinkError",
            "subtypes": [],
            "props": {
                "msg": ""
            }
        },
        "Memory": {
            "name": "Memory",
            "subtypes": [],
            "props": {}
        },
        "MemoryAccessViolation": {
            "name": "MemoryAccessViolation",
            "subtypes": [],
            "props": {}
        },
        "MemoryOutOfBounds": {
            "name": "MemoryOutOfBounds",
            "subtypes": [],
            "props": {}
        },
        "MethodEmptyName": {
            "name": "MethodEmptyName",
            "subtypes": [],
            "props": {}
        },
        "MethodInvalidSignature": {
            "name": "MethodInvalidSignature",
            "subtypes": [],
            "props": {}
        },
        "MethodNotFound": {
            "name": "MethodNotFound",
            "subtypes": [],
            "props": {}
        },
        "MethodResolveError": {
            "name": "MethodResolveError",
            "subtypes": [
                "MethodEmptyName",
                "MethodUTF8Error",
                "MethodNotFound",
                "MethodInvalidSignature"
            ],
            "props": {}
        },
        "MethodUTF8Error": {
            "name": "MethodUTF8Error",
            "subtypes": [],
            "props": {}
        },
        "MisalignedAtomicAccess": {
            "name": "MisalignedAtomicAccess",
            "subtypes": [],
            "props": {}
        },
        "NumberInputDataDependenciesExceeded": {
            "name": "NumberInputDataDependenciesExceeded",
            "subtypes": [],
            "props": {
                "limit": "",
                "number_of_input_data_dependencies": ""
            }
        },
        "NumberOfLogsExceeded": {
            "name": "NumberOfLogsExceeded",
            "subtypes": [],
            "props": {
                "limit": ""
            }
        },
        "NumberPromisesExceeded": {
            "name": "NumberPromisesExceeded",
            "subtypes": [],
            "props": {
                "limit": "",
                "number_of_promises": ""
            }
        },
        "PrepareError": {
            "name": "PrepareError",
            "subtypes": [
                "Serialization",
                "Deserialization",
                "InternalMemoryDeclared",
                "GasInstrumentation",
                "StackHeightInstrumentation",
                "Instantiate",
                "Memory"
            ],
            "props": {}
        },
        "ProhibitedInView": {
            "name": "ProhibitedInView",
            "subtypes": [],
            "props": {
                "method_name": ""
            }
        },
        "ReadError": {
            "name": "ReadError",
            "subtypes": [],
            "props": {}
        },
        "ReturnedValueLengthExceeded": {
            "name": "ReturnedValueLengthExceeded",
            "subtypes": [],
            "props": {
                "length": "",
                "limit": ""
            }
        },
        "Serialization": {
            "name": "Serialization",
            "subtypes": [],
            "props": {}
        },
        "SerializationError": {
            "name": "SerializationError",
            "subtypes": [],
            "props": {
                "hash": ""
            }
        },
        "StackHeightInstrumentation": {
            "name": "StackHeightInstrumentation",
            "subtypes": [],
            "props": {}
        },
        "StackOverflow": {
            "name": "StackOverflow",
            "subtypes": [],
            "props": {}
        },
        "TotalLogLengthExceeded": {
            "name": "TotalLogLengthExceeded",
            "subtypes": [],
            "props": {
                "length": "",
                "limit": ""
            }
        },
        "Unreachable": {
            "name": "Unreachable",
            "subtypes": [],
            "props": {}
        },
        "ValueLengthExceeded": {
            "name": "ValueLengthExceeded",
            "subtypes": [],
            "props": {
                "length": "",
                "limit": ""
            }
        },
        "WasmTrap": {
            "name": "WasmTrap",
            "subtypes": [
                "Unreachable",
                "IncorrectCallIndirectSignature",
                "MemoryOutOfBounds",
                "CallIndirectOOB",
                "IllegalArithmetic",
                "MisalignedAtomicAccess",
                "BreakpointTrap",
                "StackOverflow",
                "GenericTrap"
            ],
            "props": {}
        },
        "WasmUnknownError": {
            "name": "WasmUnknownError",
            "subtypes": [],
            "props": {}
        },
        "WasmerCompileError": {
            "name": "WasmerCompileError",
            "subtypes": [],
            "props": {
                "msg": ""
            }
        },
        "WriteError": {
            "name": "WriteError",
            "subtypes": [],
            "props": {}
        },
        "AccessKeyNotFound": {
            "name": "AccessKeyNotFound",
            "subtypes": [],
            "props": {
                "account_id": "",
                "public_key": ""
            }
        },
        "AccountAlreadyExists": {
            "name": "AccountAlreadyExists",
            "subtypes": [],
            "props": {
                "account_id": ""
            }
        },
        "AccountDoesNotExist": {
            "name": "AccountDoesNotExist",
            "subtypes": [],
            "props": {
                "account_id": ""
            }
        },
        "ActionError": {
            "name": "ActionError",
            "subtypes": [
                "AccountAlreadyExists",
                "AccountDoesNotExist",
                "CreateAccountOnlyByRegistrar",
                "CreateAccountNotAllowed",
                "ActorNoPermission",
                "DeleteKeyDoesNotExist",
                "AddKeyAlreadyExists",
                "DeleteAccountStaking",
                "LackBalanceForState",
                "TriesToUnstake",
                "TriesToStake",
                "InsufficientStake",
                "FunctionCallError",
                "NewReceiptValidationError",
                "OnlyImplicitAccountCreationAllowed"
            ],
            "props": {
                "index": ""
            }
        },
        "ActionsValidationError": {
            "name": "ActionsValidationError",
            "subtypes": [
                "DeleteActionMustBeFinal",
                "TotalPrepaidGasExceeded",
                "TotalNumberOfActionsExceeded",
                "AddKeyMethodNamesNumberOfBytesExceeded",
                "AddKeyMethodNameLengthExceeded",
                "IntegerOverflow",
                "InvalidAccountId",
                "ContractSizeExceeded",
                "FunctionCallMethodNameLengthExceeded",
                "FunctionCallArgumentsLengthExceeded",
                "UnsuitableStakingKey",
                "FunctionCallZeroAttachedGas"
            ],
            "props": {}
        },
        "ActorNoPermission": {
            "name": "ActorNoPermission",
            "subtypes": [],
            "props": {
                "account_id": "",
                "actor_id": ""
            }
        },
        "AddKeyAlreadyExists": {
            "name": "AddKeyAlreadyExists",
            "subtypes": [],
            "props": {
                "account_id": "",
                "public_key": ""
            }
        },
        "AddKeyMethodNameLengthExceeded": {
            "name": "AddKeyMethodNameLengthExceeded",
            "subtypes": [],
            "props": {
                "length": "",
                "limit": ""
            }
        },
        "AddKeyMethodNamesNumberOfBytesExceeded": {
            "name": "AddKeyMethodNamesNumberOfBytesExceeded",
            "subtypes": [],
            "props": {
                "limit": "",
                "total_number_of_bytes": ""
            }
        },
        "BalanceMismatchError": {
            "name": "BalanceMismatchError",
            "subtypes": [],
            "props": {
                "final_accounts_balance": "",
                "final_postponed_receipts_balance": "",
                "incoming_receipts_balance": "",
                "incoming_validator_rewards": "",
                "initial_accounts_balance": "",
                "initial_postponed_receipts_balance": "",
                "new_delayed_receipts_balance": "",
                "other_burnt_amount": "",
                "outgoing_receipts_balance": "",
                "processed_delayed_receipts_balance": "",
                "slashed_burnt_amount": "",
                "tx_burnt_amount": ""
            }
        },
        "CostOverflow": {
            "name": "CostOverflow",
            "subtypes": [],
            "props": {}
        },
        "CreateAccountNotAllowed": {
            "name": "CreateAccountNotAllowed",
            "subtypes": [],
            "props": {
                "account_id": "",
                "predecessor_id": ""
            }
        },
        "CreateAccountOnlyByRegistrar": {
            "name": "CreateAccountOnlyByRegistrar",
            "subtypes": [],
            "props": {
                "account_id": "",
                "predecessor_id": "",
                "registrar_account_id": ""
            }
        },
        "DeleteAccountStaking": {
            "name": "DeleteAccountStaking",
            "subtypes": [],
            "props": {
                "account_id": ""
            }
        },
        "DeleteActionMustBeFinal": {
            "name": "DeleteActionMustBeFinal",
            "subtypes": [],
            "props": {}
        },
        "DeleteKeyDoesNotExist": {
            "name": "DeleteKeyDoesNotExist",
            "subtypes": [],
            "props": {
                "account_id": "",
                "public_key": ""
            }
        },
        "DepositWithFunctionCall": {
            "name": "DepositWithFunctionCall",
            "subtypes": [],
            "props": {}
        },
        "Expired": {
            "name": "Expired",
            "subtypes": [],
            "props": {}
        },
        "FunctionCallArgumentsLengthExceeded": {
            "name": "FunctionCallArgumentsLengthExceeded",
            "subtypes": [],
            "props": {
                "length": "",
                "limit": ""
            }
        },
        "FunctionCallMethodNameLengthExceeded": {
            "name": "FunctionCallMethodNameLengthExceeded",
            "subtypes": [],
            "props": {
                "length": "",
                "limit": ""
            }
        },
        "FunctionCallZeroAttachedGas": {
            "name": "FunctionCallZeroAttachedGas",
            "subtypes": [],
            "props": {}
        },
        "InsufficientStake": {
            "name": "InsufficientStake",
            "subtypes": [],
            "props": {
                "account_id": "",
                "minimum_stake": "",
                "stake": ""
            }
        },
        "InvalidAccessKeyError": {
            "name": "InvalidAccessKeyError",
            "subtypes": [
                "AccessKeyNotFound",
                "ReceiverMismatch",
                "MethodNameMismatch",
                "RequiresFullAccess",
                "NotEnoughAllowance",
                "DepositWithFunctionCall"
            ],
            "props": {}
        },
        "InvalidChain": {
            "name": "InvalidChain",
            "subtypes": [],
            "props": {}
        },
        "InvalidDataReceiverId": {
            "name": "InvalidDataReceiverId",
            "subtypes": [],
            "props": {
                "account_id": ""
            }
        },
        "InvalidNonce": {
            "name": "InvalidNonce",
            "subtypes": [],
            "props": {
                "ak_nonce": "",
                "tx_nonce": ""
            }
        },
        "InvalidPredecessorId": {
            "name": "InvalidPredecessorId",
            "subtypes": [],
            "props": {
                "account_id": ""
            }
        },
        "InvalidReceiverId": {
            "name": "InvalidReceiverId",
            "subtypes": [],
            "props": {
                "account_id": ""
            }
        },
        "InvalidSignature": {
            "name": "InvalidSignature",
            "subtypes": [],
            "props": {}
        },
        "InvalidSignerId": {
            "name": "InvalidSignerId",
            "subtypes": [],
            "props": {
                "account_id": ""
            }
        },
        "InvalidTxError": {
            "name": "InvalidTxError",
            "subtypes": [
                "InvalidAccessKeyError",
                "InvalidSignerId",
                "SignerDoesNotExist",
                "InvalidNonce",
                "InvalidReceiverId",
                "InvalidSignature",
                "NotEnoughBalance",
                "LackBalanceForState",
                "CostOverflow",
                "InvalidChain",
                "Expired",
                "ActionsValidation"
            ],
            "props": {}
        },
        "LackBalanceForState": {
            "name": "LackBalanceForState",
            "subtypes": [],
            "props": {
                "account_id": "",
                "amount": ""
            }
        },
        "MethodNameMismatch": {
            "name": "MethodNameMismatch",
            "subtypes": [],
            "props": {
                "method_name": ""
            }
        },
        "NotEnoughAllowance": {
            "name": "NotEnoughAllowance",
            "subtypes": [],
            "props": {
                "account_id": "",
                "allowance": "",
                "cost": "",
                "public_key": ""
            }
        },
        "NotEnoughBalance": {
            "name": "NotEnoughBalance",
            "subtypes": [],
            "props": {
                "balance": "",
                "cost": "",
                "signer_id": ""
            }
        },
        "OnlyImplicitAccountCreationAllowed": {
            "name": "OnlyImplicitAccountCreationAllowed",
            "subtypes": [],
            "props": {
                "account_id": ""
            }
        },
        "ReceiptValidationError": {
            "name": "ReceiptValidationError",
            "subtypes": [
                "InvalidPredecessorId",
                "InvalidReceiverId",
                "InvalidSignerId",
                "InvalidDataReceiverId",
                "ReturnedValueLengthExceeded",
                "NumberInputDataDependenciesExceeded",
                "ActionsValidation"
            ],
            "props": {}
        },
        "ReceiverMismatch": {
            "name": "ReceiverMismatch",
            "subtypes": [],
            "props": {
                "ak_receiver": "",
                "tx_receiver": ""
            }
        },
        "RequiresFullAccess": {
            "name": "RequiresFullAccess",
            "subtypes": [],
            "props": {}
        },
        "SignerDoesNotExist": {
            "name": "SignerDoesNotExist",
            "subtypes": [],
            "props": {
                "signer_id": ""
            }
        },
        "TotalNumberOfActionsExceeded": {
            "name": "TotalNumberOfActionsExceeded",
            "subtypes": [],
            "props": {
                "limit": "",
                "total_number_of_actions": ""
            }
        },
        "TotalPrepaidGasExceeded": {
            "name": "TotalPrepaidGasExceeded",
            "subtypes": [],
            "props": {
                "limit": "",
                "total_prepaid_gas": ""
            }
        },
        "TriesToStake": {
            "name": "TriesToStake",
            "subtypes": [],
            "props": {
                "account_id": "",
                "balance": "",
                "locked": "",
                "stake": ""
            }
        },
        "TriesToUnstake": {
            "name": "TriesToUnstake",
            "subtypes": [],
            "props": {
                "account_id": ""
            }
        },
        "TxExecutionError": {
            "name": "TxExecutionError",
            "subtypes": [
                "ActionError",
                "InvalidTxError"
            ],
            "props": {}
        },
        "UnsuitableStakingKey": {
            "name": "UnsuitableStakingKey",
            "subtypes": [],
            "props": {
                "public_key": ""
            }
        },
        "Closed": {
            "name": "Closed",
            "subtypes": [],
            "props": {}
        },
        "InternalError": {
            "name": "InternalError",
            "subtypes": [],
            "props": {}
        },
        "ServerError": {
            "name": "ServerError",
            "subtypes": [
                "TxExecutionError",
                "Timeout",
                "Closed",
                "InternalError"
            ],
            "props": {}
        },
        "Timeout": {
            "name": "Timeout",
            "subtypes": [],
            "props": {}
        }
    }
}

},{}],228:[function(require,module,exports){
"use strict";var __importDefault=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getErrorTypeFromErrorMessage=exports.formatError=exports.parseResultError=exports.parseRpcError=exports.ServerError=void 0;const types_1=require("@near-js/types"),mustache_1=__importDefault(require("mustache")),format_1=require("../format"),error_messages_json_1=__importDefault(require("./error_messages.json")),rpc_error_schema_json_1=__importDefault(require("./rpc_error_schema.json")),mustacheHelpers={formatNear:()=>(r,e)=>(0,format_1.formatNearAmount)(e(r))};class ServerError extends types_1.TypedError{}exports.ServerError=ServerError;class ServerTransactionError extends ServerError{}function parseRpcError(r){const e={},t=walkSubtype(r,rpc_error_schema_json_1.default.schema,e,""),s=new ServerError(formatError(t,e),t);return Object.assign(s,e),s}function parseResultError(r){const e=parseRpcError(r.status.Failure),t=new ServerTransactionError;return Object.assign(t,e),t.type=e.type,t.message=e.message,t.transaction_outcome=r.transaction_outcome,t}function formatError(r,e){return"string"==typeof error_messages_json_1.default[r]?mustache_1.default.render(error_messages_json_1.default[r],Object.assign(Object.assign({},e),mustacheHelpers)):JSON.stringify(e)}function walkSubtype(r,e,t,s){let o,n,a;for(const t in e){if(isString(r[t]))return r[t];if(isObject(r[t]))o=r[t],n=e[t],a=t;else{if(!isObject(r.kind)||!isObject(r.kind[t]))continue;o=r.kind[t],n=e[t],a=t}}if(o&&n){for(const r of Object.keys(n.props))t[r]=o[r];return walkSubtype(o,e,t,a)}return t.kind=r,s}function getErrorTypeFromErrorMessage(r,e){switch(!0){case/^account .*? does not exist while viewing$/.test(r):case/^Account .*? doesn't exist$/.test(r):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(r):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(r):return"CodeDoesNotExist";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(r):return"InvalidNonce";default:return e}}function isObject(r){return"[object Object]"===Object.prototype.toString.call(r)}function isString(r){return"[object String]"===Object.prototype.toString.call(r)}exports.parseRpcError=parseRpcError,exports.parseResultError=parseResultError,exports.formatError=formatError,exports.getErrorTypeFromErrorMessage=getErrorTypeFromErrorMessage;

},{"../format":229,"./error_messages.json":224,"./rpc_error_schema.json":227,"@near-js/types":219,"mustache":100}],229:[function(require,module,exports){
"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseNearAmount=exports.formatNearAmount=exports.NEAR_NOMINATION=exports.NEAR_NOMINATION_EXP=void 0;const bn_js_1=__importDefault(require("bn.js"));exports.NEAR_NOMINATION_EXP=24,exports.NEAR_NOMINATION=new bn_js_1.default("10",10).pow(new bn_js_1.default(exports.NEAR_NOMINATION_EXP,10));const ROUNDING_OFFSETS=[],BN10=new bn_js_1.default(10);for(let t=0,e=new bn_js_1.default(5);t<exports.NEAR_NOMINATION_EXP;t++,e=e.mul(BN10))ROUNDING_OFFSETS[t]=e;function formatNearAmount(t,e=exports.NEAR_NOMINATION_EXP){const r=new bn_js_1.default(t,10);if(e!==exports.NEAR_NOMINATION_EXP){const t=exports.NEAR_NOMINATION_EXP-e-1;t>0&&r.iadd(ROUNDING_OFFSETS[t])}const N=(t=r.toString()).substring(0,t.length-exports.NEAR_NOMINATION_EXP)||"0",n=t.substring(t.length-exports.NEAR_NOMINATION_EXP).padStart(exports.NEAR_NOMINATION_EXP,"0").substring(0,e);return trimTrailingZeroes(`${formatWithCommas(N)}.${n}`)}function parseNearAmount(t){if(!t)return null;const e=(t=cleanupAmount(t)).split("."),r=e[0],N=e[1]||"";if(e.length>2||N.length>exports.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${t}' as NEAR amount`);return trimLeadingZeroes(r+N.padEnd(exports.NEAR_NOMINATION_EXP,"0"))}function cleanupAmount(t){return t.replace(/,/g,"").trim()}function trimTrailingZeroes(t){return t.replace(/\.?0*$/,"")}function trimLeadingZeroes(t){return""===(t=t.replace(/^0+/,""))?"0":t}function formatWithCommas(t){const e=/(-?\d+)(\d{3})/;for(;e.test(t);)t=t.replace(e,"$1,$2");return t}exports.formatNearAmount=formatNearAmount,exports.parseNearAmount=parseNearAmount;

},{"bn.js":69}],230:[function(require,module,exports){
"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,r,t,o){void 0===o&&(o=t);var i=Object.getOwnPropertyDescriptor(r,t);i&&("get"in i?r.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,o,i)}:function(e,r,t,o){void 0===o&&(o=t),e[o]=r[t]}),__exportStar=this&&this.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||__createBinding(r,e,t)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(require("./constants"),exports),__exportStar(require("./errors"),exports),__exportStar(require("./format"),exports),__exportStar(require("./logging"),exports),__exportStar(require("./provider"),exports),__exportStar(require("./validators"),exports);

},{"./constants":223,"./errors":226,"./format":229,"./logging":231,"./provider":232,"./validators":233}],231:[function(require,module,exports){
(function (process){(function (){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.printTxOutcomeLogs=exports.printTxOutcomeLogsAndFailures=void 0;const errors_1=require("./errors"),SUPPRESS_LOGGING=!!process.env.NEAR_NO_LOGS;function printTxOutcomeLogsAndFailures({contractId:o,outcome:t}){if(SUPPRESS_LOGGING)return;const e=[t.transaction_outcome,...t.receipts_outcome].reduce((o,t)=>{const e="object"==typeof t.outcome.status&&"object"==typeof t.outcome.status.Failure;return t.outcome.logs.length||e?o.concat({receiptIds:t.outcome.receipt_ids,logs:t.outcome.logs,failure:"object"==typeof t.outcome.status&&void 0!==t.outcome.status.Failure?(0,errors_1.parseRpcError)(t.outcome.status.Failure):null}):o},[]);for(const t of e)console.log(`Receipt${t.receiptIds.length>1?"s":""}: ${t.receiptIds.join(", ")}`),printTxOutcomeLogs({contractId:o,logs:t.logs,prefix:"\t"}),t.failure&&console.warn(`\tFailure [${o}]: ${t.failure}`)}function printTxOutcomeLogs({contractId:o,logs:t,prefix:e=""}){if(!SUPPRESS_LOGGING)for(const r of t)console.log(`${e}Log [${o}]: ${r}`)}exports.printTxOutcomeLogsAndFailures=printTxOutcomeLogsAndFailures,exports.printTxOutcomeLogs=printTxOutcomeLogs;

}).call(this)}).call(this,require('_process'))
},{"./errors":226,"_process":106}],232:[function(require,module,exports){
(function (Buffer){(function (){
"use strict";function getTransactionLastResult(t){if("object"==typeof t.status&&"string"==typeof t.status.SuccessValue){const e=Buffer.from(t.status.SuccessValue,"base64").toString();try{return JSON.parse(e)}catch(t){return e}}return null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTransactionLastResult=void 0,exports.getTransactionLastResult=getTransactionLastResult;

}).call(this)}).call(this,require("buffer").Buffer)
},{"buffer":74}],233:[function(require,module,exports){
"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.diffEpochValidators=exports.findSeatPrice=void 0;const bn_js_1=__importDefault(require("bn.js")),depd_1=__importDefault(require("depd"));function findSeatPrice(e,t,a,r){if(r&&r<49)return findSeatPriceForProtocolBefore49(e,t);if(!a){(0,depd_1.default)("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),a=[1,6250]}return findSeatPriceForProtocolAfter49(e,t,a)}function findSeatPriceForProtocolBefore49(e,t){const a=e.map(e=>new bn_js_1.default(e.stake,10)).sort((e,t)=>e.cmp(t)),r=new bn_js_1.default(t),n=a.reduce((e,t)=>e.add(t));if(n.lt(r))throw new Error("Stakes are below seats");let o=new bn_js_1.default(1),d=n.add(new bn_js_1.default(1));for(;!o.eq(d.sub(new bn_js_1.default(1)));){const e=o.add(d).div(new bn_js_1.default(2));let t=!1,n=new bn_js_1.default(0);for(let d=0;d<a.length;++d)if((n=n.add(a[d].div(e))).gte(r)){o=e,t=!0;break}t||(d=e)}return o}function findSeatPriceForProtocolAfter49(e,t,a){if(2!=a.length)throw Error("minimumStakeRatio should have 2 elements");const r=e.map(e=>new bn_js_1.default(e.stake,10)).sort((e,t)=>e.cmp(t)),n=r.reduce((e,t)=>e.add(t));return e.length<t?n.mul(new bn_js_1.default(a[0])).div(new bn_js_1.default(a[1])):r[0].add(new bn_js_1.default(1))}function diffEpochValidators(e,t){const a=new Map;e.forEach(e=>a.set(e.account_id,e));const r=new Set(t.map(e=>e.account_id));return{newValidators:t.filter(e=>!a.has(e.account_id)),removedValidators:e.filter(e=>!r.has(e.account_id)),changedValidators:t.filter(e=>a.has(e.account_id)&&a.get(e.account_id).stake!=e.stake).map(e=>({current:a.get(e.account_id),next:e}))}}exports.findSeatPrice=findSeatPrice,exports.diffEpochValidators=diffEpochValidators;

},{"bn.js":69,"depd":82}],234:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalletConnection=exports.ConnectedWalletAccount=exports.Near=void 0;var near_1=require("./near");Object.defineProperty(exports,"Near",{enumerable:!0,get:function(){return near_1.Near}});var wallet_account_1=require("./wallet_account");Object.defineProperty(exports,"ConnectedWalletAccount",{enumerable:!0,get:function(){return wallet_account_1.ConnectedWalletAccount}}),Object.defineProperty(exports,"WalletConnection",{enumerable:!0,get:function(){return wallet_account_1.WalletConnection}});

},{"./near":235,"./wallet_account":236}],235:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,c){function i(t){try{s(o.next(t))}catch(t){c(t)}}function a(t){try{s(o.throw(t))}catch(t){c(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,a)}s((o=o.apply(t,e||[])).next())})},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Near=void 0;const accounts_1=require("@near-js/accounts"),bn_js_1=__importDefault(require("bn.js"));class Near{constructor(t){var e;if(this.config=t,this.connection=accounts_1.Connection.fromConfig({networkId:t.networkId,provider:{type:"JsonRpcProvider",args:{url:t.nodeUrl,headers:t.headers}},signer:t.signer||{type:"InMemorySigner",keyStore:t.keyStore||(null===(e=t.deps)||void 0===e?void 0:e.keyStore)},jsvmAccountId:t.jsvmAccountId||`jsvm.${t.networkId}`}),t.masterAccount){const e=t.initialBalance?new bn_js_1.default(t.initialBalance):new bn_js_1.default("500000000000000000000000000");this.accountCreator=new accounts_1.LocalAccountCreator(new accounts_1.Account(this.connection,t.masterAccount),e)}else t.helperUrl?this.accountCreator=new accounts_1.UrlAccountCreator(this.connection,t.helperUrl):this.accountCreator=null}account(t){return __awaiter(this,void 0,void 0,function*(){return new accounts_1.Account(this.connection,t)})}createAccount(t,e){return __awaiter(this,void 0,void 0,function*(){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return yield this.accountCreator.createAccount(t,e),new accounts_1.Account(this.connection,t)})}}exports.Near=Near;

},{"@near-js/accounts":155,"bn.js":69}],236:[function(require,module,exports){
(function (Buffer){(function (){
"use strict";var __awaiter=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function r(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,r)}c((i=i.apply(e,t||[])).next())})},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConnectedWalletAccount=exports.WalletConnection=void 0;const accounts_1=require("@near-js/accounts"),crypto_1=require("@near-js/crypto"),transactions_1=require("@near-js/transactions"),bn_js_1=__importDefault(require("bn.js")),borsh_1=require("borsh"),LOGIN_WALLET_URL_SUFFIX="/login/",MULTISIG_HAS_METHOD="add_request_and_confirm",LOCAL_STORAGE_KEY_SUFFIX="_wallet_auth_key",PENDING_ACCESS_KEY_PREFIX="pending_key";class WalletConnection{constructor(e,t){if("string"!=typeof t)throw new Error("Please define a clear appKeyPrefix for this WalletConnection instance as the second argument to the constructor");if("undefined"==typeof window)return new Proxy(this,{get:(e,t)=>"isSignedIn"===t?()=>!1:"getAccountId"===t?()=>"":e[t]&&"function"==typeof e[t]?()=>{throw new Error("No window found in context, please ensure you are using WalletConnection on the browser")}:e[t]});this._near=e;const n=t+LOCAL_STORAGE_KEY_SUFFIX,i=JSON.parse(window.localStorage.getItem(n));this._networkId=e.config.networkId,this._walletBaseUrl=e.config.walletUrl,t=t||e.config.contractName||"default",this._keyStore=e.connection.signer.keyStore,this._authData=i||{allKeys:[]},this._authDataKey=n,this.isSignedIn()||(this._completeSignInPromise=this._completeSignInWithAccessKey())}isSignedIn(){return!!this._authData.accountId}isSignedInAsync(){return __awaiter(this,void 0,void 0,function*(){return this._completeSignInPromise?(yield this._completeSignInPromise,this.isSignedIn()):this.isSignedIn()})}getAccountId(){return this._authData.accountId||""}requestSignIn({contractId:e,methodNames:t,successUrl:n,failureUrl:i}){return __awaiter(this,void 0,void 0,function*(){const a=new URL(window.location.href),o=new URL(this._walletBaseUrl+LOGIN_WALLET_URL_SUFFIX);if(o.searchParams.set("success_url",n||a.href),o.searchParams.set("failure_url",i||a.href),e){const t=yield this._near.account(e);yield t.state(),o.searchParams.set("contract_id",e);const n=crypto_1.KeyPair.fromRandom("ed25519");o.searchParams.set("public_key",n.getPublicKey().toString()),yield this._keyStore.setKey(this._networkId,PENDING_ACCESS_KEY_PREFIX+n.getPublicKey(),n)}t&&t.forEach(e=>{o.searchParams.append("methodNames",e)}),window.location.assign(o.toString())})}requestSignTransactions({transactions:e,meta:t,callbackUrl:n}){return __awaiter(this,void 0,void 0,function*(){const i=new URL(window.location.href),a=new URL("sign",this._walletBaseUrl);a.searchParams.set("transactions",e.map(e=>(0,borsh_1.serialize)(transactions_1.SCHEMA,e)).map(e=>Buffer.from(e).toString("base64")).join(",")),a.searchParams.set("callbackUrl",n||i.href),t&&a.searchParams.set("meta",t),window.location.assign(a.toString())})}_completeSignInWithAccessKey(){return __awaiter(this,void 0,void 0,function*(){const e=new URL(window.location.href),t=e.searchParams.get("public_key")||"",n=(e.searchParams.get("all_keys")||"").split(","),i=e.searchParams.get("account_id")||"";if(i){const e={accountId:i,allKeys:n};window.localStorage.setItem(this._authDataKey,JSON.stringify(e)),t&&(yield this._moveKeyFromTempToPermanent(i,t)),this._authData=e}e.searchParams.delete("public_key"),e.searchParams.delete("all_keys"),e.searchParams.delete("account_id"),e.searchParams.delete("meta"),e.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,e.toString())})}_moveKeyFromTempToPermanent(e,t){return __awaiter(this,void 0,void 0,function*(){const n=yield this._keyStore.getKey(this._networkId,PENDING_ACCESS_KEY_PREFIX+t);yield this._keyStore.setKey(this._networkId,e,n),yield this._keyStore.removeKey(this._networkId,PENDING_ACCESS_KEY_PREFIX+t)})}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new ConnectedWalletAccount(this,this._near.connection,this._authData.accountId)),this._connectedAccount}}exports.WalletConnection=WalletConnection;class ConnectedWalletAccount extends accounts_1.Account{constructor(e,t,n){super(t,n),this.walletConnection=e}signAndSendTransaction({receiverId:e,actions:t,walletMeta:n,walletCallbackUrl:i=window.location.href}){const a=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter(this,void 0,void 0,function*(){const o=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let s=yield this.accessKeyForTransaction(e,t,o);if(!s)throw new Error(`Cannot find matching key for transaction sent to ${e}`);if(o&&o.toString()===s.public_key)try{return yield a.signAndSendTransaction.call(this,{receiverId:e,actions:t})}catch(n){if("NotEnoughAllowance"!==n.type)throw n;s=yield this.accessKeyForTransaction(e,t)}const r=yield this.connection.provider.block({finality:"final"}),c=(0,borsh_1.baseDecode)(r.header.hash),l=crypto_1.PublicKey.from(s.public_key),u=s.access_key.nonce.add(new bn_js_1.default(1)),d=(0,transactions_1.createTransaction)(this.accountId,l,e,u,t,c);return yield this.walletConnection.requestSignTransactions({transactions:[d],meta:n,callbackUrl:i}),new Promise((e,t)=>{setTimeout(()=>{t(new Error("Failed to redirect to sign transaction"))},1e3)})})}accessKeyMatchesTransaction(e,t,n){return __awaiter(this,void 0,void 0,function*(){const{access_key:{permission:i}}=e;if("FullAccess"===i)return!0;if(i.FunctionCall){const{receiver_id:e,method_names:a}=i.FunctionCall;if(e===this.accountId&&a.includes(MULTISIG_HAS_METHOD))return!0;if(e===t){if(1!==n.length)return!1;const[{functionCall:e}]=n;return e&&(!e.deposit||"0"===e.deposit.toString())&&(0===a.length||a.includes(e.methodName))}}return!1})}accessKeyForTransaction(e,t,n){return __awaiter(this,void 0,void 0,function*(){const i=yield this.getAccessKeys();if(n){const a=i.find(e=>e.public_key.toString()===n.toString());if(a&&(yield this.accessKeyMatchesTransaction(a,e,t)))return a}const a=this.walletConnection._authData.allKeys;for(const n of i)if(-1!==a.indexOf(n.public_key)&&(yield this.accessKeyMatchesTransaction(n,e,t)))return n;return null})}}exports.ConnectedWalletAccount=ConnectedWalletAccount;

}).call(this)}).call(this,require("buffer").Buffer)
},{"@near-js/accounts":155,"@near-js/crypto":158,"@near-js/transactions":212,"bn.js":69,"borsh":70,"buffer":74}]},{},[169]);
